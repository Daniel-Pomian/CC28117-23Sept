<?xml version="1.0" encoding="UTF-8"?>
<con:testCase id="7f830343-7ae8-47ed-96e8-27cce5c6d6de" discardOkResults="false" failOnError="false" failTestCaseOnErrors="true" keepSession="false" name="GoodCase-MiPayService-OperationInfo" searchProperties="true" timeout="0" maxResults="0" wsrmEnabled="false" wsrmVersion="1.0" wsrmAckTo="" amfAuthorisation="false" amfEndpoint="" amfLogin="" amfPassword="" xmlns:con="http://eviware.com/soapui/config">
  <con:description>Tests positive business cases fror mipay  evolution service based on documentation in svn:
 ...src\trunk\SRs\Interfaces\MIPAY\ST_TD_DRC_U-036_Mipay_Interface_Specification-V2.0.2.docx

Please note:
MiPay is not a brand, but partner.
Based on R16-6b_multibrand_matrix.xlsx from GID:
https://mucsggit02.sg.de.pri.o2.com/directrecharge/drc-complete/blob/R16-6b/develop/server/core-server/src/test/specification/R16-6b_multibrand_matrix.xlsx
only followed brand is allowed to use mipay service:
SP_NAME	SP_SAS_CODE	Limit_Cycle	SP_Internal_Code	SP_Active	BRAND_ID	Brand_Name	TENANT_ID	Tenant_Name	Partner_*	Partner_KLMTA	Partner_MIPAY	Partner_SPAIN	Partner_RATOR	Partner_TCHIB	Partner_MO_DE	Partner_STARC	Partner_DRILL	Partner_TUI_C	Partner_PPIT	Partner_V SRV	Partner_V ZVD	Partner_1006	Partner_98765	Partner_65432	Partner_54321	Partner_01004	Partner_01005	Partner_GAD M	Partner_01002	Partner_01006	Partner_FAG M	Partner_01003	Partner_01009	Partner_FINIT	Partner_01001	Partner_01007	Partner_MCE	Channel_atm	Channel_directdebit	Channel_banktransfer	Channel_voucherredemtion	Channel_creditcard	Channel_drservice	Channel_operationinfo	Channel_driso8583service	Payusecase_ID_ON_DEMAND	Payusecase_ID_Monthly	Payusecase_ID_ON_DEMAND_SMS	Payusecase_ID_LOW_BALANCE_THRESHOLD	Payusecase_ID_PACK_PAYMENT	
Loop	SP901	30Days	LO	Yes	1	o2	1	TEF	Yes	No	Yes	Yes	Yes	Yes	No	No	No	No	Yes	Yes	Yes	Yes	Yes	Yes	Yes	No	No	Yes	No	No	Yes	No	No	Yes	No	No	Yes	Yes	Yes	Yes	Yes	No	Yes	Yes	No	Yes	Yes	Yes	Yes	Yes</con:description>
  <con:settings>
    <con:setting id="com.smartbear.ready.history.view.ClientResultsView$OptionsForm@errors_only">true</con:setting>
    <con:setting id="com.smartbear.ready.history.view.ClientResultsView$OptionsForm@follow">true</con:setting>
    <con:setting id="7f830343-7ae8-47ed-96e8-27cce5c6d6defileName">GoodCase-MiPayService-OperationInfo</con:setting>
  </con:settings>
  <con:savedRecentRuns>1</con:savedRecentRuns>
  <con:testStep type="request" name="_DRCGUI-PPIT_OPERATION_INFO_PROPAGATION_ACTION" id="1a3e999e-36d0-4576-9308-8b91ca827616">
    <con:settings/>
    <con:config xsi:type="con:RequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
      <con:interface>DrcGuiSoapBinding</con:interface>
      <con:operation>triggerJobManager</con:operation>
      <con:request name="_DRCGUI-PPIT_OPERATION_INFO_PROPAGATION_ACTION" id="7e3d55e2-60ca-4b78-8ac4-2ff501eb12f8" defaultOutgoingWss="" defaultIncomingWss="">
        <con:settings>
          <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
        </con:settings>
        <con:encoding>UTF-8</con:encoding>
        <con:endpoint>${#Project#drc-GUIService-URL}</con:endpoint>
        <con:request><![CDATA[<soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/" xmlns:type="http://directrecharge.o2.com/ws/drcgui/v1/" xmlns:v1="http://directrecharge.o2.com/ws/common/job/v1/">\r
   <soapenv:Header/>\r
   <soapenv:Body>\r
      <v1:triggerJobManager>\r
         <jobName>com.o2.directrecharge.core.job.JobAction.PPIT_OPERATION_INFO_PROPAGATION_ACTION</jobName>\r
         <repeat>true</repeat>\r
      </v1:triggerJobManager>\r
   </soapenv:Body>\r
</soapenv:Envelope>]]></con:request>
        <con:assertion type="SOAP Response" id="a92ffbf7-5b12-4e8d-b9eb-9f1f7e4b22b5"/>
        <con:assertion type="Schema Compliance" id="359823be-e3db-4d71-92b6-318c8803a95b" name="Schema Compliance">
          <con:configuration>
            <definition/>
          </con:configuration>
        </con:assertion>
        <con:assertion type="SOAP Fault Assertion" id="a7c67a4c-c54f-47e8-9b74-2cbb069e4a34" name="Not SOAP Fault"/>
        <con:credentials>
          <con:selectedAuthProfile>Basic</con:selectedAuthProfile>
          <con:addedBasicAuthenticationTypes>Basic</con:addedBasicAuthenticationTypes>
          <con:authType>Global HTTP Settings</con:authType>
        </con:credentials>
        <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
        <con:jmsPropertyConfig/>
        <con:wsaConfig mustUnderstand="NONE" version="200508"/>
        <con:wsrmConfig version="1.2"/>
        <con:environmentSpec>
          <con:entry environmentId="8bb64a40-b6a3-45c2-a26b-7f6c797dbea5">
            <con:authProfile>Basic</con:authProfile>
          </con:entry>
          <con:entry environmentId="ff1a32e2-ce69-4c5a-923a-710f216e83c9">
            <con:authProfile>Basic</con:authProfile>
          </con:entry>
          <con:entry environmentId="96753c0f-e806-4b6f-b398-e4e8dbc7bce1">
            <con:authProfile>Basic</con:authProfile>
          </con:entry>
          <con:entry environmentId="d4fb7d9b-be04-4609-bf0a-ed3a22d5075f">
            <con:authProfile>Basic</con:authProfile>
          </con:entry>
          <con:entry environmentId="e385afea-1153-4d90-83b9-3b49a724f0ea">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
        </con:environmentSpec>
      </con:request>
    </con:config>
  </con:testStep>
  <con:testStep type="httprequest" name="_HTTP-ClearMockLogs" id="56258709-c8d1-43ad-be54-def0cef24573">
    <con:settings/>
    <con:config method="GET" xsi:type="con:HttpRequest" id="56778dc8-8217-495c-b383-214c79b1d8a9" name="_HTTP-ClearMockLogs" downloadIncludedResources="false" postQueryString="false" mediaType="application/xml" multiValueDelimiter="" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
      <con:settings>
        <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
        <con:setting id="com.eviware.soapui.settings.CommonSettings@entitizeProperties">false</con:setting>
        <con:setting id="com.eviware.soapui.impl.support.AbstractHttpRequest@dump-file"/>
        <con:setting id="discardResponse">false</con:setting>
      </con:settings>
      <con:encoding/>
      <con:endpoint>${#Project#drc-Mocks-URL}log?clear</con:endpoint>
      <con:request/>
      <con:assertion type="Valid HTTP Status Codes" id="153285f9-6e44-4544-a2fc-7890d817d456" name="Valid HTTP Status Codes">
        <con:settings/>
        <con:configuration>
          <codes>200</codes>
        </con:configuration>
      </con:assertion>
      <con:credentials>
        <con:selectedAuthProfile>No Authorization</con:selectedAuthProfile>
        <con:authType>No Authorization</con:authType>
      </con:credentials>
      <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
      <con:parameters/>
      <con:environmentSpec>
        <con:entry environmentId="8bb64a40-b6a3-45c2-a26b-7f6c797dbea5">
          <con:authProfile>No Authorization</con:authProfile>
        </con:entry>
        <con:entry environmentId="ff1a32e2-ce69-4c5a-923a-710f216e83c9">
          <con:authProfile>No Authorization</con:authProfile>
        </con:entry>
        <con:entry environmentId="96753c0f-e806-4b6f-b398-e4e8dbc7bce1">
          <con:authProfile>No Authorization</con:authProfile>
        </con:entry>
        <con:entry environmentId="d4fb7d9b-be04-4609-bf0a-ed3a22d5075f">
          <con:authProfile>No Authorization</con:authProfile>
        </con:entry>
        <con:entry environmentId="e385afea-1153-4d90-83b9-3b49a724f0ea">
          <con:authProfile>Inherit From Parent</con:authProfile>
        </con:entry>
      </con:environmentSpec>
    </con:config>
  </con:testStep>
  <con:testStep type="request" id="5181cea9-c76b-4e56-812d-cf19fa772816" name="810P_operationInfo-MandParams-Status=0">
    <con:settings/>
    <con:config xsi:type="con:RequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
      <con:interface>DirectRechargeEvolutionServiceForMipaySoapBinding</con:interface>
      <con:operation>operationInfo</con:operation>
      <con:request name="810P_operationInfo-MandParams-Status=0" outgoingWss="" incomingWss="" timeout="" sslKeystore="" useWsAddressing="false" useWsReliableMessaging="false" wssPasswordType="" id="0a3ba30f-3d1d-4045-a5ac-9cd993b0e36e">
        <con:settings>
          <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
        </con:settings>
        <con:encoding>UTF-8</con:encoding>
        <con:endpoint>${#Project#drc-DirectRechargeEvolutionServiceForMipay-URL}</con:endpoint>
        <con:request><![CDATA[<soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/" xmlns:oper="http://directrecharge.o2.com/ws/directrechargeevolutionservice/operationinfo/">
   <soapenv:Header/>
   <soapenv:Body>
      <oper:operationInfo>
         <operationInfoDto>
            <operationIdentifier>${#TestSuite#MiPay-OperationIdent}</operationIdentifier>
            <msisdn>${#Project#MSISDN-chargeCustomer-OK}</msisdn>
            <status>${#TestSuite#MiPay-Status-OK}</status>
            <!--type: string-->
            <externalReferenceId>${#Project#GUID_Moved-}</externalReferenceId>
         </operationInfoDto>
      </oper:operationInfo>
   </soapenv:Body>
</soapenv:Envelope>]]></con:request>
        <con:assertion type="SOAP Response" id="9a3c6ee2-1c62-49a5-854f-f5f6a2828c7a" name="SOAP Response"/>
        <con:assertion type="Schema Compliance" id="9351c8ff-e3c2-43f2-a981-27aa0215216e" name="Schema Compliance">
          <con:configuration/>
        </con:assertion>
        <con:assertion type="SOAP Fault Assertion" id="6b276304-217a-4236-b55f-ea9a38fb91dc" name="Not SOAP Fault"/>
        <con:assertion type="XPath Match" id="b24dd6b0-34f6-4eb4-9399-13eca7f2949c" name="Check for existence of [ns3:operationInfoResponse]">
          <con:configuration>
            <path>declare namespace ns3='http://directrecharge.o2.com/ws/directrechargeevolutionservice/operationinfo/';
exists( //ns3:operationInfoResponse)</path>
            <content>true</content>
            <allowWildcards>false</allowWildcards>
            <ignoreNamspaceDifferences>true</ignoreNamspaceDifferences>
            <ignoreComments>true</ignoreComments>
          </con:configuration>
        </con:assertion>
        <con:credentials>
          <con:selectedAuthProfile>No Authorization</con:selectedAuthProfile>
          <con:authType>No Authorization</con:authType>
        </con:credentials>
        <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
        <con:wsaConfig mustUnderstand="NONE" version="200508" action="http://directrecharge.o2.com/ws/directrechargeevolutionservice/DirectRechargeEvolutionServiceForMipayPortType/operationInfo"/>
        <con:wsrmConfig version="1.2"/>
        <con:environmentSpec>
          <con:entry environmentId="ff1a32e2-ce69-4c5a-923a-710f216e83c9">
            <con:authProfile>No Authorization</con:authProfile>
          </con:entry>
          <con:entry environmentId="96753c0f-e806-4b6f-b398-e4e8dbc7bce1">
            <con:authProfile>No Authorization</con:authProfile>
          </con:entry>
          <con:entry environmentId="d4fb7d9b-be04-4609-bf0a-ed3a22d5075f">
            <con:authProfile>No Authorization</con:authProfile>
          </con:entry>
          <con:entry environmentId="e385afea-1153-4d90-83b9-3b49a724f0ea">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
        </con:environmentSpec>
      </con:request>
    </con:config>
  </con:testStep>
  <con:testStep type="request" name="815P_DRCGUI-PPIT_OPERATION_INFO_PROPAGATION_ACTION" id="ed544bc1-f277-43f4-96f9-d15ab4edf5d0">
    <con:settings/>
    <con:config xsi:type="con:RequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
      <con:interface>DrcGuiSoapBinding</con:interface>
      <con:operation>triggerJobManager</con:operation>
      <con:request name="815P_DRCGUI-PPIT_OPERATION_INFO_PROPAGATION_ACTION" id="7e3d55e2-60ca-4b78-8ac4-2ff501eb12f8" defaultOutgoingWss="" defaultIncomingWss="">
        <con:settings>
          <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
        </con:settings>
        <con:encoding>UTF-8</con:encoding>
        <con:endpoint>${#Project#drc-GUIService-URL}</con:endpoint>
        <con:request><![CDATA[<soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/" xmlns:type="http://directrecharge.o2.com/ws/drcgui/v1/" xmlns:v1="http://directrecharge.o2.com/ws/common/job/v1/">\r
   <soapenv:Header/>\r
   <soapenv:Body>\r
      <v1:triggerJobManager>\r
         <jobName>com.o2.directrecharge.core.job.JobAction.PPIT_OPERATION_INFO_PROPAGATION_ACTION</jobName>\r
         <repeat>true</repeat>\r
      </v1:triggerJobManager>\r
   </soapenv:Body>\r
</soapenv:Envelope>]]></con:request>
        <con:assertion type="SOAP Response" id="a92ffbf7-5b12-4e8d-b9eb-9f1f7e4b22b5"/>
        <con:assertion type="Schema Compliance" id="8963b493-35c5-481b-a43b-db28b5df2188" name="Schema Compliance">
          <con:configuration>
            <definition/>
          </con:configuration>
        </con:assertion>
        <con:assertion type="SOAP Fault Assertion" id="a7c67a4c-c54f-47e8-9b74-2cbb069e4a34" name="Not SOAP Fault"/>
        <con:assertion type="XPath Match" id="85da9fd4-76f9-4fee-b794-d895200ba8a7" name="Check count of [taskId]=0">
          <con:configuration>
            <path>declare namespace ns2='http://directrecharge.o2.com/ws/common/job/v1/';
count( //ns2:triggerJobManagerResponse/taskId)</path>
            <content>0</content>
            <allowWildcards>false</allowWildcards>
            <ignoreNamspaceDifferences>true</ignoreNamspaceDifferences>
            <ignoreComments>true</ignoreComments>
          </con:configuration>
        </con:assertion>
        <con:credentials>
          <con:selectedAuthProfile>Basic</con:selectedAuthProfile>
          <con:addedBasicAuthenticationTypes>Basic</con:addedBasicAuthenticationTypes>
          <con:authType>Global HTTP Settings</con:authType>
        </con:credentials>
        <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
        <con:jmsPropertyConfig/>
        <con:wsaConfig mustUnderstand="NONE" version="200508"/>
        <con:wsrmConfig version="1.2"/>
        <con:environmentSpec>
          <con:entry environmentId="8bb64a40-b6a3-45c2-a26b-7f6c797dbea5">
            <con:authProfile>Basic</con:authProfile>
          </con:entry>
          <con:entry environmentId="ff1a32e2-ce69-4c5a-923a-710f216e83c9">
            <con:authProfile>Basic</con:authProfile>
          </con:entry>
          <con:entry environmentId="96753c0f-e806-4b6f-b398-e4e8dbc7bce1">
            <con:authProfile>Basic</con:authProfile>
          </con:entry>
          <con:entry environmentId="d4fb7d9b-be04-4609-bf0a-ed3a22d5075f">
            <con:authProfile>Basic</con:authProfile>
          </con:entry>
          <con:entry environmentId="e385afea-1153-4d90-83b9-3b49a724f0ea">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
        </con:environmentSpec>
      </con:request>
    </con:config>
  </con:testStep>
  <con:testStep type="datasource" name="820P_DataSource-StatusCodes" id="3a6cb398-9ef1-4167-8f22-5c802a55b4bf">
    <con:description>Tests Status Codes from specification</con:description>
    <con:settings/>
    <con:config xsi:type="con:DataSourceStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
      <con:dataSource type="Grid">
        <con:configuration><check><![CDATA[<xml-fragment><con:entry xmlns:con="http://eviware.com/soapui/config">true</con:entry><con:entry xmlns:con="http://eviware.com/soapui/config">true</con:entry><con:entry xmlns:con="http://eviware.com/soapui/config">true</con:entry><con:entry xmlns:con="http://eviware.com/soapui/config">true</con:entry><con:entry xmlns:con="http://eviware.com/soapui/config">true</con:entry><con:entry xmlns:con="http://eviware.com/soapui/config">true</con:entry><con:entry xmlns:con="http://eviware.com/soapui/config">true</con:entry><con:entry xmlns:con="http://eviware.com/soapui/config">true</con:entry><con:entry xmlns:con="http://eviware.com/soapui/config">true</con:entry><con:entry xmlns:con="http://eviware.com/soapui/config">true</con:entry><con:entry xmlns:con="http://eviware.com/soapui/config">true</con:entry></xml-fragment>]]></check><row><![CDATA[<xml-fragment><con:entry xmlns:con="http://eviware.com/soapui/config">100</con:entry><con:entry xmlns:con="http://eviware.com/soapui/config">Invalid MSISDN</con:entry><con:entry xmlns:con="http://eviware.com/soapui/config"/></xml-fragment>]]></row><row><![CDATA[<xml-fragment><con:entry xmlns:con="http://eviware.com/soapui/config">101</con:entry><con:entry xmlns:con="http://eviware.com/soapui/config">Invalid amount</con:entry><con:entry xmlns:con="http://eviware.com/soapui/config"/></xml-fragment>]]></row><row><![CDATA[<xml-fragment><con:entry xmlns:con="http://eviware.com/soapui/config">102</con:entry><con:entry xmlns:con="http://eviware.com/soapui/config">All other validation errors</con:entry><con:entry xmlns:con="http://eviware.com/soapui/config"/></xml-fragment>]]></row><row><![CDATA[<xml-fragment><con:entry xmlns:con="http://eviware.com/soapui/config">200</con:entry><con:entry xmlns:con="http://eviware.com/soapui/config">Already in progress: a request with the same data is currently processing by another thread</con:entry><con:entry xmlns:con="http://eviware.com/soapui/config"/></xml-fragment>]]></row><row><![CDATA[<xml-fragment><con:entry xmlns:con="http://eviware.com/soapui/config">201</con:entry><con:entry xmlns:con="http://eviware.com/soapui/config">unknown problem within processing chain. the data can be inconsistent</con:entry><con:entry xmlns:con="http://eviware.com/soapui/config"/></xml-fragment>]]></row><row><![CDATA[<xml-fragment><con:entry xmlns:con="http://eviware.com/soapui/config">202</con:entry><con:entry xmlns:con="http://eviware.com/soapui/config">Internal error</con:entry><con:entry xmlns:con="http://eviware.com/soapui/config"/></xml-fragment>]]></row><row><![CDATA[<xml-fragment><con:entry xmlns:con="http://eviware.com/soapui/config">300</con:entry><con:entry xmlns:con="http://eviware.com/soapui/config">PSP not available</con:entry><con:entry xmlns:con="http://eviware.com/soapui/config"/></xml-fragment>]]></row><row><![CDATA[<xml-fragment><con:entry xmlns:con="http://eviware.com/soapui/config">301</con:entry><con:entry xmlns:con="http://eviware.com/soapui/config">unexpected error from PSP.</con:entry><con:entry xmlns:con="http://eviware.com/soapui/config"/></xml-fragment>]]></row><row><![CDATA[<xml-fragment><con:entry xmlns:con="http://eviware.com/soapui/config">302</con:entry><con:entry xmlns:con="http://eviware.com/soapui/config">Charging rejected by PSP. the original error code from PSP will be delivered with pspResultCode element</con:entry><con:entry xmlns:con="http://eviware.com/soapui/config"/></xml-fragment>]]></row><row><![CDATA[<xml-fragment><con:entry xmlns:con="http://eviware.com/soapui/config">303</con:entry><con:entry xmlns:con="http://eviware.com/soapui/config">PSP unknown customer.</con:entry><con:entry xmlns:con="http://eviware.com/soapui/config"/></xml-fragment>]]></row><row><![CDATA[<xml-fragment><con:entry xmlns:con="http://eviware.com/soapui/config">304</con:entry><con:entry xmlns:con="http://eviware.com/soapui/config">PSP insufficient balance.</con:entry><con:entry xmlns:con="http://eviware.com/soapui/config"/></xml-fragment>]]></row><recognizeAsPlainText>true</recognizeAsPlainText></con:configuration>
      </con:dataSource>
      <con:preload>true</con:preload>
      <con:property>status</con:property>
      <con:property>Description</con:property>
      <con:startRow/>
      <con:endRow/>
      <con:recordsPerIteration>1</con:recordsPerIteration>
      <con:completeLastOperation>false</con:completeLastOperation>
      <con:trimValues>false</con:trimValues>
      <con:entitizeValues>false</con:entitizeValues>
      <con:restartOnRun>true</con:restartOnRun>
      <con:expandProperties>false</con:expandProperties>
    </con:config>
  </con:testStep>
  <con:testStep type="request" id="93f3bbee-a446-48a3-bf0b-25a4aaa3a0c0" name="830P_operationInfo-AllParams">
    <con:settings/>
    <con:config xsi:type="con:RequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
      <con:interface>DirectRechargeEvolutionServiceForMipaySoapBinding</con:interface>
      <con:operation>operationInfo</con:operation>
      <con:request name="830P_operationInfo-AllParams" outgoingWss="" incomingWss="" timeout="" sslKeystore="" useWsAddressing="false" useWsReliableMessaging="false" wssPasswordType="" id="0a3ba30f-3d1d-4045-a5ac-9cd993b0e36e">
        <con:settings>
          <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
        </con:settings>
        <con:encoding>UTF-8</con:encoding>
        <con:endpoint>${#Project#drc-DirectRechargeEvolutionServiceForMipay-URL}</con:endpoint>
        <con:request><![CDATA[<soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/" xmlns:oper="http://directrecharge.o2.com/ws/directrechargeevolutionservice/operationinfo/">
   <soapenv:Header/>
   <soapenv:Body>
      <oper:operationInfo>
         <operationInfoDto>
            <operationIdentifier>${#TestSuite#MiPay-OperationIdent}</operationIdentifier>
            <msisdn>${#Project#MSISDN-chargeCustomer-OK}</msisdn>
            <status>${820P_DataSource-StatusCodes#status}</status>
            <!--type: string-->
            <statusMessage>statusMessage</statusMessage>
            <executionTime>${#Project#DateTime_Current}</executionTime>
            <externalReferenceId>${#Project#GUID_Moved-}</externalReferenceId>
            <correlationId>12${#Project#Random10}</correlationId>
         </operationInfoDto>
      </oper:operationInfo>
   </soapenv:Body>
</soapenv:Envelope>]]></con:request>
        <con:assertion type="SOAP Response" id="9a3c6ee2-1c62-49a5-854f-f5f6a2828c7a" name="SOAP Response"/>
        <con:assertion type="Schema Compliance" id="9351c8ff-e3c2-43f2-a981-27aa0215216e" name="Schema Compliance">
          <con:configuration/>
        </con:assertion>
        <con:assertion type="SOAP Fault Assertion" id="6b276304-217a-4236-b55f-ea9a38fb91dc" name="Not SOAP Fault"/>
        <con:assertion type="XPath Match" id="ab3580eb-27e4-413c-b6d9-b02ec8fae4c9" name="Check for existence of [ns3:operationInfoResponse]">
          <con:configuration>
            <path>declare namespace ns3='http://directrecharge.o2.com/ws/directrechargeevolutionservice/operationinfo/';
exists( //ns3:operationInfoResponse)</path>
            <content>true</content>
            <allowWildcards>false</allowWildcards>
            <ignoreNamspaceDifferences>true</ignoreNamspaceDifferences>
            <ignoreComments>true</ignoreComments>
          </con:configuration>
        </con:assertion>
        <con:credentials>
          <con:selectedAuthProfile>No Authorization</con:selectedAuthProfile>
          <con:authType>No Authorization</con:authType>
        </con:credentials>
        <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
        <con:wsaConfig mustUnderstand="NONE" version="200508" action="http://directrecharge.o2.com/ws/directrechargeevolutionservice/DirectRechargeEvolutionServiceForMipayPortType/operationInfo"/>
        <con:wsrmConfig version="1.2"/>
        <con:environmentSpec>
          <con:entry environmentId="ff1a32e2-ce69-4c5a-923a-710f216e83c9">
            <con:authProfile>No Authorization</con:authProfile>
          </con:entry>
          <con:entry environmentId="96753c0f-e806-4b6f-b398-e4e8dbc7bce1">
            <con:authProfile>No Authorization</con:authProfile>
          </con:entry>
          <con:entry environmentId="d4fb7d9b-be04-4609-bf0a-ed3a22d5075f">
            <con:authProfile>No Authorization</con:authProfile>
          </con:entry>
          <con:entry environmentId="e385afea-1153-4d90-83b9-3b49a724f0ea">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
        </con:environmentSpec>
      </con:request>
    </con:config>
  </con:testStep>
  <con:testStep type="request" name="835P_DRCGUI-OPERATION_INFO_PROPAGATION_ACTION" id="b20b3ced-19a8-4acc-8a6e-1535eebae517">
    <con:settings/>
    <con:config xsi:type="con:RequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
      <con:interface>DrcGuiSoapBinding</con:interface>
      <con:operation>triggerJobManager</con:operation>
      <con:request name="835P_DRCGUI-OPERATION_INFO_PROPAGATION_ACTION" id="7e3d55e2-60ca-4b78-8ac4-2ff501eb12f8" defaultOutgoingWss="" defaultIncomingWss="">
        <con:settings>
          <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
        </con:settings>
        <con:encoding>UTF-8</con:encoding>
        <con:endpoint>${#Project#drc-GUIService-URL}</con:endpoint>
        <con:request><![CDATA[<soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/" xmlns:type="http://directrecharge.o2.com/ws/drcgui/v1/" xmlns:v1="http://directrecharge.o2.com/ws/common/job/v1/">\r
   <soapenv:Header/>\r
   <soapenv:Body>\r
      <v1:triggerJobManager>\r
         <jobName>com.o2.directrecharge.core.job.JobAction.PPIT_OPERATION_INFO_PROPAGATION_ACTION</jobName>\r
         <repeat>true</repeat>\r
      </v1:triggerJobManager>\r
   </soapenv:Body>\r
</soapenv:Envelope>]]></con:request>
        <con:assertion type="SOAP Response" id="a92ffbf7-5b12-4e8d-b9eb-9f1f7e4b22b5"/>
        <con:assertion type="Schema Compliance" id="8963b493-35c5-481b-a43b-db28b5df2188" name="Schema Compliance">
          <con:configuration>
            <definition/>
          </con:configuration>
        </con:assertion>
        <con:assertion type="SOAP Fault Assertion" id="a7c67a4c-c54f-47e8-9b74-2cbb069e4a34" name="Not SOAP Fault"/>
        <con:assertion type="XPath Match" id="85da9fd4-76f9-4fee-b794-d895200ba8a7" name="Check count of [taskId]=1">
          <con:configuration>
            <path>declare namespace ns2='http://directrecharge.o2.com/ws/common/job/v1/';
count( //ns2:triggerJobManagerResponse/taskId)</path>
            <content>1</content>
            <allowWildcards>false</allowWildcards>
            <ignoreNamspaceDifferences>true</ignoreNamspaceDifferences>
            <ignoreComments>true</ignoreComments>
          </con:configuration>
        </con:assertion>
        <con:credentials>
          <con:selectedAuthProfile>Basic</con:selectedAuthProfile>
          <con:addedBasicAuthenticationTypes>Basic</con:addedBasicAuthenticationTypes>
          <con:authType>Global HTTP Settings</con:authType>
        </con:credentials>
        <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
        <con:jmsPropertyConfig/>
        <con:wsaConfig mustUnderstand="NONE" version="200508"/>
        <con:wsrmConfig version="1.2"/>
        <con:environmentSpec>
          <con:entry environmentId="8bb64a40-b6a3-45c2-a26b-7f6c797dbea5">
            <con:authProfile>Basic</con:authProfile>
          </con:entry>
          <con:entry environmentId="ff1a32e2-ce69-4c5a-923a-710f216e83c9">
            <con:authProfile>Basic</con:authProfile>
          </con:entry>
          <con:entry environmentId="96753c0f-e806-4b6f-b398-e4e8dbc7bce1">
            <con:authProfile>Basic</con:authProfile>
          </con:entry>
          <con:entry environmentId="d4fb7d9b-be04-4609-bf0a-ed3a22d5075f">
            <con:authProfile>Basic</con:authProfile>
          </con:entry>
          <con:entry environmentId="e385afea-1153-4d90-83b9-3b49a724f0ea">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
        </con:environmentSpec>
      </con:request>
    </con:config>
  </con:testStep>
  <con:testStep type="datasourceloop" name="DataSource Loop" id="8f0a3cde-a56c-4693-960b-e57a77536732">
    <con:settings/>
    <con:config>
      <dataSourceStep>820P_DataSource-StatusCodes</dataSourceStep>
      <targetStep>830P_operationInfo-AllParams</targetStep>
    </con:config>
  </con:testStep>
  <con:testStep type="calltestcase" name="840P_Run TestCase_Validate-JobMonitor-OK" id="7f30bf41-0b74-47f3-a2e3-9fcc723e0c80">
    <con:settings/>
    <con:config xsi:type="con:RunTestCaseStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
      <con:targetTestCase>aef0f6ae-5942-4c5b-9ff4-00f4644fddfd</con:targetTestCase>
      <con:properties>
        <con:property>
          <con:name>inJobName</con:name>
          <con:value>${835P_DRCGUI-OPERATION_INFO_PROPAGATION_ACTION#RawRequest#declare namespace type='http://directrecharge.o2.com/ws/drcgui/v1/'; //type:triggerJobManager[1]/jobName[1]}</con:value>
        </con:property>
      </con:properties>
      <con:returnProperties/>
      <con:runMode>SINGLETON_AND_WAIT</con:runMode>
    </con:config>
  </con:testStep>
  <con:testStep type="httprequest" name="850N_HTTP-ValidateResponsesFromMocks" id="6a770393-2dd7-4248-bbc0-88ba557daf7a">
    <con:settings/>
    <con:config method="GET" xsi:type="con:HttpRequest" id="1ac0cffb-2fd8-436d-8bbc-bc723dbad492" name="850N_HTTP-ValidateResponsesFromMocks" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
      <con:settings>
        <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
      </con:settings>
      <con:endpoint>${#Project#drc-Mocks-URL}log</con:endpoint>
      <con:request/>
      <con:assertion type="Valid HTTP Status Codes" id="61f57801-b402-497d-ac2b-af4d1e06ea88" name="Valid HTTP Status Codes">
        <con:settings/>
        <con:configuration>
          <codes>200</codes>
        </con:configuration>
      </con:assertion>
      <con:assertion type="MessageContentAssertion" id="1e14d808-489f-4d69-9a61-7fb893aae67c" name="Message Content Assertion - LastRow=11withPPIT">
        <con:configuration xsi:type="con:MessageContentAssertion">
          <con:elements>
            <con:xpath>//html[1]/body[1]/table[1]/tr[12]/td[1]</con:xpath>
            <con:element>td</con:element>
            <con:type xsi:nil="true"/>
            <con:operator>=</con:operator>
            <con:enabled>true</con:enabled>
            <con:expectedValue>11</con:expectedValue>
            <con:hasValue>false</con:hasValue>
            <con:numberType>false</con:numberType>
          </con:elements>
          <con:elements>
            <con:xpath>//html[1]/body[1]/table[1]/tr[12]/td[3]</con:xpath>
            <con:element>td</con:element>
            <con:type xsi:nil="true"/>
            <con:operator>=</con:operator>
            <con:enabled>true</con:enabled>
            <con:expectedValue>PPIT-CustomerCaseServices.storeFailedRechargeAttempt: Return response for incoming request with MSISDN: ${830P_operationInfo-AllParams#RawRequest#declare namespace oper='http://directrecharge.o2.com/ws/directrechargeevolutionservice/operationinfo/'; //oper:operationInfo[1]/operationInfoDto[1]/msisdn[1]}</con:expectedValue>
            <con:hasValue>false</con:hasValue>
            <con:numberType>false</con:numberType>
          </con:elements>
          <con:originalMessage><![CDATA[<html>
   <head>
      <title>MockService Groovy Log</title>
      <meta http-equiv="refresh" content="15"/>
      <link type="text/css" rel="stylesheet" href="stylesheet.css"/>
   </head>
   <body>
      <p>
         <b>Groovy Log output</b>
         : [
         <a href="log">Refresh</a>
         ] [
         <a href="log?clear">Clear</a>
         ]
      </p>
      <table border="1">
         <tr>
            <td/>
            <td>Timestamp</td>
            <td>Message</td>
         </tr>
         <tr>
            <td>1</td>
            <td>Tue Nov 08 10:01:43 CET 2016</td>
            <td>PPIT-CustomerCaseServices.storeFailedRechargeAttempt: Return response for incoming request with MSISDN: 4917672772371</td>
         </tr>
         <tr>
            <td>2</td>
            <td>Tue Nov 08 10:01:44 CET 2016</td>
            <td>PPIT-CustomerCaseServices.storeFailedRechargeAttempt: Return response for incoming request with MSISDN: 4917626631781</td>
         </tr>
         <tr>
            <td>3</td>
            <td>Tue Nov 08 10:01:44 CET 2016</td>
            <td>PPIT-CustomerCaseServices.storeFailedRechargeAttempt: Return response for incoming request with MSISDN: 4917644375620</td>
         </tr>
         <tr>
            <td>4</td>
            <td>Tue Nov 08 10:01:44 CET 2016</td>
            <td>PPIT-CustomerCaseServices.storeFailedRechargeAttempt: Return response for incoming request with MSISDN: 4917662931214</td>
         </tr>
         <tr>
            <td>5</td>
            <td>Tue Nov 08 10:01:44 CET 2016</td>
            <td>PPIT-CustomerCaseServices.storeFailedRechargeAttempt: Return response for incoming request with MSISDN: 4917640962939</td>
         </tr>
         <tr>
            <td>6</td>
            <td>Tue Nov 08 10:01:45 CET 2016</td>
            <td>PPIT-CustomerCaseServices.storeFailedRechargeAttempt: Return response for incoming request with MSISDN: 4917676580496</td>
         </tr>
         <tr>
            <td>7</td>
            <td>Tue Nov 08 10:01:45 CET 2016</td>
            <td>PPIT-CustomerCaseServices.storeFailedRechargeAttempt: Return response for incoming request with MSISDN: 4917671908727</td>
         </tr>
         <tr>
            <td>8</td>
            <td>Tue Nov 08 10:01:45 CET 2016</td>
            <td>PPIT-CustomerCaseServices.storeFailedRechargeAttempt: Return response for incoming request with MSISDN: 4917680125991</td>
         </tr>
         <tr>
            <td>9</td>
            <td>Tue Nov 08 10:01:46 CET 2016</td>
            <td>PPIT-CustomerCaseServices.storeFailedRechargeAttempt: Return response for incoming request with MSISDN: 4917685291446</td>
         </tr>
         <tr>
            <td>10</td>
            <td>Tue Nov 08 10:01:46 CET 2016</td>
            <td>PPIT-CustomerCaseServices.storeFailedRechargeAttempt: Return response for incoming request with MSISDN: 4917621920479</td>
         </tr>
         <tr>
            <td>11</td>
            <td>Tue Nov 08 10:01:46 CET 2016</td>
            <td>PPIT-CustomerCaseServices.storeFailedRechargeAttempt: Return response for incoming request with MSISDN: 4917627685482</td>
         </tr>
      </table>
   </body>
</html>]]></con:originalMessage>
        </con:configuration>
      </con:assertion>
      <con:credentials>
        <con:selectedAuthProfile>No Authorization</con:selectedAuthProfile>
        <con:authType>No Authorization</con:authType>
      </con:credentials>
      <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
      <con:parameters/>
      <con:environmentSpec>
        <con:entry environmentId="ff1a32e2-ce69-4c5a-923a-710f216e83c9">
          <con:authProfile>No Authorization</con:authProfile>
        </con:entry>
        <con:entry environmentId="96753c0f-e806-4b6f-b398-e4e8dbc7bce1">
          <con:authProfile>No Authorization</con:authProfile>
        </con:entry>
        <con:entry environmentId="d4fb7d9b-be04-4609-bf0a-ed3a22d5075f">
          <con:authProfile>No Authorization</con:authProfile>
        </con:entry>
        <con:entry environmentId="e385afea-1153-4d90-83b9-3b49a724f0ea">
          <con:authProfile>Inherit From Parent</con:authProfile>
        </con:entry>
      </con:environmentSpec>
    </con:config>
  </con:testStep>
  <con:properties/>
  <con:reportParameters/>
  <con:breakPoints>
    <con:testStepId>120bde4a-3284-4861-8701-57ab2a7146a4</con:testStepId>
    <con:status>NONE</con:status>
    <con:properties/>
  </con:breakPoints>
  <con:breakPoints>
    <con:testStepId>3a297bbb-222d-43bf-88f0-2484508aafdd</con:testStepId>
    <con:status>NONE</con:status>
    <con:properties/>
  </con:breakPoints>
  <con:breakPoints>
    <con:testStepId>3588172d-4a7c-48b7-951f-d0b92b43e8a9</con:testStepId>
    <con:status>NONE</con:status>
    <con:properties/>
  </con:breakPoints>
  <con:breakPoints>
    <con:testStepId>0e9701d4-e757-4635-a89a-19b90d479c5d</con:testStepId>
    <con:status>NONE</con:status>
    <con:properties/>
  </con:breakPoints>
  <con:breakPoints>
    <con:testStepId>9be2dab5-4b3c-47f3-b8c7-5950aaff2392</con:testStepId>
    <con:status>NONE</con:status>
    <con:properties/>
  </con:breakPoints>
  <con:breakPoints>
    <con:testStepId>10858c7a-ddf6-49ec-abe9-67020d600159</con:testStepId>
    <con:status>NONE</con:status>
    <con:properties/>
  </con:breakPoints>
  <con:breakPoints>
    <con:testStepId>18c958de-3c99-4ba1-8c8a-27c24fa0d3c8</con:testStepId>
    <con:status>NONE</con:status>
    <con:properties/>
  </con:breakPoints>
  <con:breakPoints>
    <con:testStepId>d3af3887-1981-4453-8eec-5c2c4312f5c3</con:testStepId>
    <con:status>NONE</con:status>
    <con:properties/>
  </con:breakPoints>
  <con:breakPoints>
    <con:testStepId>45590d8d-0556-4454-96de-1be9f4c2f404</con:testStepId>
    <con:status>NONE</con:status>
    <con:properties/>
  </con:breakPoints>
  <con:breakPoints>
    <con:testStepId>4c048d17-3149-4607-b974-dbce107c6539</con:testStepId>
    <con:status>NONE</con:status>
    <con:properties/>
  </con:breakPoints>
  <con:breakPoints>
    <con:testStepId>199ac2b7-e470-42b1-8049-4e1b77a0ecbc</con:testStepId>
    <con:status>NONE</con:status>
    <con:properties/>
  </con:breakPoints>
  <con:breakPoints>
    <con:testStepId>7a8b9330-d470-4741-b0af-8255ada9aa97</con:testStepId>
    <con:status>NONE</con:status>
    <con:properties/>
  </con:breakPoints>
  <con:breakPoints>
    <con:testStepId>22fefdd1-dd88-4679-b56f-3d4d23d7e5b0</con:testStepId>
    <con:status>NONE</con:status>
    <con:properties/>
  </con:breakPoints>
  <con:breakPoints>
    <con:testStepId>8bd3d3b8-0f77-42c4-9894-b04c7db6d8b7</con:testStepId>
    <con:status>NONE</con:status>
    <con:properties/>
  </con:breakPoints>
  <con:breakPoints>
    <con:testStepId>64c9915a-224f-48e6-a043-e6b14db51b06</con:testStepId>
    <con:status>NONE</con:status>
    <con:properties/>
  </con:breakPoints>
  <con:breakPoints>
    <con:testStepId>e2343f95-2e84-4cde-8fb1-171321a8dee2</con:testStepId>
    <con:status>NONE</con:status>
    <con:properties/>
  </con:breakPoints>
  <con:breakPoints>
    <con:testStepId>1a3e999e-36d0-4576-9308-8b91ca827616</con:testStepId>
    <con:status>NONE</con:status>
    <con:properties/>
  </con:breakPoints>
  <con:breakPoints>
    <con:testStepId>56258709-c8d1-43ad-be54-def0cef24573</con:testStepId>
    <con:status>NONE</con:status>
    <con:properties/>
  </con:breakPoints>
  <con:breakPoints>
    <con:testStepId>5181cea9-c76b-4e56-812d-cf19fa772816</con:testStepId>
    <con:status>NONE</con:status>
    <con:properties/>
  </con:breakPoints>
  <con:breakPoints>
    <con:testStepId>ed544bc1-f277-43f4-96f9-d15ab4edf5d0</con:testStepId>
    <con:status>NONE</con:status>
    <con:properties/>
  </con:breakPoints>
  <con:breakPoints>
    <con:testStepId>3a6cb398-9ef1-4167-8f22-5c802a55b4bf</con:testStepId>
    <con:status>NONE</con:status>
    <con:properties/>
  </con:breakPoints>
  <con:breakPoints>
    <con:testStepId>93f3bbee-a446-48a3-bf0b-25a4aaa3a0c0</con:testStepId>
    <con:status>NONE</con:status>
    <con:properties/>
  </con:breakPoints>
  <con:breakPoints>
    <con:testStepId>b20b3ced-19a8-4acc-8a6e-1535eebae517</con:testStepId>
    <con:status>NONE</con:status>
    <con:properties/>
  </con:breakPoints>
  <con:breakPoints>
    <con:testStepId>8f0a3cde-a56c-4693-960b-e57a77536732</con:testStepId>
    <con:status>NONE</con:status>
    <con:properties/>
  </con:breakPoints>
  <con:breakPoints>
    <con:testStepId>6a770393-2dd7-4248-bbc0-88ba557daf7a</con:testStepId>
    <con:status>NONE</con:status>
    <con:properties/>
  </con:breakPoints>
  <con:breakPoints>
    <con:testStepId>7f30bf41-0b74-47f3-a2e3-9fcc723e0c80</con:testStepId>
    <con:status>NONE</con:status>
    <con:properties/>
  </con:breakPoints>
  <con:environmentSpec>
    <con:entry environmentId="e385afea-1153-4d90-83b9-3b49a724f0ea">
      <con:authProfile>Inherit From Parent</con:authProfile>
    </con:entry>
  </con:environmentSpec>
</con:testCase>