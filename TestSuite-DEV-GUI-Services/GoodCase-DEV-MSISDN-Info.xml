<?xml version="1.0" encoding="UTF-8"?>
<con:testCase id="8c595306-13f6-4f0b-bcdd-a5024cf3dcb0" discardOkResults="false" failOnError="false" failTestCaseOnErrors="true" keepSession="false" name="GoodCase-DEV-MSISDN-Info" searchProperties="true" timeout="0" xmlns:con="http://eviware.com/soapui/config">
  <con:settings>
    <con:setting id="8c595306-13f6-4f0b-bcdd-a5024cf3dcb0fileName">GoodCase-DEV-MSISDN-Info</con:setting>
  </con:settings>
  <con:savedRecentRuns>1</con:savedRecentRuns>
  <con:testStep type="request" id="d06b9179-031f-4be2-b5d6-786332304a75" name="getStackDetailsByMsisdn">
    <con:settings/>
    <con:config xsi:type="con:RequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
      <con:interface>DrcGuiSoapBinding</con:interface>
      <con:operation>getStackDetailsByMsisdn</con:operation>
      <con:request name="getStackDetailsByMsisdn" outgoingWss="" incomingWss="" timeout="" sslKeystore="" useWsAddressing="false" useWsReliableMessaging="false" wssPasswordType="" id="f4b06ba0-d89c-4c2e-8cc9-1932ccc9509c">
        <con:settings>
          <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="drc-gui-user" value="${#Project#drc-GUIService-User}" xmlns="http://eviware.com/soapui/config"/></con:setting>
        </con:settings>
        <con:encoding>UTF-8</con:encoding>
        <con:endpoint>${#Project#drc-GUIService-URL}</con:endpoint>
        <con:request><![CDATA[<soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/" xmlns:type="http://directrecharge.o2.com/ws/drcgui/v1/" xmlns:v1="http://directrecharge.o2.com/ws/drcgui/v1/">
   <soapenv:Header/>
   <soapenv:Body>
      <v1:getStackDetailsByMsisdn>
         <!--type: msisdn-->
         <msisdn>${#Project#MSISDN-chargeCustomer-OK}</msisdn>
      </v1:getStackDetailsByMsisdn>
   </soapenv:Body>
</soapenv:Envelope>]]></con:request>
        <con:assertion type="SOAP Response" id="a67a533f-bd2b-4583-beda-6af075e602b3" name="SOAP Response"/>
        <con:assertion type="Schema Compliance" id="9ea5f384-66d7-4cc2-9e20-e5c4f0cc5275" name="Schema Compliance">
          <con:configuration/>
        </con:assertion>
        <con:assertion type="SOAP Fault Assertion" id="8443f240-3093-4b0c-a89e-a34e426b1421" name="Not SOAP Fault"/>
        <con:assertion type="MessageContentAssertion" id="cd7ce931-0fc6-4461-b2d4-fe98661bc2e2" name="Message Content Assertion">
          <con:configuration xsi:type="con:MessageContentAssertion">
            <con:elements>
              <con:xpath>declare namespace ns1='http://directrecharge.o2.com/ws/drcgui/v1/';
//ns1:getStackDetailsByMsisdnResponse[1]/stackDetails[1]/piranhaDetails[1]/sasName[1]</con:xpath>
              <con:element>sasName</con:element>
              <con:type>XmlString</con:type>
              <con:operator>=</con:operator>
              <con:enabled>true</con:enabled>
              <con:expectedValue>${#Project#ChargeCustomer-1-SP}</con:expectedValue>
              <con:hasValue>false</con:hasValue>
              <con:numberType>false</con:numberType>
            </con:elements>
            <con:elements>
              <con:xpath>declare namespace ns1='http://directrecharge.o2.com/ws/drcgui/v1/';
//ns1:getStackDetailsByMsisdnResponse[1]/stackDetails[1]/piranhaDetails[1]/virtualStack[1]</con:xpath>
              <con:element>virtualStack</con:element>
              <con:type>XmlString</con:type>
              <con:operator>=</con:operator>
              <con:enabled>true</con:enabled>
              <con:expectedValue>PREPAID</con:expectedValue>
              <con:hasValue>false</con:hasValue>
              <con:numberType>false</con:numberType>
            </con:elements>
            <con:elements>
              <con:xpath>declare namespace ns1='http://directrecharge.o2.com/ws/drcgui/v1/';
//ns1:getStackDetailsByMsisdnResponse[1]/stackDetails[1]/piranhaDetails[1]/paymentType[1]</con:xpath>
              <con:element>paymentType</con:element>
              <con:type>XmlString</con:type>
              <con:operator>=</con:operator>
              <con:enabled>true</con:enabled>
              <con:expectedValue>PREPAID</con:expectedValue>
              <con:hasValue>false</con:hasValue>
              <con:numberType>false</con:numberType>
            </con:elements>
            <con:elements>
              <con:xpath>declare namespace ns1='http://directrecharge.o2.com/ws/drcgui/v1/';
//ns1:getStackDetailsByMsisdnResponse[1]/stackDetails[1]/coreServerDetails[1]/sasCode[1]</con:xpath>
              <con:element>sasCode</con:element>
              <con:type>XmlString</con:type>
              <con:operator>=</con:operator>
              <con:enabled>true</con:enabled>
              <con:expectedValue>${#Project#ChargeCustomer-1-SP}</con:expectedValue>
              <con:hasValue>false</con:hasValue>
              <con:numberType>false</con:numberType>
            </con:elements>
            <con:elements>
              <con:xpath>declare namespace ns1='http://directrecharge.o2.com/ws/drcgui/v1/';
//ns1:getStackDetailsByMsisdnResponse[1]/stackDetails[1]/coreServerDetails[1]/vomsCode[1]</con:xpath>
              <con:element>vomsCode</con:element>
              <con:type>XmlString</con:type>
              <con:operator>=</con:operator>
              <con:enabled>false</con:enabled>
              <con:expectedValue>o2</con:expectedValue>
              <con:hasValue>false</con:hasValue>
              <con:numberType>false</con:numberType>
            </con:elements>
            <con:elements>
              <con:xpath>declare namespace ns1='http://directrecharge.o2.com/ws/drcgui/v1/';
//ns1:getStackDetailsByMsisdnResponse[1]/stackDetails[1]/coreServerDetails[1]/tenantId[1]</con:xpath>
              <con:element>tenantId</con:element>
              <con:type>XmlInt</con:type>
              <con:operator>=</con:operator>
              <con:enabled>true</con:enabled>
              <con:expectedValue>${#Project#ChargeCustomer-1-TenantID}</con:expectedValue>
              <con:hasValue>false</con:hasValue>
              <con:numberType>true</con:numberType>
            </con:elements>
            <con:elements>
              <con:xpath>declare namespace ns1='http://directrecharge.o2.com/ws/drcgui/v1/';
//ns1:getStackDetailsByMsisdnResponse[1]/stackDetails[1]/coreServerDetails[1]/brandId[1]</con:xpath>
              <con:element>brandId</con:element>
              <con:type>XmlInt</con:type>
              <con:operator>=</con:operator>
              <con:enabled>true</con:enabled>
              <con:expectedValue>${#Project#ChargeCustomer-1-BrandID}</con:expectedValue>
              <con:hasValue>false</con:hasValue>
              <con:numberType>true</con:numberType>
            </con:elements>
            <con:elements>
              <con:xpath>declare namespace ns1='http://directrecharge.o2.com/ws/drcgui/v1/';
//ns1:getStackDetailsByMsisdnResponse[1]/stackDetails[1]/coreServerDetails[1]/ocsCode[1]</con:xpath>
              <con:element>ocsCode</con:element>
              <con:type>XmlString</con:type>
              <con:operator>=</con:operator>
              <con:enabled>true</con:enabled>
              <con:expectedValue>${#Project#ChargeCustomer-1-OCS-ID}</con:expectedValue>
              <con:hasValue>false</con:hasValue>
              <con:numberType>false</con:numberType>
            </con:elements>
            <con:elements>
              <con:xpath>declare namespace ns1='http://directrecharge.o2.com/ws/drcgui/v1/';
//ns1:getStackDetailsByMsisdnResponse[1]/stackDetails[1]/coreServerDetails[1]/name[1]</con:xpath>
              <con:element>name</con:element>
              <con:type>XmlString</con:type>
              <con:operator>=</con:operator>
              <con:enabled>false</con:enabled>
              <con:expectedValue>o2</con:expectedValue>
              <con:hasValue>false</con:hasValue>
              <con:numberType>false</con:numberType>
            </con:elements>
            <con:elements>
              <con:xpath>declare namespace ns1='http://directrecharge.o2.com/ws/drcgui/v1/';
//ns1:getStackDetailsByMsisdnResponse[1]/stackDetails[1]/coreServerDetails[1]/financeDepartment[1]</con:xpath>
              <con:element>financeDepartment</con:element>
              <con:type>XmlString</con:type>
              <con:operator>=</con:operator>
              <con:enabled>false</con:enabled>
              <con:expectedValue>TEF</con:expectedValue>
              <con:hasValue>false</con:hasValue>
              <con:numberType>false</con:numberType>
            </con:elements>
            <con:originalMessage><![CDATA[<soap:Envelope xmlns:soap="http://schemas.xmlsoap.org/soap/envelope/">
   <soap:Body>
      <ns2:getStackDetailsByMsisdnResponse xmlns:xmime="http://www.w3.org/2005/05/xmlmime" xmlns:ns2="http://directrecharge.o2.com/ws/drcgui/v1/">
         <stackDetails>
            <piranhaDetails>
               <sasName>SP901</sasName>
               <virtualStack>PREPAID</virtualStack>
               <paymentType>PREPAID</paymentType>
            </piranhaDetails>
            <coreServerDetails>
               <sasCode>SP901</sasCode>
               <vomsCode>o2</vomsCode>
               <tenantId>1</tenantId>
               <brandId>1</brandId>
               <ocsCode>00</ocsCode>
               <name>o2</name>
               <financeDepartment>TEF</financeDepartment>
            </coreServerDetails>
         </stackDetails>
      </ns2:getStackDetailsByMsisdnResponse>
   </soap:Body>
</soap:Envelope>]]></con:originalMessage>
          </con:configuration>
        </con:assertion>
        <con:credentials>
          <con:selectedAuthProfile>No Authorization</con:selectedAuthProfile>
          <con:authType>No Authorization</con:authType>
        </con:credentials>
        <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
        <con:wsaConfig mustUnderstand="NONE" version="200508" action="http://directrecharge.o2.com/ws/drcgui/DrcGuiPortType/getStackDetailsByMsisdn"/>
        <con:wsrmConfig version="1.2"/>
        <con:environmentSpec>
          <con:entry environmentId="e385afea-1153-4d90-83b9-3b49a724f0ea">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
        </con:environmentSpec>
      </con:request>
    </con:config>
  </con:testStep>
  <con:testStep type="request" id="b0092f09-d77b-47a5-8a03-612f5e19b72f" name="getStackDetailsByMsisdn-noAdminRights">
    <con:settings/>
    <con:config xsi:type="con:RequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
      <con:interface>DrcGuiSoapBinding</con:interface>
      <con:operation>getStackDetailsByMsisdn</con:operation>
      <con:request name="getStackDetailsByMsisdn-noAdminRights" outgoingWss="" incomingWss="" timeout="" sslKeystore="" useWsAddressing="false" useWsReliableMessaging="false" wssPasswordType="" id="f4b06ba0-d89c-4c2e-8cc9-1932ccc9509c">
        <con:settings>
          <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
        </con:settings>
        <con:encoding>UTF-8</con:encoding>
        <con:endpoint>${#Project#drc-GUIService-URL}</con:endpoint>
        <con:request><![CDATA[<soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/" xmlns:type="http://directrecharge.o2.com/ws/drcgui/v1/" xmlns:v1="http://directrecharge.o2.com/ws/drcgui/v1/">
   <soapenv:Header/>
   <soapenv:Body>
      <v1:getStackDetailsByMsisdn>
         <!--type: msisdn-->
         <msisdn>${#Project#MSISDN-chargeCustomer-OK}</msisdn>
      </v1:getStackDetailsByMsisdn>
   </soapenv:Body>
</soapenv:Envelope>]]></con:request>
        <con:assertion type="SOAP Response" id="a67a533f-bd2b-4583-beda-6af075e602b3" name="SOAP Response"/>
        <con:assertion type="Schema Compliance" id="9ea5f384-66d7-4cc2-9e20-e5c4f0cc5275" name="Schema Compliance">
          <con:configuration/>
        </con:assertion>
        <con:assertion type="SOAP Fault Assertion" id="8443f240-3093-4b0c-a89e-a34e426b1421" name="Not SOAP Fault"/>
        <con:assertion type="MessageContentAssertion" id="cd7ce931-0fc6-4461-b2d4-fe98661bc2e2" name="Message Content Assertion">
          <con:configuration xsi:type="con:MessageContentAssertion">
            <con:elements>
              <con:xpath>declare namespace ns1='http://directrecharge.o2.com/ws/drcgui/v1/';
//ns1:getStackDetailsByMsisdnResponse[1]/stackDetails[1]/piranhaDetails[1]/sasName[1]</con:xpath>
              <con:element>sasName</con:element>
              <con:type>XmlString</con:type>
              <con:operator>=</con:operator>
              <con:enabled>true</con:enabled>
              <con:expectedValue>${#Project#ChargeCustomer-1-SP}</con:expectedValue>
              <con:hasValue>false</con:hasValue>
              <con:numberType>false</con:numberType>
            </con:elements>
            <con:elements>
              <con:xpath>declare namespace ns1='http://directrecharge.o2.com/ws/drcgui/v1/';
//ns1:getStackDetailsByMsisdnResponse[1]/stackDetails[1]/piranhaDetails[1]/virtualStack[1]</con:xpath>
              <con:element>virtualStack</con:element>
              <con:type>XmlString</con:type>
              <con:operator>=</con:operator>
              <con:enabled>true</con:enabled>
              <con:expectedValue>PREPAID</con:expectedValue>
              <con:hasValue>false</con:hasValue>
              <con:numberType>false</con:numberType>
            </con:elements>
            <con:elements>
              <con:xpath>declare namespace ns1='http://directrecharge.o2.com/ws/drcgui/v1/';
//ns1:getStackDetailsByMsisdnResponse[1]/stackDetails[1]/piranhaDetails[1]/paymentType[1]</con:xpath>
              <con:element>paymentType</con:element>
              <con:type>XmlString</con:type>
              <con:operator>=</con:operator>
              <con:enabled>true</con:enabled>
              <con:expectedValue>PREPAID</con:expectedValue>
              <con:hasValue>false</con:hasValue>
              <con:numberType>false</con:numberType>
            </con:elements>
            <con:elements>
              <con:xpath>declare namespace ns1='http://directrecharge.o2.com/ws/drcgui/v1/';
//ns1:getStackDetailsByMsisdnResponse[1]/stackDetails[1]/coreServerDetails[1]/sasCode[1]</con:xpath>
              <con:element>sasCode</con:element>
              <con:type>XmlString</con:type>
              <con:operator>=</con:operator>
              <con:enabled>true</con:enabled>
              <con:expectedValue>${#Project#ChargeCustomer-1-SP}</con:expectedValue>
              <con:hasValue>false</con:hasValue>
              <con:numberType>false</con:numberType>
            </con:elements>
            <con:elements>
              <con:xpath>declare namespace ns1='http://directrecharge.o2.com/ws/drcgui/v1/';
//ns1:getStackDetailsByMsisdnResponse[1]/stackDetails[1]/coreServerDetails[1]/vomsCode[1]</con:xpath>
              <con:element>vomsCode</con:element>
              <con:type>XmlString</con:type>
              <con:operator>=</con:operator>
              <con:enabled>false</con:enabled>
              <con:expectedValue>o2</con:expectedValue>
              <con:hasValue>false</con:hasValue>
              <con:numberType>false</con:numberType>
            </con:elements>
            <con:elements>
              <con:xpath>declare namespace ns1='http://directrecharge.o2.com/ws/drcgui/v1/';
//ns1:getStackDetailsByMsisdnResponse[1]/stackDetails[1]/coreServerDetails[1]/tenantId[1]</con:xpath>
              <con:element>tenantId</con:element>
              <con:type>XmlInt</con:type>
              <con:operator>=</con:operator>
              <con:enabled>true</con:enabled>
              <con:expectedValue>${#Project#ChargeCustomer-1-TenantID}</con:expectedValue>
              <con:hasValue>false</con:hasValue>
              <con:numberType>true</con:numberType>
            </con:elements>
            <con:elements>
              <con:xpath>declare namespace ns1='http://directrecharge.o2.com/ws/drcgui/v1/';
//ns1:getStackDetailsByMsisdnResponse[1]/stackDetails[1]/coreServerDetails[1]/brandId[1]</con:xpath>
              <con:element>brandId</con:element>
              <con:type>XmlInt</con:type>
              <con:operator>=</con:operator>
              <con:enabled>true</con:enabled>
              <con:expectedValue>${#Project#ChargeCustomer-1-BrandID}</con:expectedValue>
              <con:hasValue>false</con:hasValue>
              <con:numberType>true</con:numberType>
            </con:elements>
            <con:elements>
              <con:xpath>declare namespace ns1='http://directrecharge.o2.com/ws/drcgui/v1/';
//ns1:getStackDetailsByMsisdnResponse[1]/stackDetails[1]/coreServerDetails[1]/ocsCode[1]</con:xpath>
              <con:element>ocsCode</con:element>
              <con:type>XmlString</con:type>
              <con:operator>=</con:operator>
              <con:enabled>true</con:enabled>
              <con:expectedValue>${#Project#ChargeCustomer-1-OCS-ID}</con:expectedValue>
              <con:hasValue>false</con:hasValue>
              <con:numberType>false</con:numberType>
            </con:elements>
            <con:elements>
              <con:xpath>declare namespace ns1='http://directrecharge.o2.com/ws/drcgui/v1/';
//ns1:getStackDetailsByMsisdnResponse[1]/stackDetails[1]/coreServerDetails[1]/name[1]</con:xpath>
              <con:element>name</con:element>
              <con:type>XmlString</con:type>
              <con:operator>=</con:operator>
              <con:enabled>false</con:enabled>
              <con:expectedValue>o2</con:expectedValue>
              <con:hasValue>false</con:hasValue>
              <con:numberType>false</con:numberType>
            </con:elements>
            <con:elements>
              <con:xpath>declare namespace ns1='http://directrecharge.o2.com/ws/drcgui/v1/';
//ns1:getStackDetailsByMsisdnResponse[1]/stackDetails[1]/coreServerDetails[1]/financeDepartment[1]</con:xpath>
              <con:element>financeDepartment</con:element>
              <con:type>XmlString</con:type>
              <con:operator>=</con:operator>
              <con:enabled>false</con:enabled>
              <con:expectedValue>TEF</con:expectedValue>
              <con:hasValue>false</con:hasValue>
              <con:numberType>false</con:numberType>
            </con:elements>
            <con:originalMessage><![CDATA[<soap:Envelope xmlns:soap="http://schemas.xmlsoap.org/soap/envelope/">
   <soap:Body>
      <ns2:getStackDetailsByMsisdnResponse xmlns:xmime="http://www.w3.org/2005/05/xmlmime" xmlns:ns2="http://directrecharge.o2.com/ws/drcgui/v1/">
         <stackDetails>
            <piranhaDetails>
               <sasName>SP901</sasName>
               <virtualStack>PREPAID</virtualStack>
               <paymentType>PREPAID</paymentType>
            </piranhaDetails>
            <coreServerDetails>
               <sasCode>SP901</sasCode>
               <vomsCode>o2</vomsCode>
               <tenantId>1</tenantId>
               <brandId>1</brandId>
               <ocsCode>00</ocsCode>
               <name>o2</name>
               <financeDepartment>TEF</financeDepartment>
            </coreServerDetails>
         </stackDetails>
      </ns2:getStackDetailsByMsisdnResponse>
   </soap:Body>
</soap:Envelope>]]></con:originalMessage>
          </con:configuration>
        </con:assertion>
        <con:credentials>
          <con:selectedAuthProfile>No Authorization</con:selectedAuthProfile>
          <con:authType>No Authorization</con:authType>
        </con:credentials>
        <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
        <con:wsaConfig mustUnderstand="NONE" version="200508" action="http://directrecharge.o2.com/ws/drcgui/DrcGuiPortType/getStackDetailsByMsisdn"/>
        <con:wsrmConfig version="1.2"/>
        <con:environmentSpec>
          <con:entry environmentId="e385afea-1153-4d90-83b9-3b49a724f0ea">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
        </con:environmentSpec>
      </con:request>
    </con:config>
  </con:testStep>
  <con:properties/>
  <con:reportParameters/>
  <con:environmentSpec>
    <con:entry environmentId="e385afea-1153-4d90-83b9-3b49a724f0ea">
      <con:authProfile>Inherit From Parent</con:authProfile>
    </con:entry>
  </con:environmentSpec>
</con:testCase>
