<?xml version="1.0" encoding="UTF-8"?>
<con:testCase id="fa091697-1023-40ce-b7f9-42ddbab21ccb" discardOkResults="true" failOnError="false" failTestCaseOnErrors="true" keepSession="false" name="GoodCases-DEV-Banktransfer-CAMT054-Credit-ErrCode-159-DRC-3018" searchProperties="true" timeout="0" wsrmEnabled="false" wsrmVersion="1.0" wsrmAckTo="" amfAuthorisation="false" amfEndpoint="" amfLogin="" amfPassword="" maxResults="0" xmlns:con="http://eviware.com/soapui/config">
  <con:description>2019-07-22 - MG:
https://www.sg.de.o2.com/jira/browse/DRC-3018
Special handling for camt054-credit files with optional code: &lt;Prtry->Cd=159.
Use case:  If money transfer will be returned from telefonica with pain001 file to the bank account, but this account is not exist any more, bank returns the amount from transaction with camt054-credit file and code=159:
159 / SEPA Rueckgabe/ SEPA-Rückgabe (Retoure) einer Überweisung / PMNT ICDT RRTN

Followed test-scenario for implementation below must be implemented:

    Create camt054-credit files with value: &lt;Prtry->Cd=159 in transactions.
    Load files to drc and exec all required jobs.
    Make sure transactions are not performed.
    Validate pain001 file is NOT contains transaction from camt054-credit above!</con:description>
  <con:settings>
    <con:setting id="fa091697-1023-40ce-b7f9-42ddbab21ccbfileName">GoodCases-DEV-Banktransfer-CAMT054-Credit-ErrCode-159-DRC-3018</con:setting>
  </con:settings>
  <con:savedRecentRuns>1</con:savedRecentRuns>
  <con:testStep type="transfer" name="_Property Transfer-ClearValues" id="2ece1ad6-9f1f-4500-a9c8-292be8a73fc8">
    <con:settings/>
    <con:config xsi:type="con:PropertyTransfersStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
      <con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="false" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false">
        <con:name>1</con:name>
        <con:sourceType>StringEmpty</con:sourceType>
        <con:sourceStep>#Project#</con:sourceStep>
        <con:sourcePath/>
        <con:targetType>Random8</con:targetType>
        <con:targetStep>#TestCase#</con:targetStep>
        <con:targetPath/>
        <con:upgraded>true</con:upgraded>
      </con:transfers>
      <con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="false" disabled="false" entitize="false" ignoreEmpty="false" transferChildNodes="false" transferToAll="false" useXQuery="false">
        <con:name>2</con:name>
        <con:sourceType>StringEmpty</con:sourceType>
        <con:sourceStep>#Project#</con:sourceStep>
        <con:sourcePath/>
        <con:targetType>MSISDN</con:targetType>
        <con:targetStep>#TestCase#</con:targetStep>
        <con:targetPath/>
        <con:type>XPATH</con:type>
        <con:targetTransferType>XPATH</con:targetTransferType>
        <con:upgraded>true</con:upgraded>
      </con:transfers>
    </con:config>
  </con:testStep>
  <con:testStep type="calltestcase" name="_Run TestCase-ExecAction-CAMT054-BT" id="faa73b0f-3c23-4cda-858f-c71b9750899f">
    <con:settings/>
    <con:config xsi:type="con:RunTestCaseStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
      <con:targetTestCase>10b05f4d-bfa7-47b0-b02f-1e963ef942bc</con:targetTestCase>
      <con:properties>
        <con:property>
          <con:name>taskCount-Parse</con:name>
        </con:property>
        <con:property>
          <con:name>taskCount-Download</con:name>
        </con:property>
        <con:property>
          <con:name>taskCount-Recharge</con:name>
        </con:property>
        <con:property>
          <con:name>taskCount-Report</con:name>
        </con:property>
      </con:properties>
      <con:returnProperties/>
      <con:runMode>SINGLETON_AND_WAIT</con:runMode>
    </con:config>
  </con:testStep>
  <con:testStep type="calltestcase" name="_Run TestCase-ExecAction-Pain001-BT" id="aedd8636-041b-43ed-bec2-4f9c2b854e7c">
    <con:settings/>
    <con:config xsi:type="con:RunTestCaseStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
      <con:targetTestCase>81510bcc-a91a-4475-9de4-fca06fc4073a</con:targetTestCase>
      <con:properties>
        <con:property>
          <con:name>taskCount-CreatePayback</con:name>
        </con:property>
        <con:property>
          <con:name>taskCount-BankTransfer_Pain</con:name>
        </con:property>
        <con:property>
          <con:name>taskCount-BankTransfer_Csv</con:name>
        </con:property>
        <con:property>
          <con:name>taskCount-CreateReport</con:name>
        </con:property>
      </con:properties>
      <con:returnProperties/>
      <con:runMode>SINGLETON_AND_WAIT</con:runMode>
    </con:config>
  </con:testStep>
  <con:testStep type="groovy" name="Groovy Script-createData" id="ad40d214-24d6-4fdb-949c-75297c1b1280">
    <con:settings/>
    <con:config>
      <script>/*
 *  Set in test-case properties values required for camt05-credit content
 *  Set file name in format for bank transfer: Ex.: 2019-09-11_C54_DE73700202700005716977_EUR_000510.xml
 * Date: 2020-11-12
 * Autor: Michael Gordon
*/

// Create test-data  and set to test-case property for replacing in xml file content
 testRunner.testCase.setPropertyValue('MSISDN', context.expand( '${#Project#MSISDN-chargeCustomer-OK}' ))
 testRunner.testCase.setPropertyValue('Random8',  context.expand( '${#Project#Random8}' ))

// set required data for new file name
String sPath = (context.expand( '${drc_target_dir}' )+'/CAMT54-Files/').replace('\\','/')
String  sCurrentDate = context.expand( '${#Project#Date_Current_yyyy-MM-dd}' )
String sRrandom6 = context.expand( '${#Project#Random6}' )
String sCurrentIBAN = context.expand( '${#Project#ChargeCustomer-1-1-IBAN}' )
String sFileName=sCurrentDate+'_C54_'+sCurrentIBAN+'_EUR_'+ sRrandom6+'.xml'
 String  sOutPath =(sPath +sFileName)

 // log file and path
 log.info( 'New file name is: -  '+ sFileName)
 log.info( 'New path  is: - ' +  sOutPath)
// create new file name

// set full local path to properties
 testRunner.testCase.setPropertyValue('outPath', sOutPath)</script>
    </con:config>
  </con:testStep>
  <con:testStep type="datasink" name="DataSink-CAMT54-Credit-Create" id="cee7e5c8-32e6-490f-9891-4b967a2e534b">
    <con:settings/>
    <con:config xsi:type="con:DataSinkStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
      <con:dataSink type="File">
        <con:configuration><fileName>${#TestCase#outPath}</fileName><separator/><escape/><quote>false</quote><trim>true</trim><append>false</append><encoding>UTF-8</encoding></con:configuration>
      </con:dataSink>
      <con:properties>
        <con:property>
          <con:name>content</con:name>
          <con:value>${#TestCase#fileContent}</con:value>
        </con:property>
      </con:properties>
    </con:config>
  </con:testStep>
  <con:testStep type="calltestcase" name="Run TestCase-CopyFile-BT" id="132ba616-68ac-450a-bb8d-88fdcc304d8f">
    <con:settings/>
    <con:config xsi:type="con:RunTestCaseStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
      <con:targetTestCase>83e57bed-9b56-44fd-8050-ace0e5d30c24</con:targetTestCase>
      <con:properties>
        <con:property>
          <con:name>targetPath</con:name>
          <con:value>/var/MFT/drc4/bt_camt054</con:value>
        </con:property>
        <con:property>
          <con:name>targetUser</con:name>
          <con:value>drcbuild</con:value>
        </con:property>
        <con:property>
          <con:name>inSourcePath</con:name>
          <con:value>${#TestCase#outPath}</con:value>
        </con:property>
      </con:properties>
      <con:returnProperties>
        <con:entry>targetPath</con:entry>
        <con:entry>targetUser</con:entry>
      </con:returnProperties>
      <con:runMode>SINGLETON_AND_WAIT</con:runMode>
    </con:config>
  </con:testStep>
  <con:testStep type="delay" name="Delay" id="d19d2c78-fd12-4223-9d9b-d179256babdf">
    <con:settings/>
    <con:config>
      <delay>${#TestSuite#mft-fileProcess-delay-ms}</delay>
    </con:config>
  </con:testStep>
  <con:testStep type="calltestcase" name="_Run TestCase-ExecJobs-CAMT054-BT" id="76805941-b736-4379-933f-186ee2f53404">
    <con:settings/>
    <con:config xsi:type="con:RunTestCaseStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
      <con:targetTestCase>10b05f4d-bfa7-47b0-b02f-1e963ef942bc</con:targetTestCase>
      <con:properties>
        <con:property>
          <con:name>taskCount-Parse</con:name>
          <con:value/>
        </con:property>
        <con:property>
          <con:name>taskCount-Download</con:name>
          <con:value/>
        </con:property>
        <con:property>
          <con:name>taskCount-Recharge</con:name>
          <con:value/>
        </con:property>
        <con:property>
          <con:name>taskCount-Report</con:name>
          <con:value/>
        </con:property>
      </con:properties>
      <con:returnProperties>
        <con:entry>taskCount-Download</con:entry>
        <con:entry>taskCount-Parse</con:entry>
        <con:entry>taskCount-Recharge</con:entry>
        <con:entry>taskCount-Report</con:entry>
      </con:returnProperties>
      <con:runMode>SINGLETON_AND_WAIT</con:runMode>
    </con:config>
  </con:testStep>
  <con:testStep type="request" id="cf1be89d-7af2-4790-979a-fee5502b9aaf" name="GUI_searchTransactions">
    <con:settings/>
    <con:config xsi:type="con:RequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
      <con:interface>DrcGuiSoapBinding</con:interface>
      <con:operation>searchTransactions</con:operation>
      <con:request name="GUI_searchTransactions" outgoingWss="" incomingWss="" timeout="" sslKeystore="" useWsAddressing="false" useWsReliableMessaging="false" wssPasswordType="" id="fa7918dc-29bf-4c11-8e6e-79d8d7ae6d8d">
        <con:settings>
          <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="drc-gui-user" value="${#Project#drc-GUIService-User}" xmlns="http://eviware.com/soapui/config"/></con:setting>
        </con:settings>
        <con:encoding>UTF-8</con:encoding>
        <con:endpoint>${#Project#drc-GUIService-URL}</con:endpoint>
        <con:request><![CDATA[<soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/" xmlns:type="http://directrecharge.o2.com/ws/drcgui/v1/" xmlns:v1="http://directrecharge.o2.com/ws/drcgui/v1/">
   <soapenv:Header/>
   <soapenv:Body>
      <v1:searchTransactions>
         <search>
            <!--type: int-->
            <first>0</first>
            <!--type: int-->
            <count>20</count>
            <searchParam>
               <msisdn>${#TestCase#MSISDN}</msisdn>
            </searchParam>
         </search>
      </v1:searchTransactions>
   </soapenv:Body>
</soapenv:Envelope>]]></con:request>
        <con:assertion type="SOAP Response" id="c5366177-8694-4436-9a37-0b21f88fd56e" name="SOAP Response"/>
        <con:assertion type="Schema Compliance" id="76150bc6-cce3-4748-bff5-a2585cb6d36e" name="Schema Compliance">
          <con:configuration/>
        </con:assertion>
        <con:assertion type="SOAP Fault Assertion" id="04c9b6b4-cf6c-4151-8465-9065d91c1aa2" name="Not SOAP Fault"/>
        <con:assertion type="XPath Match" name="Check count of [searchResponse]" id="6fad725d-3dbb-4b7f-8463-58e23ca9ae34">
          <con:configuration>
            <path>declare namespace ns2='http://directrecharge.o2.com/ws/drcgui/v1/';
count( //ns2:searchTransactionsResponse/searchResponse/searchResponse)</path>
            <content>1</content>
            <allowWildcards>false</allowWildcards>
            <ignoreNamspaceDifferences>true</ignoreNamspaceDifferences>
            <ignoreComments>true</ignoreComments>
          </con:configuration>
        </con:assertion>
        <con:assertion type="MessageContentAssertion" id="4f04f73d-a2f9-4ada-b9bf-dc022e583aba" name="Message Content Assertion">
          <con:configuration xsi:type="con:MessageContentAssertion">
            <con:elements>
              <con:xpath>declare namespace ns1='http://directrecharge.o2.com/ws/drcgui/v1/';
//ns1:searchTransactionsResponse[1]/searchResponse[1]/viewTimeStamp[1]</con:xpath>
              <con:element>viewTimeStamp</con:element>
              <con:type>XmlDateTime</con:type>
              <con:operator>=</con:operator>
              <con:enabled>false</con:enabled>
              <con:expectedValue>2020-05-28T13:00:14.645+02:00</con:expectedValue>
              <con:hasValue>false</con:hasValue>
              <con:numberType>false</con:numberType>
            </con:elements>
            <con:elements>
              <con:xpath>declare namespace ns2='http://directrecharge.o2.com/ws/drcgui/v1/';
declare namespace ns1='http://www.w3.org/2001/XMLSchema-instance';
//ns2:searchTransactionsResponse[1]/searchResponse[1]/searchResponse[1]/@ns1:type</con:xpath>
              <con:element>@xsi:type</con:element>
              <con:type/>
              <con:operator>=</con:operator>
              <con:enabled>false</con:enabled>
              <con:expectedValue>ns2:banktransferResponseType</con:expectedValue>
              <con:hasValue>false</con:hasValue>
              <con:numberType>false</con:numberType>
            </con:elements>
            <con:elements>
              <con:xpath>declare namespace ns1='http://directrecharge.o2.com/ws/drcgui/v1/';
//ns1:searchTransactionsResponse[1]/searchResponse[1]/searchResponse[1]/msisdn[1]</con:xpath>
              <con:element>msisdn</con:element>
              <con:type>XmlString</con:type>
              <con:operator>=</con:operator>
              <con:enabled>false</con:enabled>
              <con:expectedValue>${#TestCase#MSISDN}</con:expectedValue>
              <con:hasValue>false</con:hasValue>
              <con:numberType>false</con:numberType>
            </con:elements>
            <con:elements>
              <con:xpath>declare namespace ns1='http://directrecharge.o2.com/ws/drcgui/v1/';
//ns1:searchTransactionsResponse[1]/searchResponse[1]/searchResponse[1]/tenantId[1]</con:xpath>
              <con:element>tenantId</con:element>
              <con:type>XmlInt</con:type>
              <con:operator>=</con:operator>
              <con:enabled>false</con:enabled>
              <con:expectedValue>-1</con:expectedValue>
              <con:hasValue>false</con:hasValue>
              <con:numberType>true</con:numberType>
            </con:elements>
            <con:elements>
              <con:xpath>declare namespace ns1='http://directrecharge.o2.com/ws/drcgui/v1/';
//ns1:searchTransactionsResponse[1]/searchResponse[1]/searchResponse[1]/tenantName[1]</con:xpath>
              <con:element>tenantName</con:element>
              <con:type>XmlString</con:type>
              <con:operator>=</con:operator>
              <con:enabled>false</con:enabled>
              <con:expectedValue>UNKNOWN TENANT</con:expectedValue>
              <con:hasValue>false</con:hasValue>
              <con:numberType>false</con:numberType>
            </con:elements>
            <con:elements>
              <con:xpath>declare namespace ns1='http://directrecharge.o2.com/ws/drcgui/v1/';
//ns1:searchTransactionsResponse[1]/searchResponse[1]/searchResponse[1]/brandId[1]</con:xpath>
              <con:element>brandId</con:element>
              <con:type>XmlInt</con:type>
              <con:operator>=</con:operator>
              <con:enabled>false</con:enabled>
              <con:expectedValue>-1</con:expectedValue>
              <con:hasValue>false</con:hasValue>
              <con:numberType>true</con:numberType>
            </con:elements>
            <con:elements>
              <con:xpath>declare namespace ns1='http://directrecharge.o2.com/ws/drcgui/v1/';
//ns1:searchTransactionsResponse[1]/searchResponse[1]/searchResponse[1]/brandName[1]</con:xpath>
              <con:element>brandName</con:element>
              <con:type>XmlString</con:type>
              <con:operator>exists</con:operator>
              <con:enabled>false</con:enabled>
              <con:expectedValue xsi:nil="true"/>
              <con:hasValue>false</con:hasValue>
              <con:numberType>false</con:numberType>
            </con:elements>
            <con:elements>
              <con:xpath>declare namespace ns1='http://directrecharge.o2.com/ws/drcgui/v1/';
//ns1:searchTransactionsResponse[1]/searchResponse[1]/searchResponse[1]/id[1]</con:xpath>
              <con:element>id</con:element>
              <con:type>XmlLong</con:type>
              <con:operator>=</con:operator>
              <con:enabled>false</con:enabled>
              <con:expectedValue>12898826</con:expectedValue>
              <con:hasValue>false</con:hasValue>
              <con:numberType>true</con:numberType>
            </con:elements>
            <con:elements>
              <con:xpath>declare namespace ns1='http://directrecharge.o2.com/ws/drcgui/v1/';
//ns1:searchTransactionsResponse[1]/searchResponse[1]/searchResponse[1]/amount[1]</con:xpath>
              <con:element>amount</con:element>
              <con:type xsi:nil="true"/>
              <con:operator>=</con:operator>
              <con:enabled>false</con:enabled>
              <con:expectedValue>127800</con:expectedValue>
              <con:hasValue>false</con:hasValue>
              <con:numberType>true</con:numberType>
            </con:elements>
            <con:elements>
              <con:xpath>declare namespace ns1='http://directrecharge.o2.com/ws/drcgui/v1/';
//ns1:searchTransactionsResponse[1]/searchResponse[1]/searchResponse[1]/receptionDate[1]</con:xpath>
              <con:element>receptionDate</con:element>
              <con:type>XmlDateTime</con:type>
              <con:operator>=</con:operator>
              <con:enabled>false</con:enabled>
              <con:expectedValue>2020-05-28T13:00:12+02:00</con:expectedValue>
              <con:hasValue>false</con:hasValue>
              <con:numberType>false</con:numberType>
            </con:elements>
            <con:elements>
              <con:xpath>declare namespace ns1='http://directrecharge.o2.com/ws/drcgui/v1/';
//ns1:searchTransactionsResponse[1]/searchResponse[1]/searchResponse[1]/paymentDate[1]</con:xpath>
              <con:element>paymentDate</con:element>
              <con:type>XmlDateTime</con:type>
              <con:operator>=</con:operator>
              <con:enabled>false</con:enabled>
              <con:expectedValue>2019-05-20T00:00:00+02:00</con:expectedValue>
              <con:hasValue>false</con:hasValue>
              <con:numberType>false</con:numberType>
            </con:elements>
            <con:elements>
              <con:xpath>declare namespace ns1='http://directrecharge.o2.com/ws/drcgui/v1/';
//ns1:searchTransactionsResponse[1]/searchResponse[1]/searchResponse[1]/paymentType[1]</con:xpath>
              <con:element>paymentType</con:element>
              <con:type>XmlInt</con:type>
              <con:operator>=</con:operator>
              <con:enabled>false</con:enabled>
              <con:expectedValue>10</con:expectedValue>
              <con:hasValue>false</con:hasValue>
              <con:numberType>true</con:numberType>
            </con:elements>
            <con:elements>
              <con:xpath>declare namespace ns1='http://directrecharge.o2.com/ws/drcgui/v1/';
//ns1:searchTransactionsResponse[1]/searchResponse[1]/searchResponse[1]/paymentTypeDescription[1]</con:xpath>
              <con:element>paymentTypeDescription</con:element>
              <con:type xsi:nil="true"/>
              <con:operator>=</con:operator>
              <con:enabled>false</con:enabled>
              <con:expectedValue>Banküberweisung</con:expectedValue>
              <con:hasValue>false</con:hasValue>
              <con:numberType>false</con:numberType>
            </con:elements>
            <con:elements>
              <con:xpath>declare namespace ns1='http://directrecharge.o2.com/ws/drcgui/v1/';
//ns1:searchTransactionsResponse[1]/searchResponse[1]/searchResponse[1]/status[1]</con:xpath>
              <con:element>status</con:element>
              <con:type>XmlInt</con:type>
              <con:operator>=</con:operator>
              <con:enabled>true</con:enabled>
              <con:expectedValue>20</con:expectedValue>
              <con:hasValue>false</con:hasValue>
              <con:numberType>true</con:numberType>
            </con:elements>
            <con:elements>
              <con:xpath>declare namespace ns1='http://directrecharge.o2.com/ws/drcgui/v1/';
//ns1:searchTransactionsResponse[1]/searchResponse[1]/searchResponse[1]/statusDescription[1]</con:xpath>
              <con:element>statusDescription</con:element>
              <con:type xsi:nil="true"/>
              <con:operator>=</con:operator>
              <con:enabled>true</con:enabled>
              <con:expectedValue>zurückgewiesen</con:expectedValue>
              <con:hasValue>false</con:hasValue>
              <con:numberType>false</con:numberType>
            </con:elements>
            <con:elements>
              <con:xpath>declare namespace ns1='http://directrecharge.o2.com/ws/drcgui/v1/';
//ns1:searchTransactionsResponse[1]/searchResponse[1]/searchResponse[1]/rejectionReason[1]</con:xpath>
              <con:element>rejectionReason</con:element>
              <con:type>XmlLong</con:type>
              <con:operator>=</con:operator>
              <con:enabled>true</con:enabled>
              <con:expectedValue>2000001151</con:expectedValue>
              <con:hasValue>false</con:hasValue>
              <con:numberType>true</con:numberType>
            </con:elements>
            <con:elements>
              <con:xpath>declare namespace ns1='http://directrecharge.o2.com/ws/drcgui/v1/';
//ns1:searchTransactionsResponse[1]/searchResponse[1]/searchResponse[1]/senderName[1]</con:xpath>
              <con:element>senderName</con:element>
              <con:type>XmlString</con:type>
              <con:operator>=</con:operator>
              <con:enabled>false</con:enabled>
              <con:expectedValue>Telefonica Germany G</con:expectedValue>
              <con:hasValue>false</con:hasValue>
              <con:numberType>false</con:numberType>
            </con:elements>
            <con:elements>
              <con:xpath>declare namespace ns1='http://directrecharge.o2.com/ws/drcgui/v1/';
//ns1:searchTransactionsResponse[1]/searchResponse[1]/searchResponse[1]/senderIban[1]</con:xpath>
              <con:element>senderIban</con:element>
              <con:type xsi:nil="true"/>
              <con:operator>=</con:operator>
              <con:enabled>false</con:enabled>
              <con:expectedValue>DE99999999999999999990</con:expectedValue>
              <con:hasValue>false</con:hasValue>
              <con:numberType>false</con:numberType>
            </con:elements>
            <con:elements>
              <con:xpath>declare namespace ns1='http://directrecharge.o2.com/ws/drcgui/v1/';
//ns1:searchTransactionsResponse[1]/searchResponse[1]/searchResponse[1]/senderBic[1]</con:xpath>
              <con:element>senderBic</con:element>
              <con:type xsi:nil="true"/>
              <con:operator>=</con:operator>
              <con:enabled>false</con:enabled>
              <con:expectedValue>HYVEDEMMXXX</con:expectedValue>
              <con:hasValue>false</con:hasValue>
              <con:numberType>false</con:numberType>
            </con:elements>
            <con:elements>
              <con:xpath>declare namespace ns1='http://directrecharge.o2.com/ws/drcgui/v1/';
//ns1:searchTransactionsResponse[1]/searchResponse[1]/searchResponse[1]/reference[1]</con:xpath>
              <con:element>reference</con:element>
              <con:type xsi:nil="true"/>
              <con:operator>=</con:operator>
              <con:enabled>false</con:enabled>
              <con:expectedValue>4917684605254</con:expectedValue>
              <con:hasValue>false</con:hasValue>
              <con:numberType>false</con:numberType>
            </con:elements>
            <con:originalMessage><![CDATA[<soap:Envelope xmlns:soap="http://schemas.xmlsoap.org/soap/envelope/">
   <soap:Body>
      <ns2:searchTransactionsResponse xmlns:xmime="http://www.w3.org/2005/05/xmlmime" xmlns:ns2="http://directrecharge.o2.com/ws/drcgui/v1/">
         <searchResponse>
            <viewTimeStamp>2020-05-28T13:00:14.645+02:00</viewTimeStamp>
            <searchResponse xsi:type="ns2:banktransferResponseType" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
               <msisdn>4917684605254</msisdn>
               <tenantId>-1</tenantId>
               <tenantName>UNKNOWN TENANT</tenantName>
               <brandId>-1</brandId>
               <brandName/>
               <id>12898826</id>
               <amount>127800</amount>
               <receptionDate>2020-05-28T13:00:12+02:00</receptionDate>
               <paymentDate>2019-05-20T00:00:00+02:00</paymentDate>
               <paymentType>10</paymentType>
               <paymentTypeDescription>Banküberweisung</paymentTypeDescription>
               <status>20</status>
               <statusDescription>zurückgewiesen</statusDescription>
               <rejectionReason>2000001151</rejectionReason>
               <senderName>Telefonica Germany G</senderName>
               <senderIban>DE99999999999999999990</senderIban>
               <senderBic>HYVEDEMMXXX</senderBic>
               <reference>4917684605254</reference>
            </searchResponse>
         </searchResponse>
      </ns2:searchTransactionsResponse>
   </soap:Body>
</soap:Envelope>]]></con:originalMessage>
          </con:configuration>
        </con:assertion>
        <con:credentials>
          <con:selectedAuthProfile>No Authorization</con:selectedAuthProfile>
          <con:authType>No Authorization</con:authType>
        </con:credentials>
        <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
        <con:jmsPropertyConfig/>
        <con:wsaConfig mustUnderstand="NONE" version="200508" action="http://directrecharge.o2.com/ws/drcgui/DrcGuiPortType/searchTransactions"/>
        <con:wsrmConfig version="1.2"/>
        <con:environmentSpec>
          <con:entry environmentId="ff1a32e2-ce69-4c5a-923a-710f216e83c9">
            <con:authProfile>No Authorization</con:authProfile>
          </con:entry>
          <con:entry environmentId="96753c0f-e806-4b6f-b398-e4e8dbc7bce1">
            <con:authProfile>No Authorization</con:authProfile>
          </con:entry>
          <con:entry environmentId="d4fb7d9b-be04-4609-bf0a-ed3a22d5075f">
            <con:authProfile>No Authorization</con:authProfile>
          </con:entry>
          <con:entry environmentId="e385afea-1153-4d90-83b9-3b49a724f0ea">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
        </con:environmentSpec>
      </con:request>
    </con:config>
  </con:testStep>
  <con:testStep type="calltestcase" name="Run TestCase-ExecAction-Pain001-BT" id="84c220b3-62ef-49ff-be7b-82961cf06a1e">
    <con:settings/>
    <con:config xsi:type="con:RunTestCaseStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
      <con:targetTestCase>81510bcc-a91a-4475-9de4-fca06fc4073a</con:targetTestCase>
      <con:properties>
        <con:property>
          <con:name>taskCount-CreatePayback</con:name>
          <con:value/>
        </con:property>
        <con:property>
          <con:name>taskCount-BankTransfer_Pain</con:name>
          <con:value/>
        </con:property>
        <con:property>
          <con:name>taskCount-BankTransfer_Csv</con:name>
          <con:value/>
        </con:property>
        <con:property>
          <con:name>taskCount-CreateReport</con:name>
          <con:value/>
        </con:property>
      </con:properties>
      <con:returnProperties>
        <con:entry>taskCount-CreatePayback</con:entry>
        <con:entry>taskCount-BankTransfer_Pain</con:entry>
        <con:entry>taskCount-BankTransfer_Csv</con:entry>
        <con:entry>taskCount-CreateReport</con:entry>
      </con:returnProperties>
      <con:runMode>SINGLETON_AND_WAIT</con:runMode>
    </con:config>
  </con:testStep>
  <con:testStep type="assertionteststep" name="Assertion-Pain001Jobs-TaskCount" id="ccf3c6ad-3187-4d49-a274-5a11bf76951b">
    <con:settings/>
    <con:config xsi:type="con:AssertionTestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
      <con:entry>
        <con:id>6ed68963-7255-4b8c-98c5-e42c0a3be23e</con:id>
        <con:isGroup>true</con:isGroup>
        <con:sourceId>ccf3c6ad-3187-4d49-a274-5a11bf76951b</con:sourceId>
        <con:propertyName>Group</con:propertyName>
        <con:assertion type="GroupAssertion" name="Group-Job-TaskCount" id="1ff1cbf8-eca0-4cfe-9b64-e8ed2b7d941c">
          <con:configuration xsi:type="con:GroupAssertionList">
            <con:assertions>
              <con:id>a3780594-666c-466f-93d8-49100c2db7e1</con:id>
              <con:isGroup>false</con:isGroup>
              <con:sourceId>84c220b3-62ef-49ff-be7b-82961cf06a1e</con:sourceId>
              <con:propertyName>taskCount-CreatePayback</con:propertyName>
              <con:assertion type="Simple Equals" name="Equals-Job-1" id="992aebd5-c0ea-4781-9066-ceb65e659333">
                <con:configuration>
                  <patternText>0</patternText>
                  <caseSensitive>false</caseSensitive>
                </con:configuration>
              </con:assertion>
            </con:assertions>
            <con:assertions>
              <con:id>a32802dd-2c2c-4e8a-a3b9-c4e21168c863</con:id>
              <con:isGroup>false</con:isGroup>
              <con:sourceId>84c220b3-62ef-49ff-be7b-82961cf06a1e</con:sourceId>
              <con:propertyName>taskCount-BankTransfer_Pain</con:propertyName>
              <con:assertion type="Simple Equals" name="Equals-Job-2" id="57bc873d-c21e-460e-8c33-b31ec19e50f6">
                <con:configuration>
                  <patternText>0</patternText>
                  <caseSensitive>false</caseSensitive>
                </con:configuration>
              </con:assertion>
            </con:assertions>
            <con:assertions>
              <con:id>10d1e95b-1d8b-44ef-babb-c4f2ddf7bcbe</con:id>
              <con:isGroup>false</con:isGroup>
              <con:sourceId>84c220b3-62ef-49ff-be7b-82961cf06a1e</con:sourceId>
              <con:propertyName>taskCount-BankTransfer_Csv</con:propertyName>
              <con:assertion type="Simple Equals" name="Equals-Job-3" id="5fd9c5cf-158a-4283-88d2-240f4b6647d5">
                <con:configuration>
                  <patternText>0</patternText>
                  <caseSensitive>false</caseSensitive>
                </con:configuration>
              </con:assertion>
            </con:assertions>
            <con:operation>AND</con:operation>
          </con:configuration>
        </con:assertion>
      </con:entry>
    </con:config>
  </con:testStep>
  <con:properties>
    <con:property>
      <con:name>fileContent</con:name>
      <con:value><![CDATA[<?xml version="1.0" encoding="UTF-8" ?> <Document xmlns="urn:iso:std:iso:20022:tech:xsd:camt.054.001.02" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"> 	<BkToCstmrDbtCdtNtfctn> 		<GrpHdr> 			<MsgId>CRN190520AC${#TestCase#Random8}</MsgId> 			<CreDtTm>2019-05-20T19:00:00.000+02:00</CreDtTm> 			<MsgRcpt> 				<Nm>Telefonica Germany GmbH und Co. OHG Postpoint 24 OG rechts</Nm> 				<PstlAdr> 					<AdrLine>Georg-Brauchle-Ring 50</AdrLine> 					<AdrLine>80992 Muenchen</AdrLine> 				</PstlAdr> 			</MsgRcpt> 			<MsgPgntn> 				<PgNb>1</PgNb> 				<LastPgInd>true</LastPgInd> 			</MsgPgntn> 			<AddtlInf>Überweisung oder Rücklastschrift</AddtlInf> 		</GrpHdr> 		<Ntfctn> 			<Id>000000005714893201905201904${#TestCase#Random8}</Id> 			<ElctrncSeqNb>353</ElctrncSeqNb> 			<CreDtTm>2019-05-20T19:00:00.000+02:00</CreDtTm> 			<Acct> 				<Id> 					<IBAN>DE99999999999999999990</IBAN> 				</Id> 				<Ccy>EUR</Ccy> 				<Ownr> 					<Nm>Telefonica Germany GmbH und Co. OHG Postpoint 24 OG rechts</Nm> 					<PstlAdr> 						<AdrLine>Georg-Brauchle-Ring 50</AdrLine> 						<AdrLine>80992 Muenchen</AdrLine> 					</PstlAdr> 				</Ownr> 				<Svcr> 					<FinInstnId> 						<BIC>HYVEDEMMXXX</BIC> 						<Nm>UNICREDIT BANK AG</Nm> 						<Othr> 							<Id>DE 129279999</Id> 							<Issr>UmsStId</Issr> 						</Othr> 					</FinInstnId> 				</Svcr> 			</Acct> 			<Ntry> 				<Amt Ccy="EUR">12.78</Amt> 				<CdtDbtInd>CRDT</CdtDbtInd> 				<Sts>BOOK</Sts> 				<BookgDt> 					<Dt>2019-05-20</Dt> 				</BookgDt> 				<ValDt> 					<Dt>2019-05-20</Dt> 				</ValDt> 				<BkTxCd> 					<Domn> 						<Cd>PMNT</Cd> 						<Fmly> 							<Cd>ICDT</Cd> 							<SubFmlyCd>RRTN</SubFmlyCd> 						</Fmly> 					</Domn> 					<Prtry> 						<Cd>159</Cd> 						<Issr>DK</Issr> 					</Prtry> 				</BkTxCd> 				<NtryDtls> 					<Btch> 						<MsgId>CRN190520AC${#TestCase#Random8}</MsgId> 						<NbOfTxs>1</NbOfTxs> 						<TtlAmt Ccy="EUR">12.78</TtlAmt> 						<CdtDbtInd>CRDT</CdtDbtInd> 					</Btch> 					<TxDtls> 						<Refs> 							<EndToEndId>NOTPROVIDED</EndToEndId> 							<TxId>CRH190520BSWI029411${#TestCase#Random8}</TxId> 						</Refs> 						<AmtDtls> 							<TxAmt> 								<Amt Ccy="EUR">12.78</Amt> 							</TxAmt> 						</AmtDtls> 						<BkTxCd> 							<Domn> 								<Cd>PMNT</Cd> 								<Fmly> 									<Cd>ICDT</Cd> 									<SubFmlyCd>RRTN</SubFmlyCd> 								</Fmly> 							</Domn> 							<Prtry> 								<Cd>NRTI+159+100</Cd> 								<Issr>DK</Issr> 							</Prtry> 						</BkTxCd> 						<RltdPties> 							<Dbtr> 								<Nm>Telefonica Germany G</Nm> 							</Dbtr> 							<DbtrAcct> 								<Id> 									<IBAN>DE99999999999999999990</IBAN> 								</Id> 							</DbtrAcct> 							<Cdtr> 								<Nm>Anne Musterfrau</Nm> 							</Cdtr> 							<CdtrAcct> 								<Id> 									<IBAN>DE99999999999999999991</IBAN> 								</Id> 							</CdtrAcct> 						</RltdPties> 						<RltdAgts> 							<DbtrAgt> 								<FinInstnId> 									<BIC>HYVEDEMMXXX</BIC> 								</FinInstnId> 							</DbtrAgt> 							<CdtrAgt> 								<FinInstnId> 									<BIC>CMCIDEDDXXX</BIC> 								</FinInstnId> 							</CdtrAgt> 						</RltdAgts> 						<RmtInf> 							<Ustrd>${#TestCase#MSISDN}</Ustrd> 						</RmtInf> 						<RtrInf> 							<Rsn> 								<Cd>AC01</Cd> 							</Rsn> 							<AddtlInf>Kontonummer fehlerhaft (ungültige IBAN)</AddtlInf> 						</RtrInf> 						<AddtlTxInf>SEPA Rueckgabe</AddtlTxInf> 					</TxDtls> 				</NtryDtls> 				<AddtlNtryInf>SEPA Rueckgabe</AddtlNtryInf> 			</Ntry> 		</Ntfctn> 	</BkToCstmrDbtCdtNtfctn> </Document>]]></con:value>
    </con:property>
    <con:property>
      <con:name>outPath</con:name>
      <con:value>D:/Projects/Telefonica/DirectReCharge/TestOutput/soapUI/CAMT54-Files/2022-10-04_C54_DE99999999999999999990_EUR_839339.xml</con:value>
    </con:property>
    <con:property>
      <con:name>MSISDN</con:name>
      <con:value>4917618824032</con:value>
    </con:property>
    <con:property>
      <con:name>Random8</con:name>
      <con:value>85022783</con:value>
    </con:property>
  </con:properties>
  <con:reportParameters/>
  <con:breakPoints>
    <con:testStepId>e1310c36-7418-4c3f-abd5-93bca1b355e9</con:testStepId>
    <con:status>NONE</con:status>
    <con:properties/>
  </con:breakPoints>
  <con:breakPoints>
    <con:testStepId>deb871da-bd55-430b-aa73-48e6849c075b</con:testStepId>
    <con:status>NONE</con:status>
    <con:properties/>
  </con:breakPoints>
  <con:breakPoints>
    <con:testStepId>76a78f2f-75f5-4f76-aa13-2e14eeda4d2f</con:testStepId>
    <con:status>NONE</con:status>
    <con:properties/>
  </con:breakPoints>
  <con:breakPoints>
    <con:testStepId>393e3d81-075e-44dc-a9aa-8b0ce318db94</con:testStepId>
    <con:status>NONE</con:status>
    <con:properties/>
  </con:breakPoints>
  <con:breakPoints>
    <con:testStepId>84aa5571-0389-4a68-8364-01e6365ed113</con:testStepId>
    <con:status>NONE</con:status>
    <con:properties/>
  </con:breakPoints>
  <con:breakPoints>
    <con:testStepId>489241c7-7070-44a1-83d0-64f3483c6baf</con:testStepId>
    <con:status>NONE</con:status>
    <con:properties/>
  </con:breakPoints>
  <con:breakPoints>
    <con:testStepId>2501c721-75e9-4f5d-954c-54e77660fcdc</con:testStepId>
    <con:status>NONE</con:status>
    <con:properties/>
  </con:breakPoints>
  <con:breakPoints>
    <con:testStepId>1352d1ee-0bcc-4501-bdc2-57f822b20127</con:testStepId>
    <con:status>NONE</con:status>
    <con:properties/>
  </con:breakPoints>
  <con:breakPoints>
    <con:testStepId>d8ada49e-aa02-4ed0-87a1-ad38664ac003</con:testStepId>
    <con:status>NONE</con:status>
    <con:properties/>
  </con:breakPoints>
  <con:breakPoints>
    <con:testStepId>47827d3c-f324-43b4-b2ee-73b1602a3ed3</con:testStepId>
    <con:status>NONE</con:status>
    <con:properties/>
  </con:breakPoints>
  <con:breakPoints>
    <con:testStepId>c8a2984d-26a9-4770-a1fd-f0380ce482de</con:testStepId>
    <con:status>NONE</con:status>
    <con:properties/>
  </con:breakPoints>
  <con:breakPoints>
    <con:testStepId>7a8357b3-b32b-4c9f-a5e1-cc0754123ceb</con:testStepId>
    <con:status>NONE</con:status>
    <con:properties/>
  </con:breakPoints>
  <con:breakPoints>
    <con:testStepId>cd583889-8b30-4ea5-a6e4-f02f2b3d2ad5</con:testStepId>
    <con:status>NONE</con:status>
    <con:properties/>
  </con:breakPoints>
  <con:breakPoints>
    <con:testStepId>cddb0346-9e1e-40dc-9cb7-ba20ddd4835c</con:testStepId>
    <con:status>NONE</con:status>
    <con:properties/>
  </con:breakPoints>
  <con:breakPoints>
    <con:testStepId>5b19a112-ea48-47d3-a725-54c66c64b566</con:testStepId>
    <con:status>NONE</con:status>
    <con:properties/>
  </con:breakPoints>
  <con:breakPoints>
    <con:testStepId>b4d6ed5f-5e51-44ad-9cea-30552b19347e</con:testStepId>
    <con:status>NONE</con:status>
    <con:properties/>
  </con:breakPoints>
  <con:breakPoints>
    <con:testStepId>ab17ccd1-79be-429c-b954-21c57630d96e</con:testStepId>
    <con:status>NONE</con:status>
    <con:properties/>
  </con:breakPoints>
  <con:breakPoints>
    <con:testStepId>f0410cb7-707b-4226-b6d9-8e75ecd12b65</con:testStepId>
    <con:status>NONE</con:status>
    <con:properties/>
  </con:breakPoints>
  <con:breakPoints>
    <con:testStepId>fe538317-4834-4952-94a6-ac1c02f62df4</con:testStepId>
    <con:status>NONE</con:status>
    <con:properties/>
  </con:breakPoints>
  <con:breakPoints>
    <con:testStepId>014b50f9-185c-4362-9d7f-5fcb6dfe3da3</con:testStepId>
    <con:status>NONE</con:status>
    <con:properties/>
  </con:breakPoints>
  <con:breakPoints>
    <con:testStepId>9d101127-da1c-4899-986c-bf9dcc713f53</con:testStepId>
    <con:status>NONE</con:status>
    <con:properties/>
  </con:breakPoints>
  <con:breakPoints>
    <con:testStepId>ff0dad1e-c066-4e1e-aba6-25867d9fe236</con:testStepId>
    <con:status>NONE</con:status>
    <con:properties/>
  </con:breakPoints>
  <con:breakPoints>
    <con:testStepId>3c5910f9-b7a5-43c1-8584-d2859c9bec7e</con:testStepId>
    <con:status>NONE</con:status>
    <con:properties/>
  </con:breakPoints>
  <con:breakPoints>
    <con:testStepId>32070874-f661-4e5e-b7c5-84eaa27ff6f1</con:testStepId>
    <con:status>NONE</con:status>
    <con:properties/>
  </con:breakPoints>
  <con:breakPoints>
    <con:testStepId>11cc5fe2-b563-4db4-a32f-0f8973062c9d</con:testStepId>
    <con:status>NONE</con:status>
    <con:properties/>
  </con:breakPoints>
  <con:breakPoints>
    <con:testStepId>370154db-ced7-4315-b15e-15a443a31507</con:testStepId>
    <con:status>NONE</con:status>
    <con:properties/>
  </con:breakPoints>
  <con:breakPoints>
    <con:testStepId>cf836c09-9a60-45eb-bf67-67b742d9ef20</con:testStepId>
    <con:status>NONE</con:status>
    <con:properties/>
  </con:breakPoints>
  <con:breakPoints>
    <con:testStepId>83d38db3-d1e4-4391-aa5a-28ecf982f510</con:testStepId>
    <con:status>NONE</con:status>
    <con:properties/>
  </con:breakPoints>
  <con:breakPoints>
    <con:testStepId>f88d8518-a8a3-4163-a502-6395d24ea781</con:testStepId>
    <con:status>NONE</con:status>
    <con:properties/>
  </con:breakPoints>
  <con:breakPoints>
    <con:testStepId>51ad7390-696f-415f-8239-97086b343c3c</con:testStepId>
    <con:status>NONE</con:status>
    <con:properties/>
  </con:breakPoints>
  <con:breakPoints>
    <con:testStepId>a36a46a4-cef6-4eea-9b63-aea7ecd5cebb</con:testStepId>
    <con:status>NONE</con:status>
    <con:properties/>
  </con:breakPoints>
  <con:breakPoints>
    <con:testStepId>d19d2c78-fd12-4223-9d9b-d179256babdf</con:testStepId>
    <con:status>NONE</con:status>
    <con:properties/>
  </con:breakPoints>
  <con:breakPoints>
    <con:testStepId>ad40d214-24d6-4fdb-949c-75297c1b1280</con:testStepId>
    <con:status>NONE</con:status>
    <con:properties/>
  </con:breakPoints>
  <con:breakPoints>
    <con:testStepId>aedd8636-041b-43ed-bec2-4f9c2b854e7c</con:testStepId>
    <con:status>NONE</con:status>
    <con:properties/>
  </con:breakPoints>
  <con:breakPoints>
    <con:testStepId>2ece1ad6-9f1f-4500-a9c8-292be8a73fc8</con:testStepId>
    <con:status>NONE</con:status>
    <con:properties/>
  </con:breakPoints>
  <con:breakPoints>
    <con:testStepId>faa73b0f-3c23-4cda-858f-c71b9750899f</con:testStepId>
    <con:status>NONE</con:status>
    <con:properties/>
  </con:breakPoints>
  <con:breakPoints>
    <con:testStepId>cee7e5c8-32e6-490f-9891-4b967a2e534b</con:testStepId>
    <con:status>NONE</con:status>
    <con:properties/>
  </con:breakPoints>
  <con:breakPoints>
    <con:testStepId>132ba616-68ac-450a-bb8d-88fdcc304d8f</con:testStepId>
    <con:status>NONE</con:status>
    <con:properties/>
  </con:breakPoints>
  <con:breakPoints>
    <con:testStepId>76805941-b736-4379-933f-186ee2f53404</con:testStepId>
    <con:status>NONE</con:status>
    <con:properties/>
  </con:breakPoints>
  <con:breakPoints>
    <con:testStepId>cf1be89d-7af2-4790-979a-fee5502b9aaf</con:testStepId>
    <con:status>NONE</con:status>
    <con:properties/>
  </con:breakPoints>
  <con:breakPoints>
    <con:testStepId>84c220b3-62ef-49ff-be7b-82961cf06a1e</con:testStepId>
    <con:status>NONE</con:status>
    <con:properties/>
  </con:breakPoints>
  <con:breakPoints>
    <con:testStepId>ccf3c6ad-3187-4d49-a274-5a11bf76951b</con:testStepId>
    <con:status>NONE</con:status>
    <con:properties/>
  </con:breakPoints>
  <con:environmentSpec>
    <con:entry environmentId="e385afea-1153-4d90-83b9-3b49a724f0ea">
      <con:authProfile>Inherit From Parent</con:authProfile>
    </con:entry>
  </con:environmentSpec>
</con:testCase>