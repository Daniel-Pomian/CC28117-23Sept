<?xml version="1.0" encoding="UTF-8"?>
<con:testCase id="4d8035c0-f9e1-4f60-bcb4-c49391400f18" discardOkResults="true" failOnError="false" failTestCaseOnErrors="true" keepSession="false" name="TestCase-DEV-chargeCustomer" searchProperties="true" timeout="0" maxResults="5" wsrmEnabled="false" wsrmVersion="1.0" wsrmAckTo="" amfAuthorisation="false" amfEndpoint="" amfLogin="" amfPassword="" disabled="true" xmlns:con="http://eviware.com/soapui/config">
  <con:description>This test case is for using in another test-cases and test suites.
Test-case registers one new msisdn for each register option  and charges amount from set in input parameters.
Return msisdn and contractId from register and chargint
All test-steps are executed with minimal validation and should be used only for prerequisites</con:description>
  <con:settings>
    <con:setting id="4d8035c0-f9e1-4f60-bcb4-c49391400f18fileName">TestCase-DEV-chargeCustomer</con:setting>
  </con:settings>
  <con:savedRecentRuns>1</con:savedRecentRuns>
  <con:testStep type="transfer" name="_Property Transfer-CleareValues" id="0898b919-547c-4df6-a442-8e1511d38654">
    <con:settings/>
    <con:config xsi:type="con:PropertyTransfersStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
      <con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="false" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false">
        <con:name>1</con:name>
        <con:sourceType>StringEmpty</con:sourceType>
        <con:sourceStep>#Project#</con:sourceStep>
        <con:sourcePath/>
        <con:targetType>outMSISDN</con:targetType>
        <con:targetStep>#TestCase#</con:targetStep>
        <con:targetPath/>
        <con:upgraded>true</con:upgraded>
      </con:transfers>
      <con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="false" disabled="false" entitize="false" ignoreEmpty="false" transferChildNodes="false" transferToAll="false" useXQuery="false">
        <con:name>2</con:name>
        <con:sourceType>StringEmpty</con:sourceType>
        <con:sourceStep>#Project#</con:sourceStep>
        <con:sourcePath/>
        <con:targetType>outContractID</con:targetType>
        <con:targetStep>#TestCase#</con:targetStep>
        <con:targetPath/>
        <con:type>XPATH</con:type>
        <con:targetTransferType>XPATH</con:targetTransferType>
        <con:upgraded>true</con:upgraded>
      </con:transfers>
    </con:config>
  </con:testStep>
  <con:testStep type="request" name="subsripManagement_registerForDD" id="cb8d5b18-9f4a-40ea-8061-d3fa8452d55a">
    <con:settings/>
    <con:config xsi:type="con:RequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
      <con:interface>SubscriptionManagementServiceSoapBinding</con:interface>
      <con:operation>registerForDirectDebit</con:operation>
      <con:request name="subsripManagement_registerForDD" id="66d9d8f9-7ba5-4176-8f66-e91fce9dac03" defaultOutgoingWss="" defaultIncomingWss="">
        <con:settings>
          <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
        </con:settings>
        <con:encoding>UTF-8</con:encoding>
        <con:endpoint>${#Project#drc-subscriptionManagementService-URL}</con:endpoint>
        <con:request><![CDATA[<soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/" xmlns:cus="http://directrecharge.o2.com/ws/evolutionservice/customercharging/">
   <soapenv:Header/>
   <soapenv:Body>
      <cus:registerForDirectDebit>
         <msisdn>${#Project#MSISDN-chargeCustomer-OK}</msisdn>
         <externalContractId>${#Project#Random10}${#Project#Random5}</externalContractId>
         <multibrandId>
            <brandId>${#TestCase#inBrandID}</brandId>
            <tenantId>${#TestCase#inTenantID}</tenantId>
         </multibrandId>
         <bankData>
            <iban>${#Project#Customer-IBAN}</iban>
            
            <bic>${#Project#Customer-BIC}</bic><bankAccountOwner>bankAccountOwner</bankAccountOwner>
            <mandateId>${#Project#Customer-MandantID}</mandateId>
            <mandateCreationDate>${#Project#DateTime_Current}</mandateCreationDate>
            <mandateStatus>ACTIVE</mandateStatus>
            <ultimateDebtor>ultimateDebtor</ultimateDebtor>
         </bankData>
         <directDebitState>ACTIVE</directDebitState>
         <registrationOptions>
            <registrationOptionOnDemandSms>
               <rechargeAmount>${#TestCase#inAmount}</rechargeAmount>
            </registrationOptionOnDemandSms>
            <registrationOptionThreshold>
               <thresholdAmount>${#TestCase#inAmount}</thresholdAmount>
               <rechargeAmount>${#TestCase#inAmount}</rechargeAmount>
            </registrationOptionThreshold>
            <registrationOptionMonthly>
               <rechargeDay>${#Project#DAY_OF_MONTH}</rechargeDay>
               <rechargeAmount>${#TestCase#inAmount}</rechargeAmount>
            </registrationOptionMonthly>
            <registrationOptionPack/>
         </registrationOptions>
      </cus:registerForDirectDebit>
   </soapenv:Body>
</soapenv:Envelope>]]></con:request>
        <con:assertion type="SOAP Response" name="SOAP Response" id="d2e40bcb-b76a-4758-bba3-ee05f2b4b8da"/>
        <con:assertion type="Schema Compliance" name="Schema Compliance" id="ab912914-c9d1-4496-9feb-3c793ba23f99">
          <con:configuration/>
        </con:assertion>
        <con:assertion type="SOAP Fault Assertion" name="Not SOAP Fault" id="81a07465-c296-4676-b2a4-5f809506f213"/>
        <con:assertion type="XPath Match" name="Match content of [isNewRegistration]=true" id="8fe0435a-35d0-4413-843e-75b3eaa3767b">
          <con:configuration>
            <path>declare namespace ns2='http://directrecharge.o2.com/ws/evolutionservice/customercharging/';
//ns2:registerForDirectDebitResponse[1]/isNewRegistration[1]/text()</path>
            <content>true</content>
            <allowWildcards>false</allowWildcards>
            <ignoreNamspaceDifferences>true</ignoreNamspaceDifferences>
            <ignoreComments>true</ignoreComments>
          </con:configuration>
        </con:assertion>
        <con:credentials>
          <con:selectedAuthProfile>No Authorization</con:selectedAuthProfile>
          <con:authType>No Authorization</con:authType>
        </con:credentials>
        <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
        <con:jmsPropertyConfig/>
        <con:wsaConfig mustUnderstand="NONE" version="200508"/>
        <con:wsrmConfig version="1.2"/>
        <con:environmentSpec>
          <con:entry environmentId="8bb64a40-b6a3-45c2-a26b-7f6c797dbea5">
            <con:authProfile>No Authorization</con:authProfile>
          </con:entry>
          <con:entry environmentId="ff1a32e2-ce69-4c5a-923a-710f216e83c9">
            <con:authProfile>No Authorization</con:authProfile>
          </con:entry>
          <con:entry environmentId="96753c0f-e806-4b6f-b398-e4e8dbc7bce1">
            <con:authProfile>No Authorization</con:authProfile>
          </con:entry>
          <con:entry environmentId="d4fb7d9b-be04-4609-bf0a-ed3a22d5075f">
            <con:authProfile>No Authorization</con:authProfile>
          </con:entry>
          <con:entry environmentId="e385afea-1153-4d90-83b9-3b49a724f0ea">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
        </con:environmentSpec>
      </con:request>
    </con:config>
  </con:testStep>
  <con:testStep type="transfer" name="_Property Transfer-MSISDNContractID" id="22130b6d-95e8-43c3-b245-b7022c21ad93">
    <con:settings/>
    <con:config xsi:type="con:PropertyTransfersStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
      <con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="false" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false">
        <con:name>MSISDN</con:name>
        <con:sourceType>RawRequest</con:sourceType>
        <con:sourceStep>subsripManagement_registerForDD</con:sourceStep>
        <con:sourcePath>declare namespace cus='http://directrecharge.o2.com/ws/evolutionservice/customercharging/';
//cus:registerForDirectDebit[1]/msisdn[1]</con:sourcePath>
        <con:targetType>outMSISDN</con:targetType>
        <con:targetStep>#TestCase#</con:targetStep>
        <con:targetPath/>
        <con:upgraded>true</con:upgraded>
      </con:transfers>
      <con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="false" disabled="false" entitize="false" ignoreEmpty="false" transferChildNodes="false" transferToAll="false" useXQuery="false">
        <con:name>ContractID</con:name>
        <con:sourceType>RawRequest</con:sourceType>
        <con:sourceStep>subsripManagement_registerForDD</con:sourceStep>
        <con:sourcePath>declare namespace cus='http://directrecharge.o2.com/ws/evolutionservice/customercharging/';
//cus:registerForDirectDebit[1]/externalContractId[1]</con:sourcePath>
        <con:targetType>outContractID</con:targetType>
        <con:targetStep>#TestCase#</con:targetStep>
        <con:targetPath/>
        <con:type>XPATH</con:type>
        <con:targetTransferType>XPATH</con:targetTransferType>
        <con:upgraded>true</con:upgraded>
      </con:transfers>
    </con:config>
  </con:testStep>
  <con:testStep type="request" name="chargeCustomer-OnDemand" id="399833a1-8044-41e9-892f-a15658c6f06e">
    <con:settings/>
    <con:config xsi:type="con:RequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
      <con:interface>CustomerChargingServiceSoapBinding</con:interface>
      <con:operation>chargeCustomer</con:operation>
      <con:request name="chargeCustomer-OnDemand" id="88ae8376-1ef9-4938-a6c3-5828463c9e8f" defaultOutgoingWss="" defaultIncomingWss="">
        <con:settings>
          <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
        </con:settings>
        <con:encoding>UTF-8</con:encoding>
        <con:endpoint>${#Project#drc-customerChargingService-URL}</con:endpoint>
        <con:request><![CDATA[<soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/" xmlns:cus="http://directrecharge.o2.com/ws/evolutionservice/customercharging/">
   <soapenv:Header/>
   <soapenv:Body>
      <cus:chargeCustomer>
         <!--type: string-->
         <externalContractId>${#TestCase#outContractID}</externalContractId>
         <!--type: int-->
         <amount>${#TestCase#inAmount}</amount>
         <!--type: currency - enumeration: [EUR]-->
         <currency>${#Project#Currency_Default}</currency>
         <!--type: string-->
         <balanceType>${#TestSuite#chargeCustomer.balanceType}</balanceType>
         <!--type: string-->
         <referenceId>${#Project#GUID}</referenceId>
         <!--type: dateTime-->
         <paymentDate>${#Project#DateTime_Current_Offset}</paymentDate>
         <!--type: paymentUseCaseEnum - enumeration: [ON_DEMAND,ON_DEMAND_SMS,MONTHLY,PACKPAYMENT]-->
         <paymentUseCase>ON_DEMAND</paymentUseCase>
         <!--Optional:-->
      </cus:chargeCustomer>
   </soapenv:Body>
</soapenv:Envelope>]]></con:request>
        <con:assertion type="SOAP Response" name="SOAP Response" id="4331434f-7674-48c6-9886-55b02a04fc7c"/>
        <con:assertion type="Schema Compliance" name="Schema Compliance" id="2973d19a-a6b8-45eb-9ad9-2692c25a355a">
          <con:configuration/>
        </con:assertion>
        <con:assertion type="SOAP Fault Assertion" name="Not SOAP Fault" id="8be31a15-5955-426b-b981-e92567df9068"/>
        <con:assertion type="XPath Match" id="59f347d5-1090-43ad-bd2d-41d40190dd06" name="Match content of [isDuplicate]=false">
          <con:configuration>
            <path>declare namespace ns2='http://directrecharge.o2.com/ws/evolutionservice/customercharging/';
//ns2:chargeCustomerResponse[1]/isDuplicate[1]/text()</path>
            <content>false</content>
            <allowWildcards>false</allowWildcards>
            <ignoreNamspaceDifferences>true</ignoreNamspaceDifferences>
            <ignoreComments>true</ignoreComments>
          </con:configuration>
        </con:assertion>
        <con:credentials>
          <con:selectedAuthProfile>No Authorization</con:selectedAuthProfile>
          <con:authType>No Authorization</con:authType>
        </con:credentials>
        <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
        <con:jmsPropertyConfig/>
        <con:wsaConfig mustUnderstand="NONE" version="200508"/>
        <con:wsrmConfig version="1.2"/>
        <con:environmentSpec>
          <con:entry environmentId="8bb64a40-b6a3-45c2-a26b-7f6c797dbea5">
            <con:authProfile>No Authorization</con:authProfile>
          </con:entry>
          <con:entry environmentId="ff1a32e2-ce69-4c5a-923a-710f216e83c9">
            <con:authProfile>No Authorization</con:authProfile>
          </con:entry>
          <con:entry environmentId="96753c0f-e806-4b6f-b398-e4e8dbc7bce1">
            <con:authProfile>No Authorization</con:authProfile>
          </con:entry>
          <con:entry environmentId="d4fb7d9b-be04-4609-bf0a-ed3a22d5075f">
            <con:authProfile>No Authorization</con:authProfile>
          </con:entry>
          <con:entry environmentId="e385afea-1153-4d90-83b9-3b49a724f0ea">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
        </con:environmentSpec>
      </con:request>
    </con:config>
  </con:testStep>
  <con:testStep type="request" name="chargeCustomer-OnDemandSMS" id="65cd2245-33ed-4601-8116-4e153175c44e">
    <con:settings/>
    <con:config xsi:type="con:RequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
      <con:interface>CustomerChargingServiceSoapBinding</con:interface>
      <con:operation>chargeCustomer</con:operation>
      <con:request name="chargeCustomer-OnDemandSMS" id="88ae8376-1ef9-4938-a6c3-5828463c9e8f" defaultOutgoingWss="" defaultIncomingWss="">
        <con:settings>
          <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
        </con:settings>
        <con:encoding>UTF-8</con:encoding>
        <con:endpoint>${#Project#drc-customerChargingService-URL}</con:endpoint>
        <con:request><![CDATA[<soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/" xmlns:cus="http://directrecharge.o2.com/ws/evolutionservice/customercharging/">
   <soapenv:Header/>
   <soapenv:Body>
      <cus:chargeCustomer>
         <!--type: string-->
         <externalContractId>${#TestCase#outContractID}</externalContractId>
         <!--type: int-->
         <amount>${#TestCase#inAmount}</amount>
         <!--type: currency - enumeration: [EUR]-->
         <currency>${#Project#Currency_Default}</currency>
         <!--type: string-->
         <balanceType>${#TestSuite#chargeCustomer.balanceType}</balanceType>
         <!--type: string-->
         <referenceId>${#Project#GUID}</referenceId>
         <!--type: dateTime-->
         <paymentDate>${#Project#DateTime_Current_Offset}</paymentDate>
         <!--type: paymentUseCaseEnum - enumeration: [ON_DEMAND,ON_DEMAND_SMS,MONTHLY,PACKPAYMENT]-->
         <paymentUseCase>ON_DEMAND_SMS</paymentUseCase>
         <!--Optional:-->
         
      </cus:chargeCustomer>
   </soapenv:Body>
</soapenv:Envelope>]]></con:request>
        <con:assertion type="SOAP Response" name="SOAP Response" id="4331434f-7674-48c6-9886-55b02a04fc7c"/>
        <con:assertion type="Schema Compliance" name="Schema Compliance" id="2973d19a-a6b8-45eb-9ad9-2692c25a355a">
          <con:configuration/>
        </con:assertion>
        <con:assertion type="SOAP Fault Assertion" name="Not SOAP Fault" id="8be31a15-5955-426b-b981-e92567df9068"/>
        <con:assertion type="XPath Match" name="Match content of [isDuplicate]=false" id="c7fbaae1-0c9e-4ce4-947d-4e97fd75c358">
          <con:configuration>
            <path>declare namespace ns2='http://directrecharge.o2.com/ws/evolutionservice/customercharging/';
//ns2:chargeCustomerResponse[1]/isDuplicate[1]/text()</path>
            <content>false</content>
            <allowWildcards>false</allowWildcards>
            <ignoreNamspaceDifferences>true</ignoreNamspaceDifferences>
            <ignoreComments>true</ignoreComments>
          </con:configuration>
        </con:assertion>
        <con:credentials>
          <con:selectedAuthProfile>No Authorization</con:selectedAuthProfile>
          <con:authType>No Authorization</con:authType>
        </con:credentials>
        <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
        <con:wsaConfig mustUnderstand="NONE" version="200508"/>
        <con:wsrmConfig version="1.2"/>
        <con:environmentSpec>
          <con:entry environmentId="8bb64a40-b6a3-45c2-a26b-7f6c797dbea5">
            <con:authProfile>No Authorization</con:authProfile>
          </con:entry>
          <con:entry environmentId="ff1a32e2-ce69-4c5a-923a-710f216e83c9">
            <con:authProfile>No Authorization</con:authProfile>
          </con:entry>
          <con:entry environmentId="96753c0f-e806-4b6f-b398-e4e8dbc7bce1">
            <con:authProfile>No Authorization</con:authProfile>
          </con:entry>
          <con:entry environmentId="d4fb7d9b-be04-4609-bf0a-ed3a22d5075f">
            <con:authProfile>No Authorization</con:authProfile>
          </con:entry>
          <con:entry environmentId="e385afea-1153-4d90-83b9-3b49a724f0ea">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
        </con:environmentSpec>
      </con:request>
    </con:config>
  </con:testStep>
  <con:testStep type="request" name="chargeCustomer-Monthly" id="88e17449-98fa-499a-8bdb-2ca8adc2ef80">
    <con:settings/>
    <con:config xsi:type="con:RequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
      <con:interface>CustomerChargingServiceSoapBinding</con:interface>
      <con:operation>chargeCustomer</con:operation>
      <con:request name="chargeCustomer-Monthly" id="88ae8376-1ef9-4938-a6c3-5828463c9e8f" defaultOutgoingWss="" defaultIncomingWss="">
        <con:settings>
          <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
        </con:settings>
        <con:encoding>UTF-8</con:encoding>
        <con:endpoint>${#Project#drc-customerChargingService-URL}</con:endpoint>
        <con:request><![CDATA[<soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/" xmlns:cus="http://directrecharge.o2.com/ws/evolutionservice/customercharging/">
   <soapenv:Header/>
   <soapenv:Body>
      <cus:chargeCustomer>
         <!--type: string-->
         <externalContractId>${#TestCase#outContractID}</externalContractId>
         <!--type: int-->
         <amount>${#TestCase#inAmount}</amount>
         <!--type: currency - enumeration: [EUR]-->
         <currency>${#Project#Currency_Default}</currency>
         <!--type: string-->
         <balanceType>${#TestSuite#chargeCustomer.balanceType}</balanceType>
         <!--type: string-->
         <referenceId>${#Project#GUID}</referenceId>
         <!--type: dateTime-->
         <paymentDate>${#Project#DateTime_Current_Offset}</paymentDate>
         <!--type: paymentUseCaseEnum - enumeration: [ON_DEMAND,ON_DEMAND_SMS,MONTHLY,PACKPAYMENT]-->
         <paymentUseCase>MONTHLY</paymentUseCase>
         <!--Optional:-->
         
      </cus:chargeCustomer>
   </soapenv:Body>
</soapenv:Envelope>]]></con:request>
        <con:assertion type="SOAP Response" name="SOAP Response" id="4331434f-7674-48c6-9886-55b02a04fc7c"/>
        <con:assertion type="Schema Compliance" name="Schema Compliance" id="2973d19a-a6b8-45eb-9ad9-2692c25a355a">
          <con:configuration/>
        </con:assertion>
        <con:assertion type="SOAP Fault Assertion" name="Not SOAP Fault" id="8be31a15-5955-426b-b981-e92567df9068"/>
        <con:assertion type="XPath Match" name="Match content of [isDuplicate]=false" id="c7fbaae1-0c9e-4ce4-947d-4e97fd75c358">
          <con:configuration>
            <path>declare namespace ns2='http://directrecharge.o2.com/ws/evolutionservice/customercharging/';
//ns2:chargeCustomerResponse[1]/isDuplicate[1]/text()</path>
            <content>false</content>
            <allowWildcards>false</allowWildcards>
            <ignoreNamspaceDifferences>true</ignoreNamspaceDifferences>
            <ignoreComments>true</ignoreComments>
          </con:configuration>
        </con:assertion>
        <con:credentials>
          <con:selectedAuthProfile>No Authorization</con:selectedAuthProfile>
          <con:authType>No Authorization</con:authType>
        </con:credentials>
        <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
        <con:wsaConfig mustUnderstand="NONE" version="200508"/>
        <con:wsrmConfig version="1.2"/>
        <con:environmentSpec>
          <con:entry environmentId="8bb64a40-b6a3-45c2-a26b-7f6c797dbea5">
            <con:authProfile>No Authorization</con:authProfile>
          </con:entry>
          <con:entry environmentId="ff1a32e2-ce69-4c5a-923a-710f216e83c9">
            <con:authProfile>No Authorization</con:authProfile>
          </con:entry>
          <con:entry environmentId="96753c0f-e806-4b6f-b398-e4e8dbc7bce1">
            <con:authProfile>No Authorization</con:authProfile>
          </con:entry>
          <con:entry environmentId="d4fb7d9b-be04-4609-bf0a-ed3a22d5075f">
            <con:authProfile>No Authorization</con:authProfile>
          </con:entry>
          <con:entry environmentId="e385afea-1153-4d90-83b9-3b49a724f0ea">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
        </con:environmentSpec>
      </con:request>
    </con:config>
  </con:testStep>
  <con:testStep type="request" name="chargeCustomer-Pack" id="2e83af03-d979-4882-a19b-66939768cc8c">
    <con:settings/>
    <con:config xsi:type="con:RequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
      <con:interface>CustomerChargingServiceSoapBinding</con:interface>
      <con:operation>chargeCustomer</con:operation>
      <con:request name="chargeCustomer-Pack" id="88ae8376-1ef9-4938-a6c3-5828463c9e8f" defaultOutgoingWss="" defaultIncomingWss="">
        <con:settings>
          <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
        </con:settings>
        <con:encoding>UTF-8</con:encoding>
        <con:endpoint>${#Project#drc-customerChargingService-URL}</con:endpoint>
        <con:request><![CDATA[<soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/" xmlns:cus="http://directrecharge.o2.com/ws/evolutionservice/customercharging/">
   <soapenv:Header/>
   <soapenv:Body>
      <cus:chargeCustomer>
         <!--type: string-->
         <externalContractId>${#TestCase#outContractID}</externalContractId>
         <!--type: int-->
         <amount>${#TestCase#inAmount}</amount>
         <!--type: currency - enumeration: [EUR]-->
         <currency>${#Project#Currency_Default}</currency>
         <!--type: string-->
         <balanceType>${#TestSuite#chargeCustomer.balanceType}</balanceType>
         <!--type: string-->
         <referenceId>${#Project#GUID}</referenceId>
         <!--type: dateTime-->
         <paymentDate>${#Project#DateTime_Current_Offset}</paymentDate>
         <!--type: paymentUseCaseEnum - enumeration: [ON_DEMAND,ON_DEMAND_SMS,MONTHLY,PACKPAYMENT]-->
         <paymentUseCase>PACKPAYMENT</paymentUseCase>
         <!--Optional:-->
          <pack>
            <packName>packName-${#Project#DateTime_Current_String_yyyyMMddHHmmssSSS}</packName>
            <packId>${#Project#GUID}</packId>
         </pack>
      </cus:chargeCustomer>
   </soapenv:Body>
</soapenv:Envelope>]]></con:request>
        <con:assertion type="SOAP Response" name="SOAP Response" id="4331434f-7674-48c6-9886-55b02a04fc7c"/>
        <con:assertion type="Schema Compliance" name="Schema Compliance" id="2973d19a-a6b8-45eb-9ad9-2692c25a355a">
          <con:configuration/>
        </con:assertion>
        <con:assertion type="SOAP Fault Assertion" name="Not SOAP Fault" id="8be31a15-5955-426b-b981-e92567df9068"/>
        <con:assertion type="XPath Match" name="Match content of [isDuplicate]=false" id="c7fbaae1-0c9e-4ce4-947d-4e97fd75c358">
          <con:configuration>
            <path>declare namespace ns2='http://directrecharge.o2.com/ws/evolutionservice/customercharging/';
//ns2:chargeCustomerResponse[1]/isDuplicate[1]/text()</path>
            <content>false</content>
            <allowWildcards>false</allowWildcards>
            <ignoreNamspaceDifferences>true</ignoreNamspaceDifferences>
            <ignoreComments>true</ignoreComments>
          </con:configuration>
        </con:assertion>
        <con:credentials>
          <con:selectedAuthProfile>No Authorization</con:selectedAuthProfile>
          <con:authType>No Authorization</con:authType>
        </con:credentials>
        <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
        <con:wsaConfig mustUnderstand="NONE" version="200508"/>
        <con:wsrmConfig version="1.2"/>
        <con:environmentSpec>
          <con:entry environmentId="8bb64a40-b6a3-45c2-a26b-7f6c797dbea5">
            <con:authProfile>No Authorization</con:authProfile>
          </con:entry>
          <con:entry environmentId="ff1a32e2-ce69-4c5a-923a-710f216e83c9">
            <con:authProfile>No Authorization</con:authProfile>
          </con:entry>
          <con:entry environmentId="96753c0f-e806-4b6f-b398-e4e8dbc7bce1">
            <con:authProfile>No Authorization</con:authProfile>
          </con:entry>
          <con:entry environmentId="d4fb7d9b-be04-4609-bf0a-ed3a22d5075f">
            <con:authProfile>No Authorization</con:authProfile>
          </con:entry>
          <con:entry environmentId="e385afea-1153-4d90-83b9-3b49a724f0ea">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
        </con:environmentSpec>
      </con:request>
    </con:config>
  </con:testStep>
  <con:testStep type="request" id="0b0b1df6-ab7c-4933-a2b6-76011e95d015" name="OCS-walletThresholdEventExtNot-Threshold">
    <con:settings/>
    <con:config xsi:type="con:RequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
      <con:interface>ExternalNotificationManagementPort_v1_0_SOAPBinding</con:interface>
      <con:operation>walletThresholdEventExtNot</con:operation>
      <con:request name="OCS-walletThresholdEventExtNot-Threshold" outgoingWss="" incomingWss="" timeout="" sslKeystore="" useWsAddressing="false" useWsReliableMessaging="false" wssPasswordType="" id="69e70e4b-f315-4102-bfe9-b91d64d7669e">
        <con:settings>
          <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
        </con:settings>
        <con:encoding>UTF-8</con:encoding>
        <con:endpoint>${#Project#drc-ExternalNotificationManagement-URL}</con:endpoint>
        <con:request><![CDATA[<soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/" xmlns:add="http://schemas.xmlsoap.org/ws/2004/08/addressing" xmlns:v1="http://www.ericsson.com/OCS/OCS_ExternalNotification_types/v1">
   <soapenv:Header>
      <add:MessageID>http://www.your.gov/certo/dare</add:MessageID>
   </soapenv:Header>
   <soapenv:Body>
      <v1:walletThresholdEventExtNotRequest>
         <v1:userCode>${#TestSuite#DRC-OCS-extNotify-userCode}</v1:userCode>
         <v1:result>
            <v1:opReference>${#Project#GUID}</v1:opReference>
            <v1:subscriberRelatedInfo>
               <v1:subscriberId>
                  <v1:e164Number>${#TestCase#outMSISDN}</v1:e164Number>
               </v1:subscriberId>
               <v1:tariffPlan>3P</v1:tariffPlan>
               <v1:lifeCycleStatus>
                  <v1:subscriberState>A</v1:subscriberState>
                  <v1:subscriberSubState>A</v1:subscriberSubState>
               </v1:lifeCycleStatus>
               <v1:technologyCode>0100</v1:technologyCode>
               <v1:serviceProviderId>${#TestCase#inOCSID}</v1:serviceProviderId>
            </v1:subscriberRelatedInfo>
            <v1:monetaryInfo>
               <v1:currencyCode>${#Project#Currency_Default}</v1:currencyCode>
               <v1:opCost exponent="-2">100</v1:opCost>
               <v1:balance exponent="-2">500</v1:balance>
            </v1:monetaryInfo>
            <v1:operationInfo>
               <v1:operationCode>Test</v1:operationCode>
               <v1:subOperationCode>9999</v1:subOperationCode>
            </v1:operationInfo>
            <v1:flagOperationOrCancellation>false</v1:flagOperationOrCancellation>
         </v1:result>
         <v1:walletThresholdEvent>
            <v1:walletThreshold>
               <v1:walletId>2</v1:walletId>
               <v1:threshold exponent="-2">${#TestCase#inAmount}</v1:threshold>
            </v1:walletThreshold>
         </v1:walletThresholdEvent>
      </v1:walletThresholdEventExtNotRequest>
   </soapenv:Body>
</soapenv:Envelope>]]></con:request>
        <con:assertion type="SOAP Response" name="SOAP Response" id="cc274ee9-6116-48e3-b975-4263e32fa9e4"/>
        <con:assertion type="Schema Compliance" name="Schema Compliance" id="7b168337-c90e-48e5-8133-9b9130a05ad0">
          <con:configuration/>
        </con:assertion>
        <con:assertion type="SOAP Fault Assertion" name="Not SOAP Fault" id="0d4e5021-3a3f-4646-9e97-20d225fb0eb2"/>
        <con:assertion type="XPath Match" name="Match content of [result]=true" id="61290fd6-1cea-4eb3-9812-dc3526e93ee2">
          <con:configuration>
            <path>declare namespace ns1='http://www.ericsson.com/OCS/OCS_ExternalNotification_types/v1';
//ns1:walletThresholdEventExtNotResponse[1]/ns1:result[1]</path>
            <content>true</content>
            <allowWildcards>false</allowWildcards>
            <ignoreNamspaceDifferences>true</ignoreNamspaceDifferences>
            <ignoreComments>true</ignoreComments>
          </con:configuration>
        </con:assertion>
        <con:credentials>
          <con:selectedAuthProfile>No Authorization</con:selectedAuthProfile>
          <con:authType>No Authorization</con:authType>
        </con:credentials>
        <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
        <con:wsaConfig mustUnderstand="NONE" version="200508" action="interfaces_v1_0:walletThresholdEventExtNot"/>
        <con:wsrmConfig version="1.2"/>
        <con:environmentSpec>
          <con:entry environmentId="8bb64a40-b6a3-45c2-a26b-7f6c797dbea5">
            <con:authProfile>No Authorization</con:authProfile>
          </con:entry>
          <con:entry environmentId="ff1a32e2-ce69-4c5a-923a-710f216e83c9">
            <con:authProfile>No Authorization</con:authProfile>
          </con:entry>
          <con:entry environmentId="96753c0f-e806-4b6f-b398-e4e8dbc7bce1">
            <con:authProfile>No Authorization</con:authProfile>
          </con:entry>
          <con:entry environmentId="d4fb7d9b-be04-4609-bf0a-ed3a22d5075f">
            <con:authProfile>No Authorization</con:authProfile>
          </con:entry>
          <con:entry environmentId="e385afea-1153-4d90-83b9-3b49a724f0ea">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
        </con:environmentSpec>
      </con:request>
    </con:config>
  </con:testStep>
  <con:properties>
    <con:property>
      <con:name>inBrandID</con:name>
      <con:value>1</con:value>
    </con:property>
    <con:property>
      <con:name>inTenantID</con:name>
      <con:value>1</con:value>
    </con:property>
    <con:property>
      <con:name>inOCSID</con:name>
      <con:value>00</con:value>
    </con:property>
    <con:property>
      <con:name>inAmount</con:name>
      <con:value>400</con:value>
    </con:property>
    <con:property>
      <con:name>outMSISDN</con:name>
      <con:value>4917686865346</con:value>
    </con:property>
    <con:property>
      <con:name>outContractID</con:name>
      <con:value>989278572195331</con:value>
    </con:property>
  </con:properties>
  <con:reportParameters/>
  <con:breakPoints>
    <con:testStepId>873f21ae-4f09-4e81-836b-7c2db65e53f9</con:testStepId>
    <con:status>NONE</con:status>
    <con:properties/>
  </con:breakPoints>
  <con:breakPoints>
    <con:testStepId>030edbd4-0cf9-44de-8827-b3608bd883fa</con:testStepId>
    <con:status>NONE</con:status>
    <con:properties/>
  </con:breakPoints>
  <con:breakPoints>
    <con:testStepId>c0844c82-d2c1-406f-8525-7754def4102e</con:testStepId>
    <con:status>NONE</con:status>
    <con:properties/>
  </con:breakPoints>
  <con:breakPoints>
    <con:testStepId>906f7ad1-8a21-4c84-b922-99a1ebc6a0a5</con:testStepId>
    <con:status>NONE</con:status>
    <con:properties/>
  </con:breakPoints>
  <con:breakPoints>
    <con:testStepId>0c8b7b6c-2792-4191-92b8-af4bcbefaa6c</con:testStepId>
    <con:status>NONE</con:status>
    <con:properties/>
  </con:breakPoints>
  <con:breakPoints>
    <con:testStepId>16d96131-4f7e-4693-a162-4ed2ac725d37</con:testStepId>
    <con:status>NONE</con:status>
    <con:properties/>
  </con:breakPoints>
  <con:breakPoints>
    <con:testStepId>9ce2765f-7a48-433c-a7bc-8a6701e18ab7</con:testStepId>
    <con:status>NONE</con:status>
    <con:properties/>
  </con:breakPoints>
  <con:breakPoints>
    <con:testStepId>6e9f4850-8a27-48aa-9368-7bab120e3754</con:testStepId>
    <con:status>NONE</con:status>
    <con:properties/>
  </con:breakPoints>
  <con:breakPoints>
    <con:testStepId>bc92827c-c3aa-4e36-8ed1-1b1c1f9f3e5e</con:testStepId>
    <con:status>NONE</con:status>
    <con:properties/>
  </con:breakPoints>
  <con:breakPoints>
    <con:testStepId>b75fa4e8-1e22-4c67-8f36-2cf2d4b2fdbc</con:testStepId>
    <con:status>NONE</con:status>
    <con:properties/>
  </con:breakPoints>
  <con:breakPoints>
    <con:testStepId>a198082c-6fa3-4c72-9bde-16e3a2a22620</con:testStepId>
    <con:status>NONE</con:status>
    <con:properties/>
  </con:breakPoints>
  <con:breakPoints>
    <con:testStepId>5b528cf7-a19e-444b-b3e1-4761ea3a3fb8</con:testStepId>
    <con:status>NONE</con:status>
    <con:properties/>
  </con:breakPoints>
  <con:breakPoints>
    <con:testStepId>7c0f0fbe-621d-40de-967c-ebcc6c329923</con:testStepId>
    <con:status>NONE</con:status>
    <con:properties/>
  </con:breakPoints>
  <con:breakPoints>
    <con:testStepId>4ee3248f-64d7-4563-9967-b04c4c5c8f37</con:testStepId>
    <con:status>NONE</con:status>
    <con:properties/>
  </con:breakPoints>
  <con:breakPoints>
    <con:testStepId>0632b8a8-c914-4e99-a2bd-a1272384b9ab</con:testStepId>
    <con:status>NONE</con:status>
    <con:properties/>
  </con:breakPoints>
  <con:breakPoints>
    <con:testStepId>ecb1c1e4-4a6f-482b-bb68-248bae225b7d</con:testStepId>
    <con:status>NONE</con:status>
    <con:properties/>
  </con:breakPoints>
  <con:breakPoints>
    <con:testStepId>00a590f5-d6c8-4ab1-a59c-490a1578d55b</con:testStepId>
    <con:status>NONE</con:status>
    <con:properties/>
  </con:breakPoints>
  <con:breakPoints>
    <con:testStepId>7d56d5de-913f-4782-b9d4-79cd0d89b707</con:testStepId>
    <con:status>NONE</con:status>
    <con:properties/>
  </con:breakPoints>
  <con:breakPoints>
    <con:testStepId>7dbb8c00-fa23-4463-b4b5-b7548609a068</con:testStepId>
    <con:status>NONE</con:status>
    <con:properties/>
  </con:breakPoints>
  <con:breakPoints>
    <con:testStepId>acb730af-4802-456b-86e0-2c25e7fedb49</con:testStepId>
    <con:status>NONE</con:status>
    <con:properties/>
  </con:breakPoints>
  <con:breakPoints>
    <con:testStepId>148b4ca6-faaf-4f8b-b098-4982aa2fd23c</con:testStepId>
    <con:status>NONE</con:status>
    <con:properties/>
  </con:breakPoints>
  <con:breakPoints>
    <con:testStepId>2f8fc195-2342-40e3-9903-6b781814c861</con:testStepId>
    <con:status>NONE</con:status>
    <con:properties/>
  </con:breakPoints>
  <con:breakPoints>
    <con:testStepId>f1275ca6-88e4-4972-8798-5a38457c0d42</con:testStepId>
    <con:status>NONE</con:status>
    <con:properties/>
  </con:breakPoints>
  <con:breakPoints>
    <con:testStepId>6c60c226-b1d2-4792-8ef0-fcd623817dc0</con:testStepId>
    <con:status>NONE</con:status>
    <con:properties/>
  </con:breakPoints>
  <con:breakPoints>
    <con:testStepId>2c2510a4-d1de-4c06-a3c3-fcd42f2b4cb7</con:testStepId>
    <con:status>NONE</con:status>
    <con:properties/>
  </con:breakPoints>
  <con:breakPoints>
    <con:testStepId>466d6170-165c-49f8-9840-90f54d3650d1</con:testStepId>
    <con:status>NONE</con:status>
    <con:properties/>
  </con:breakPoints>
  <con:breakPoints>
    <con:testStepId>048ca756-439c-45fc-bc98-e5c2cd550add</con:testStepId>
    <con:status>NONE</con:status>
    <con:properties/>
  </con:breakPoints>
  <con:breakPoints>
    <con:testStepId>fd71f96a-bbb6-40d2-9c63-b06d82361294</con:testStepId>
    <con:status>NONE</con:status>
    <con:properties/>
  </con:breakPoints>
  <con:breakPoints>
    <con:testStepId>61f0c353-837b-4396-9223-4527b802af8d</con:testStepId>
    <con:status>NONE</con:status>
    <con:properties/>
  </con:breakPoints>
  <con:breakPoints>
    <con:testStepId>e1d833f2-930a-4c3e-9758-e4bc671c73c7</con:testStepId>
    <con:status>NONE</con:status>
    <con:properties/>
  </con:breakPoints>
  <con:breakPoints>
    <con:testStepId>7985eec0-24c2-452c-82ba-d484f1dd0c00</con:testStepId>
    <con:status>NONE</con:status>
    <con:properties/>
  </con:breakPoints>
  <con:breakPoints>
    <con:testStepId>2823dbfb-a335-4fa1-877e-9c53844f7b0c</con:testStepId>
    <con:status>NONE</con:status>
    <con:properties/>
  </con:breakPoints>
  <con:breakPoints>
    <con:testStepId>66ceffd6-2c24-4c94-9796-0c7189556225</con:testStepId>
    <con:status>NONE</con:status>
    <con:properties/>
  </con:breakPoints>
  <con:breakPoints>
    <con:testStepId>b33fa261-0cb2-45e2-ab11-f8371bfd823e</con:testStepId>
    <con:status>NONE</con:status>
    <con:properties/>
  </con:breakPoints>
  <con:breakPoints>
    <con:testStepId>7f23ff6b-e4bb-480f-9d11-8f6f0f55e0d6</con:testStepId>
    <con:status>NONE</con:status>
    <con:properties/>
  </con:breakPoints>
  <con:breakPoints>
    <con:testStepId>00e2c3e9-0658-462b-af52-e47dbe113a3e</con:testStepId>
    <con:status>NONE</con:status>
    <con:properties/>
  </con:breakPoints>
  <con:breakPoints>
    <con:testStepId>125fe012-690a-4670-b476-f18dff9a596a</con:testStepId>
    <con:status>NONE</con:status>
    <con:properties/>
  </con:breakPoints>
  <con:breakPoints>
    <con:testStepId>8faa6b8f-7718-4e1e-b0e9-a26d31efc1ff</con:testStepId>
    <con:status>NONE</con:status>
    <con:properties/>
  </con:breakPoints>
  <con:breakPoints>
    <con:testStepId>36571e3e-2fc7-4ee8-a5e0-7bb4e2e31cd1</con:testStepId>
    <con:status>NONE</con:status>
    <con:properties/>
  </con:breakPoints>
  <con:breakPoints>
    <con:testStepId>cbd9e371-395c-4684-bf4a-2dcfc66961ca</con:testStepId>
    <con:status>NONE</con:status>
    <con:properties/>
  </con:breakPoints>
  <con:breakPoints>
    <con:testStepId>4ecf6cd8-8d4e-4e87-b546-708df9b965b6</con:testStepId>
    <con:status>NONE</con:status>
    <con:properties/>
  </con:breakPoints>
  <con:breakPoints>
    <con:testStepId>2853ad1e-fa29-4a3f-9d1f-823389af16d2</con:testStepId>
    <con:status>NONE</con:status>
    <con:properties/>
  </con:breakPoints>
  <con:breakPoints>
    <con:testStepId>d7ed07c9-3b36-4e2a-82ef-8441e590f5b5</con:testStepId>
    <con:status>NONE</con:status>
    <con:properties/>
  </con:breakPoints>
  <con:breakPoints>
    <con:testStepId>15106594-fcb5-40e5-8a1e-351c8aaa4e66</con:testStepId>
    <con:status>NONE</con:status>
    <con:properties/>
  </con:breakPoints>
  <con:breakPoints>
    <con:testStepId>1d1dd4cc-dea9-4cf5-a715-a3241dabf229</con:testStepId>
    <con:status>NONE</con:status>
    <con:properties/>
  </con:breakPoints>
  <con:breakPoints>
    <con:testStepId>e9711d73-15eb-4583-b44a-fd2e36f151eb</con:testStepId>
    <con:status>NONE</con:status>
    <con:properties/>
  </con:breakPoints>
  <con:breakPoints>
    <con:testStepId>bb496e9d-6500-448b-b05a-a81379abc26d</con:testStepId>
    <con:status>NONE</con:status>
    <con:properties/>
  </con:breakPoints>
  <con:breakPoints>
    <con:testStepId>86edb45c-3a3f-4303-89e8-0cbdcf19ea74</con:testStepId>
    <con:status>NONE</con:status>
    <con:properties/>
  </con:breakPoints>
  <con:breakPoints>
    <con:testStepId>cb8d5b18-9f4a-40ea-8061-d3fa8452d55a</con:testStepId>
    <con:status>NONE</con:status>
    <con:properties/>
  </con:breakPoints>
  <con:breakPoints>
    <con:testStepId>0898b919-547c-4df6-a442-8e1511d38654</con:testStepId>
    <con:status>NONE</con:status>
    <con:properties/>
  </con:breakPoints>
  <con:breakPoints>
    <con:testStepId>22130b6d-95e8-43c3-b245-b7022c21ad93</con:testStepId>
    <con:status>NONE</con:status>
    <con:properties/>
  </con:breakPoints>
  <con:breakPoints>
    <con:testStepId>399833a1-8044-41e9-892f-a15658c6f06e</con:testStepId>
    <con:status>NONE</con:status>
    <con:properties/>
  </con:breakPoints>
  <con:breakPoints>
    <con:testStepId>65cd2245-33ed-4601-8116-4e153175c44e</con:testStepId>
    <con:status>NONE</con:status>
    <con:properties/>
  </con:breakPoints>
  <con:breakPoints>
    <con:testStepId>88e17449-98fa-499a-8bdb-2ca8adc2ef80</con:testStepId>
    <con:status>NONE</con:status>
    <con:properties/>
  </con:breakPoints>
  <con:breakPoints>
    <con:testStepId>2e83af03-d979-4882-a19b-66939768cc8c</con:testStepId>
    <con:status>NONE</con:status>
    <con:properties/>
  </con:breakPoints>
  <con:breakPoints>
    <con:testStepId>0b0b1df6-ab7c-4933-a2b6-76011e95d015</con:testStepId>
    <con:status>NONE</con:status>
    <con:properties/>
  </con:breakPoints>
  <con:environmentSpec>
    <con:entry environmentId="e385afea-1153-4d90-83b9-3b49a724f0ea">
      <con:authProfile>Inherit From Parent</con:authProfile>
    </con:entry>
  </con:environmentSpec>
</con:testCase>
