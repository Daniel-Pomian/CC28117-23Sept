<?xml version="1.0" encoding="UTF-8"?>
<con:testCase id="bd954d37-768d-4e66-83f5-35f915b9546f" discardOkResults="true" failOnError="false" failTestCaseOnErrors="true" keepSession="false" name="BadCase-DEV-Camt054-CREDIT-WrongTenant-US-138" searchProperties="true" timeout="0" wsrmEnabled="false" wsrmVersion="1.0" wsrmAckTo="" amfAuthorisation="false" amfEndpoint="" amfLogin="" amfPassword="" maxResults="0" xmlns:con="http://eviware.com/soapui/config">
  <con:description>Test followed restriction from US-138:
It should not be possible to perform bank transactions between the tenants. That means, that DRC has to validate if the bank transactions are processed via the valid bank account every time.
Manual assignment on GUI  should be possible only to msisdn from the same tenant.
Based on SR in SVN:
svn://svn.sg.de.pri.o2.com/DealerPortal/DirectRecharge/trunk/SRs/R16-4/SR50945 - K2 B2P - Brand Partner Enabler - PP Multi-Tenancy Reference Template - Drop 2</con:description>
  <con:settings>
    <con:setting id="bd954d37-768d-4e66-83f5-35f915b9546ffileName">BadCase-DEV-Camt054-CREDIT-WrongTenant-US-138</con:setting>
  </con:settings>
  <con:savedRecentRuns>1</con:savedRecentRuns>
  <con:testStep type="transfer" name="_Property Transfer-ClearValues" id="fc919192-c0de-4d6c-b722-5a9e3f66d973">
    <con:settings/>
    <con:config xsi:type="con:PropertyTransfersStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
      <con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="false" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false">
        <con:name>1</con:name>
        <con:sourceType>StringEmpty</con:sourceType>
        <con:sourceStep>#Project#</con:sourceStep>
        <con:sourcePath/>
        <con:targetType>MSISDN</con:targetType>
        <con:targetStep>#TestCase#</con:targetStep>
        <con:targetPath/>
        <con:upgraded>true</con:upgraded>
      </con:transfers>
      <con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="false" disabled="false" entitize="false" ignoreEmpty="false" transferChildNodes="false" transferToAll="false" useXQuery="false">
        <con:name>2</con:name>
        <con:sourceType>StringEmpty</con:sourceType>
        <con:sourceStep>#Project#</con:sourceStep>
        <con:sourcePath/>
        <con:targetType>MSISDN-Tenant-1</con:targetType>
        <con:targetStep>#TestCase#</con:targetStep>
        <con:targetPath/>
        <con:type>XPATH</con:type>
        <con:targetTransferType>XPATH</con:targetTransferType>
        <con:upgraded>true</con:upgraded>
      </con:transfers>
      <con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="false" disabled="false" entitize="false" ignoreEmpty="false" transferChildNodes="false" transferToAll="false" useXQuery="false">
        <con:name>4</con:name>
        <con:sourceType>StringEmpty</con:sourceType>
        <con:sourceStep>#Project#</con:sourceStep>
        <con:sourcePath/>
        <con:targetType>contractID</con:targetType>
        <con:targetStep>#TestCase#</con:targetStep>
        <con:targetPath/>
        <con:type>XPATH</con:type>
        <con:targetTransferType>XPATH</con:targetTransferType>
        <con:upgraded>true</con:upgraded>
      </con:transfers>
      <con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="false" disabled="false" entitize="false" ignoreEmpty="false" transferChildNodes="false" transferToAll="false" useXQuery="false">
        <con:name>5</con:name>
        <con:sourceType>StringEmpty</con:sourceType>
        <con:sourceStep>#Project#</con:sourceStep>
        <con:sourcePath/>
        <con:targetType>contractID-Tenant-1</con:targetType>
        <con:targetStep>#TestCase#</con:targetStep>
        <con:targetPath/>
        <con:type>XPATH</con:type>
        <con:targetTransferType>XPATH</con:targetTransferType>
        <con:upgraded>true</con:upgraded>
      </con:transfers>
      <con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="false" disabled="false" entitize="false" ignoreEmpty="false" transferChildNodes="false" transferToAll="false" useXQuery="false">
        <con:name>6</con:name>
        <con:sourceType>StringEmpty</con:sourceType>
        <con:sourceStep>#Project#</con:sourceStep>
        <con:sourcePath/>
        <con:targetType>contractID-Tenant-3</con:targetType>
        <con:targetStep>#TestCase#</con:targetStep>
        <con:targetPath/>
        <con:type>XPATH</con:type>
        <con:targetTransferType>XPATH</con:targetTransferType>
        <con:upgraded>true</con:upgraded>
      </con:transfers>
      <con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="false" disabled="false" entitize="false" ignoreEmpty="false" transferChildNodes="false" transferToAll="false" useXQuery="false">
        <con:name>7</con:name>
        <con:sourceType>StringEmpty</con:sourceType>
        <con:sourceStep>#Project#</con:sourceStep>
        <con:sourcePath/>
        <con:targetType>outFilePath</con:targetType>
        <con:targetStep>#TestCase#</con:targetStep>
        <con:targetPath/>
        <con:type>XPATH</con:type>
        <con:targetTransferType>XPATH</con:targetTransferType>
        <con:upgraded>true</con:upgraded>
      </con:transfers>
      <con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="false" disabled="false" entitize="false" ignoreEmpty="false" transferChildNodes="false" transferToAll="false" useXQuery="false">
        <con:name>8</con:name>
        <con:sourceType>StringEmpty</con:sourceType>
        <con:sourceStep>#Project#</con:sourceStep>
        <con:sourcePath/>
        <con:targetType>countNotRelTransactions</con:targetType>
        <con:targetStep>#TestCase#</con:targetStep>
        <con:targetPath/>
        <con:type>XPATH</con:type>
        <con:targetTransferType>XPATH</con:targetTransferType>
        <con:upgraded>true</con:upgraded>
      </con:transfers>
      <con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="false" disabled="false" entitize="false" ignoreEmpty="false" transferChildNodes="false" transferToAll="false" useXQuery="false">
        <con:name>9</con:name>
        <con:sourceType>StringEmpty</con:sourceType>
        <con:sourceStep>#Project#</con:sourceStep>
        <con:sourcePath/>
        <con:targetType>camt054InputId</con:targetType>
        <con:targetStep>#TestCase#</con:targetStep>
        <con:targetPath/>
        <con:type>XPATH</con:type>
        <con:targetTransferType>XPATH</con:targetTransferType>
        <con:upgraded>true</con:upgraded>
      </con:transfers>
    </con:config>
  </con:testStep>
  <con:testStep type="calltestcase" name="_Run TestCase-ClearAccount-Tenant-3" id="0b095234-cd8f-480a-850a-c84f7ac5dbe4">
    <con:settings/>
    <con:config xsi:type="con:RunTestCaseStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
      <con:targetTestCase>cdcf7fb3-819c-4add-9832-3991d991e649</con:targetTestCase>
      <con:properties>
        <con:property>
          <con:name>MSISDN</con:name>
          <con:value>${#Project#ChargeCustomer-2-MSISDN}</con:value>
        </con:property>
      </con:properties>
      <con:returnProperties/>
      <con:runMode>SINGLETON_AND_WAIT</con:runMode>
    </con:config>
  </con:testStep>
  <con:testStep type="request" id="5c87dc39-ba5a-4d34-b53a-f78d9beddde7" name="_GUI_countNotRelatableBankTransactions">
    <con:settings/>
    <con:config xsi:type="con:RequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
      <con:interface>DrcGuiSoapBinding</con:interface>
      <con:operation>countNotRelatableBankTransactions</con:operation>
      <con:request name="_GUI_countNotRelatableBankTransactions" outgoingWss="" incomingWss="" timeout="" sslKeystore="" useWsAddressing="false" useWsReliableMessaging="false" wssPasswordType="" id="31abc64f-506f-42e3-b11e-5a5c5647ebc4">
        <con:settings>
          <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="drc-gui-user" value="${#Project#drc-GUIService-User}" xmlns="http://eviware.com/soapui/config"/></con:setting>
        </con:settings>
        <con:encoding>UTF-8</con:encoding>
        <con:endpoint>${#Project#drc-GUIService-URL}</con:endpoint>
        <con:request><![CDATA[<soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/" xmlns:type="http://directrecharge.o2.com/ws/drcgui/v1/" xmlns:v1="http://directrecharge.o2.com/ws/drcgui/v1/">\r
   <soapenv:Header/>\r
   <soapenv:Body>\r
      <v1:countNotRelatableBankTransactions>\r
         <timeFrame>\r
            <fromDate>${#Project#Date_Current_yyyy-MM-dd}T00:00:00</fromDate>\r
         </timeFrame>\r
      </v1:countNotRelatableBankTransactions>\r
   </soapenv:Body>\r
</soapenv:Envelope>]]></con:request>
        <con:assertion type="SOAP Response" id="8316ef63-ed63-4fda-9d62-78b7b908087f" name="SOAP Response"/>
        <con:assertion type="Schema Compliance" id="8a7a94c0-e3dd-4236-a2b1-628bb8fa9326" name="Schema Compliance">
          <con:configuration/>
        </con:assertion>
        <con:assertion type="SOAP Fault Assertion" id="df69a9b4-2e0f-40d7-8114-c5209fe8ef57" name="Not SOAP Fault"/>
        <con:assertion type="XPath Match" id="8ea0961a-6f6d-4e99-85ca-e8975901b2a9" name="Check for existence of [countResult]">
          <con:configuration>
            <path>declare namespace ns2='http://directrecharge.o2.com/ws/drcgui/v1/';
exists( //ns2:countNotRelatableBankTransactionsResponse/countResult)</path>
            <content>true</content>
            <allowWildcards>false</allowWildcards>
            <ignoreNamspaceDifferences>true</ignoreNamspaceDifferences>
            <ignoreComments>true</ignoreComments>
          </con:configuration>
        </con:assertion>
        <con:credentials>
          <con:selectedAuthProfile>No Authorization</con:selectedAuthProfile>
          <con:authType>No Authorization</con:authType>
        </con:credentials>
        <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
        <con:wsaConfig mustUnderstand="NONE" version="200508" action="http://directrecharge.o2.com/ws/drcgui/DrcGuiPortType/countNotRelatableBankTransactions"/>
        <con:wsrmConfig version="1.2"/>
        <con:environmentSpec>
          <con:entry environmentId="ff1a32e2-ce69-4c5a-923a-710f216e83c9">
            <con:authProfile>No Authorization</con:authProfile>
          </con:entry>
          <con:entry environmentId="96753c0f-e806-4b6f-b398-e4e8dbc7bce1">
            <con:authProfile>No Authorization</con:authProfile>
          </con:entry>
          <con:entry environmentId="d4fb7d9b-be04-4609-bf0a-ed3a22d5075f">
            <con:authProfile>No Authorization</con:authProfile>
          </con:entry>
          <con:entry environmentId="e385afea-1153-4d90-83b9-3b49a724f0ea">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
        </con:environmentSpec>
      </con:request>
    </con:config>
  </con:testStep>
  <con:testStep type="request" name="_subsripManagement_registerForDD_MSISDN-Tenant-1" id="d04c5c29-1d76-481c-9a2b-fae9902428ab">
    <con:settings/>
    <con:config xsi:type="con:RequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
      <con:interface>SubscriptionManagementServiceSoapBinding</con:interface>
      <con:operation>registerForDirectDebit</con:operation>
      <con:request name="_subsripManagement_registerForDD_MSISDN-Tenant-1" id="66d9d8f9-7ba5-4176-8f66-e91fce9dac03" defaultOutgoingWss="" defaultIncomingWss="">
        <con:settings>
          <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
        </con:settings>
        <con:encoding>UTF-8</con:encoding>
        <con:endpoint>${#Project#drc-subscriptionManagementService-URL}</con:endpoint>
        <con:request><![CDATA[<soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/" xmlns:cus="http://directrecharge.o2.com/ws/evolutionservice/customercharging/">
   <soapenv:Header/>
   <soapenv:Body>
      <cus:registerForDirectDebit>
         <msisdn>${#Project#MSISDN-chargeCustomer-OK}</msisdn>
         <externalContractId>${#Project#Random10}${#Project#Random5}</externalContractId>
         <multibrandId>
            <brandId>${#Project#ChargeCustomer-1-BrandID}</brandId>
            <tenantId>${#Project#ChargeCustomer-1-TenantID}</tenantId>
         </multibrandId>
         <bankData>
            <iban>${#Project#Customer-IBAN}</iban>
            <!--Optional:-->
            <bic>${#Project#Customer-BIC}</bic>
            <bankAccountOwner>bankAccountOwner</bankAccountOwner>
            <mandateId>${#Project#Customer-MandantID}</mandateId>
            <mandateCreationDate>${#Project#DateTime_Current}</mandateCreationDate>
            <mandateStatus>ACTIVE</mandateStatus>
            <!--Optional:-->
            <ultimateDebtor>ultimateDebtor</ultimateDebtor>
         </bankData>
         <directDebitState>ACTIVE</directDebitState>
         
      </cus:registerForDirectDebit>
   </soapenv:Body>
</soapenv:Envelope>]]></con:request>
        <con:assertion type="SOAP Response" name="SOAP Response" id="d2e40bcb-b76a-4758-bba3-ee05f2b4b8da"/>
        <con:assertion type="Schema Compliance" name="Schema Compliance" id="ab912914-c9d1-4496-9feb-3c793ba23f99">
          <con:configuration/>
        </con:assertion>
        <con:assertion type="SOAP Fault Assertion" name="Not SOAP Fault" id="81a07465-c296-4676-b2a4-5f809506f213"/>
        <con:assertion type="XPath Match" name="Match content of [isNewRegistration]=true" id="8fe0435a-35d0-4413-843e-75b3eaa3767b">
          <con:configuration>
            <path>declare namespace ns2='http://directrecharge.o2.com/ws/evolutionservice/customercharging/';
//ns2:registerForDirectDebitResponse[1]/isNewRegistration[1]/text()</path>
            <content>true</content>
            <allowWildcards>false</allowWildcards>
            <ignoreNamspaceDifferences>true</ignoreNamspaceDifferences>
            <ignoreComments>true</ignoreComments>
          </con:configuration>
        </con:assertion>
        <con:assertion type="XPath Match" name="Check for [recordId] >0" id="d9c696b0-3fc9-4d2a-8dd0-661d7cabf7dd">
          <con:configuration>
            <path>declare namespace ns2='http://directrecharge.o2.com/ws/evolutionservice/customercharging/';
 //ns2:registerForDirectDebitResponse/recordId>0</path>
            <content>true</content>
            <allowWildcards>false</allowWildcards>
            <ignoreNamspaceDifferences>true</ignoreNamspaceDifferences>
            <ignoreComments>true</ignoreComments>
          </con:configuration>
        </con:assertion>
        <con:credentials>
          <con:selectedAuthProfile>No Authorization</con:selectedAuthProfile>
          <con:authType>No Authorization</con:authType>
        </con:credentials>
        <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
        <con:wsaConfig mustUnderstand="NONE" version="200508"/>
        <con:wsrmConfig version="1.2"/>
        <con:environmentSpec>
          <con:entry environmentId="8bb64a40-b6a3-45c2-a26b-7f6c797dbea5">
            <con:authProfile>No Authorization</con:authProfile>
          </con:entry>
          <con:entry environmentId="ff1a32e2-ce69-4c5a-923a-710f216e83c9">
            <con:authProfile>No Authorization</con:authProfile>
          </con:entry>
          <con:entry environmentId="96753c0f-e806-4b6f-b398-e4e8dbc7bce1">
            <con:authProfile>No Authorization</con:authProfile>
          </con:entry>
          <con:entry environmentId="d4fb7d9b-be04-4609-bf0a-ed3a22d5075f">
            <con:authProfile>No Authorization</con:authProfile>
          </con:entry>
          <con:entry environmentId="e385afea-1153-4d90-83b9-3b49a724f0ea">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
        </con:environmentSpec>
      </con:request>
    </con:config>
  </con:testStep>
  <con:testStep type="request" name="_subsripManagement_registerForDD_MSISDN-Tenant-3" id="11e86b58-81bb-460a-a467-8c3808820801">
    <con:settings/>
    <con:config xsi:type="con:RequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
      <con:interface>SubscriptionManagementServiceSoapBinding</con:interface>
      <con:operation>registerForDirectDebit</con:operation>
      <con:request name="_subsripManagement_registerForDD_MSISDN-Tenant-3" id="66d9d8f9-7ba5-4176-8f66-e91fce9dac03" defaultOutgoingWss="" defaultIncomingWss="">
        <con:settings>
          <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
        </con:settings>
        <con:encoding>UTF-8</con:encoding>
        <con:endpoint>${#Project#drc-subscriptionManagementService-URL}</con:endpoint>
        <con:request><![CDATA[<soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/" xmlns:cus="http://directrecharge.o2.com/ws/evolutionservice/customercharging/">
   <soapenv:Header/>
   <soapenv:Body>
      <cus:registerForDirectDebit>
         
         <msisdn>${#Project#ChargeCustomer-2-MSISDN}</msisdn><externalContractId>${#Project#Random10}${#Project#Random5}</externalContractId>
         <multibrandId>
            <brandId>${#Project#ChargeCustomer-2-BrandID}</brandId>
            <tenantId>${#Project#ChargeCustomer-2-TenantID}</tenantId>
         </multibrandId>
         <bankData>
            <iban>${#Project#Customer-IBAN}</iban>
            <!--Optional:-->
            <bic>${#Project#Customer-BIC}</bic>
            <bankAccountOwner>bankAccountOwner</bankAccountOwner>
            <mandateId>${#Project#Customer-MandantID}</mandateId>
            <mandateCreationDate>${#Project#DateTime_Current}</mandateCreationDate>
            <mandateStatus>ACTIVE</mandateStatus>
            <!--Optional:-->
            <ultimateDebtor>ultimateDebtor</ultimateDebtor>
         </bankData>
         <directDebitState>ACTIVE</directDebitState>
         
      </cus:registerForDirectDebit>
   </soapenv:Body>
</soapenv:Envelope>]]></con:request>
        <con:assertion type="SOAP Response" name="SOAP Response" id="d2e40bcb-b76a-4758-bba3-ee05f2b4b8da"/>
        <con:assertion type="Schema Compliance" name="Schema Compliance" id="ab912914-c9d1-4496-9feb-3c793ba23f99">
          <con:configuration/>
        </con:assertion>
        <con:assertion type="SOAP Fault Assertion" name="Not SOAP Fault" id="81a07465-c296-4676-b2a4-5f809506f213"/>
        <con:assertion type="XPath Match" name="Match content of [isNewRegistration]=true" id="8fe0435a-35d0-4413-843e-75b3eaa3767b">
          <con:configuration>
            <path>declare namespace ns2='http://directrecharge.o2.com/ws/evolutionservice/customercharging/';
//ns2:registerForDirectDebitResponse[1]/isNewRegistration[1]/text()</path>
            <content>true</content>
            <allowWildcards>false</allowWildcards>
            <ignoreNamspaceDifferences>true</ignoreNamspaceDifferences>
            <ignoreComments>true</ignoreComments>
          </con:configuration>
        </con:assertion>
        <con:assertion type="XPath Match" name="Check for [recordId] >0" id="d9c696b0-3fc9-4d2a-8dd0-661d7cabf7dd">
          <con:configuration>
            <path>declare namespace ns2='http://directrecharge.o2.com/ws/evolutionservice/customercharging/';
 //ns2:registerForDirectDebitResponse/recordId>0</path>
            <content>true</content>
            <allowWildcards>false</allowWildcards>
            <ignoreNamspaceDifferences>true</ignoreNamspaceDifferences>
            <ignoreComments>true</ignoreComments>
          </con:configuration>
        </con:assertion>
        <con:credentials>
          <con:selectedAuthProfile>No Authorization</con:selectedAuthProfile>
          <con:authType>No Authorization</con:authType>
        </con:credentials>
        <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
        <con:wsaConfig mustUnderstand="NONE" version="200508"/>
        <con:wsrmConfig version="1.2"/>
        <con:environmentSpec>
          <con:entry environmentId="8bb64a40-b6a3-45c2-a26b-7f6c797dbea5">
            <con:authProfile>No Authorization</con:authProfile>
          </con:entry>
          <con:entry environmentId="ff1a32e2-ce69-4c5a-923a-710f216e83c9">
            <con:authProfile>No Authorization</con:authProfile>
          </con:entry>
          <con:entry environmentId="96753c0f-e806-4b6f-b398-e4e8dbc7bce1">
            <con:authProfile>No Authorization</con:authProfile>
          </con:entry>
          <con:entry environmentId="d4fb7d9b-be04-4609-bf0a-ed3a22d5075f">
            <con:authProfile>No Authorization</con:authProfile>
          </con:entry>
          <con:entry environmentId="e385afea-1153-4d90-83b9-3b49a724f0ea">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
        </con:environmentSpec>
      </con:request>
    </con:config>
  </con:testStep>
  <con:testStep type="request" name="11000N_subsripManagement_registerForDD" id="2670160a-bd3a-4784-b307-1a6c89178de1">
    <con:settings/>
    <con:config xsi:type="con:RequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
      <con:interface>SubscriptionManagementServiceSoapBinding</con:interface>
      <con:operation>registerForDirectDebit</con:operation>
      <con:request name="11000N_subsripManagement_registerForDD" id="66d9d8f9-7ba5-4176-8f66-e91fce9dac03" defaultOutgoingWss="" defaultIncomingWss="">
        <con:settings>
          <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
        </con:settings>
        <con:encoding>UTF-8</con:encoding>
        <con:endpoint>${#Project#drc-subscriptionManagementService-URL}</con:endpoint>
        <con:request><![CDATA[<soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/" xmlns:cus="http://directrecharge.o2.com/ws/evolutionservice/customercharging/">
   <soapenv:Header/>
   <soapenv:Body>
      <cus:registerForDirectDebit>
         <msisdn>${#Project#MSISDN-chargeCustomer-OK}</msisdn>
         <externalContractId>${#Project#Random10}${#Project#Random5}</externalContractId>
         <multibrandId>
            <brandId>${#Project#ChargeCustomer-1-BrandID}</brandId>
            <tenantId>${#Project#ChargeCustomer-1-TenantID}</tenantId>
         </multibrandId>
         <bankData>
            <iban>${#Project#Customer-IBAN}</iban>
            <!--Optional:-->
            <bic>${#Project#Customer-BIC}</bic>
            <bankAccountOwner>bankAccountOwner</bankAccountOwner>
            <mandateId>${#Project#Customer-MandantID}</mandateId>
            <mandateCreationDate>${#Project#DateTime_Current}</mandateCreationDate>
            <mandateStatus>ACTIVE</mandateStatus>
            <!--Optional:-->
            <ultimateDebtor>ultimateDebtor</ultimateDebtor>
         </bankData>
         <directDebitState>ACTIVE</directDebitState>
         
      </cus:registerForDirectDebit>
   </soapenv:Body>
</soapenv:Envelope>]]></con:request>
        <con:assertion type="SOAP Response" name="SOAP Response" id="d2e40bcb-b76a-4758-bba3-ee05f2b4b8da"/>
        <con:assertion type="Schema Compliance" name="Schema Compliance" id="ab912914-c9d1-4496-9feb-3c793ba23f99">
          <con:configuration/>
        </con:assertion>
        <con:assertion type="SOAP Fault Assertion" name="Not SOAP Fault" id="81a07465-c296-4676-b2a4-5f809506f213"/>
        <con:assertion type="XPath Match" name="Match content of [isNewRegistration]=true" id="8fe0435a-35d0-4413-843e-75b3eaa3767b">
          <con:configuration>
            <path>declare namespace ns2='http://directrecharge.o2.com/ws/evolutionservice/customercharging/';
//ns2:registerForDirectDebitResponse[1]/isNewRegistration[1]/text()</path>
            <content>true</content>
            <allowWildcards>false</allowWildcards>
            <ignoreNamspaceDifferences>true</ignoreNamspaceDifferences>
            <ignoreComments>true</ignoreComments>
          </con:configuration>
        </con:assertion>
        <con:assertion type="XPath Match" name="Check for [recordId] >0" id="d9c696b0-3fc9-4d2a-8dd0-661d7cabf7dd">
          <con:configuration>
            <path>declare namespace ns2='http://directrecharge.o2.com/ws/evolutionservice/customercharging/';
 //ns2:registerForDirectDebitResponse/recordId>0</path>
            <content>true</content>
            <allowWildcards>false</allowWildcards>
            <ignoreNamspaceDifferences>true</ignoreNamspaceDifferences>
            <ignoreComments>true</ignoreComments>
          </con:configuration>
        </con:assertion>
        <con:credentials>
          <con:selectedAuthProfile>No Authorization</con:selectedAuthProfile>
          <con:authType>No Authorization</con:authType>
        </con:credentials>
        <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
        <con:wsaConfig mustUnderstand="NONE" version="200508"/>
        <con:wsrmConfig version="1.2"/>
        <con:environmentSpec>
          <con:entry environmentId="8bb64a40-b6a3-45c2-a26b-7f6c797dbea5">
            <con:authProfile>No Authorization</con:authProfile>
          </con:entry>
          <con:entry environmentId="ff1a32e2-ce69-4c5a-923a-710f216e83c9">
            <con:authProfile>No Authorization</con:authProfile>
          </con:entry>
          <con:entry environmentId="96753c0f-e806-4b6f-b398-e4e8dbc7bce1">
            <con:authProfile>No Authorization</con:authProfile>
          </con:entry>
          <con:entry environmentId="d4fb7d9b-be04-4609-bf0a-ed3a22d5075f">
            <con:authProfile>No Authorization</con:authProfile>
          </con:entry>
          <con:entry environmentId="e385afea-1153-4d90-83b9-3b49a724f0ea">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
        </con:environmentSpec>
      </con:request>
    </con:config>
  </con:testStep>
  <con:testStep type="transfer" name="_Property Transfer-Data" id="e7efde56-b3de-4ba9-8ca5-bfeb028960e3">
    <con:settings/>
    <con:config xsi:type="con:PropertyTransfersStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
      <con:transfers setNullOnMissingSource="false" transferTextContent="true" failOnError="false" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false">
        <con:name>MSISDN</con:name>
        <con:sourceType>RawRequest</con:sourceType>
        <con:sourceStep>11000N_subsripManagement_registerForDD</con:sourceStep>
        <con:sourcePath>declare namespace cus='http://directrecharge.o2.com/ws/evolutionservice/customercharging/';
//cus:registerForDirectDebit[1]/msisdn[1]</con:sourcePath>
        <con:targetType>MSISDN</con:targetType>
        <con:targetStep>#TestCase#</con:targetStep>
        <con:targetPath/>
        <con:type>XPATH</con:type>
        <con:upgraded>true</con:upgraded>
      </con:transfers>
      <con:transfers setNullOnMissingSource="false" transferTextContent="true" failOnError="false" disabled="false" entitize="false" ignoreEmpty="false" transferChildNodes="false" transferToAll="false" useXQuery="false">
        <con:name>ContractID</con:name>
        <con:sourceType>RawRequest</con:sourceType>
        <con:sourceStep>11000N_subsripManagement_registerForDD</con:sourceStep>
        <con:sourcePath>declare namespace cus='http://directrecharge.o2.com/ws/evolutionservice/customercharging/';
//cus:registerForDirectDebit[1]/externalContractId[1]</con:sourcePath>
        <con:targetType>contractID</con:targetType>
        <con:targetStep>#TestCase#</con:targetStep>
        <con:targetPath/>
        <con:type>XPATH</con:type>
        <con:targetTransferType>XPATH</con:targetTransferType>
        <con:upgraded>true</con:upgraded>
      </con:transfers>
      <con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="false" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false">
        <con:name>countTransactions</con:name>
        <con:sourceType>Response</con:sourceType>
        <con:sourceStep>_GUI_countNotRelatableBankTransactions</con:sourceStep>
        <con:sourcePath>declare namespace ns2='http://directrecharge.o2.com/ws/drcgui/v1/';
//ns2:countNotRelatableBankTransactionsResponse[1]/countResult[1]</con:sourcePath>
        <con:targetType>countNotRelTransactions</con:targetType>
        <con:targetStep>#TestCase#</con:targetStep>
        <con:upgraded>true</con:upgraded>
      </con:transfers>
      <con:transfers setNullOnMissingSource="false" transferTextContent="true" failOnError="false" disabled="false" entitize="false" ignoreEmpty="false" transferChildNodes="false" transferToAll="false" useXQuery="false">
        <con:name>MSISDN-Tenant-1</con:name>
        <con:sourceType>RawRequest</con:sourceType>
        <con:sourceStep>_subsripManagement_registerForDD_MSISDN-Tenant-1</con:sourceStep>
        <con:sourcePath>declare namespace cus='http://directrecharge.o2.com/ws/evolutionservice/customercharging/';
//cus:registerForDirectDebit[1]/msisdn[1]</con:sourcePath>
        <con:targetType>MSISDN-Tenant-1</con:targetType>
        <con:targetStep>#TestCase#</con:targetStep>
        <con:targetPath/>
        <con:type>XPATH</con:type>
        <con:targetTransferType>XPATH</con:targetTransferType>
        <con:upgraded>true</con:upgraded>
      </con:transfers>
      <con:transfers setNullOnMissingSource="false" transferTextContent="true" failOnError="false" disabled="false" entitize="false" ignoreEmpty="false" transferChildNodes="false" transferToAll="false" useXQuery="false">
        <con:name>contractId-Tenant-1</con:name>
        <con:sourceType>RawRequest</con:sourceType>
        <con:sourceStep>_subsripManagement_registerForDD_MSISDN-Tenant-1</con:sourceStep>
        <con:sourcePath>declare namespace cus='http://directrecharge.o2.com/ws/evolutionservice/customercharging/';
//cus:registerForDirectDebit[1]/externalContractId[1]</con:sourcePath>
        <con:targetType>contractID-Tenant-1</con:targetType>
        <con:targetStep>#TestCase#</con:targetStep>
        <con:targetPath/>
        <con:type>XPATH</con:type>
        <con:targetTransferType>XPATH</con:targetTransferType>
        <con:upgraded>true</con:upgraded>
      </con:transfers>
      <con:transfers setNullOnMissingSource="false" transferTextContent="true" failOnError="false" disabled="false" entitize="false" ignoreEmpty="false" transferChildNodes="false" transferToAll="false" useXQuery="false">
        <con:name>contractId-Tenant-3</con:name>
        <con:sourceType>RawRequest</con:sourceType>
        <con:sourceStep>_subsripManagement_registerForDD_MSISDN-Tenant-3</con:sourceStep>
        <con:sourcePath>declare namespace cus='http://directrecharge.o2.com/ws/evolutionservice/customercharging/';
//cus:registerForDirectDebit[1]/externalContractId[1]</con:sourcePath>
        <con:targetType>contractID-Tenant-3</con:targetType>
        <con:targetStep>#TestCase#</con:targetStep>
        <con:targetPath/>
        <con:type>XPATH</con:type>
        <con:targetTransferType>XPATH</con:targetTransferType>
        <con:upgraded>true</con:upgraded>
      </con:transfers>
    </con:config>
  </con:testStep>
  <con:testStep type="calltestcase" name="11010N_Run TestCase-CreateFile-CAMT54-Credit" id="aedb7c2f-0844-48ef-819a-d2788f0af3af">
    <con:settings/>
    <con:config xsi:type="con:RunTestCaseStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
      <con:targetTestCase>6c53fd31-dcb2-4656-b2f7-74476ec4927b</con:targetTestCase>
      <con:properties>
        <con:property>
          <con:name>outTargetFile</con:name>
          <con:value>/CAMT54-Files/20221003160045762-CAMT54-Credit.xml</con:value>
        </con:property>
        <con:property>
          <con:name>inCount</con:name>
          <con:value>1</con:value>
        </con:property>
        <con:property>
          <con:name>inAmountInCent</con:name>
          <con:value>${#TestSuite#CAMT54-Amount-Default}</con:value>
        </con:property>
        <con:property>
          <con:name>inMSISDN</con:name>
          <con:value>${#TestCase#MSISDN}</con:value>
        </con:property>
        <con:property>
          <con:name>inBool-SkipLoadAndExecSteps</con:name>
          <con:value>true</con:value>
        </con:property>
        <con:property>
          <con:name>Amount</con:name>
        </con:property>
        <con:property>
          <con:name>TotalAmount</con:name>
        </con:property>
      </con:properties>
      <con:returnProperties>
        <con:entry>outTargetFile</con:entry>
      </con:returnProperties>
      <con:runMode>SINGLETON_AND_WAIT</con:runMode>
    </con:config>
  </con:testStep>
  <con:testStep type="transfer" name="_Property Transfer-path" id="21d1a520-3b09-49f7-b184-566079af0ddb">
    <con:settings/>
    <con:config xsi:type="con:PropertyTransfersStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
      <con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="false" disabled="false" entitize="false" ignoreEmpty="false" transferChildNodes="false" transferToAll="false" useXQuery="false">
        <con:name>path</con:name>
        <con:sourceType>outTargetFile</con:sourceType>
        <con:sourceStep>11010N_Run TestCase-CreateFile-CAMT54-Credit</con:sourceStep>
        <con:sourcePath/>
        <con:targetType>outFilePath</con:targetType>
        <con:targetStep>#TestCase#</con:targetStep>
        <con:targetPath/>
        <con:type>XPATH</con:type>
        <con:targetTransferType>XPATH</con:targetTransferType>
        <con:upgraded>true</con:upgraded>
      </con:transfers>
    </con:config>
  </con:testStep>
  <con:testStep type="calltestcase" name="_Run TestCase-ReplaceInFile" id="6c712f8c-b7e6-443d-b86e-986ec54b5f37">
    <con:settings/>
    <con:config xsi:type="con:RunTestCaseStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
      <con:targetTestCase>f2b82dbc-d62b-49bc-9538-15f7072cb59b</con:targetTestCase>
      <con:properties>
        <con:property>
          <con:name>inFilePath</con:name>
          <con:value>${#TestCase#outFilePath}</con:value>
        </con:property>
        <con:property>
          <con:name>inOldValue</con:name>
          <con:value>${#Project#ChargeCustomer-1-1-IBAN}</con:value>
        </con:property>
        <con:property>
          <con:name>inNewValue</con:name>
          <con:value>${#Project#ChargeCustomer-2-1-IBAN}</con:value>
        </con:property>
      </con:properties>
      <con:returnProperties/>
      <con:runMode>SINGLETON_AND_WAIT</con:runMode>
    </con:config>
  </con:testStep>
  <con:testStep type="groovy" name="_Groovy Script-ReplaceTenantBankDataInCamt054" id="5f3bdc8f-ea39-455c-8060-cc4623bd5a07" disabled="true">
    <con:settings/>
    <con:config>
      <script>/*
  * This script replace bank data from tenant in generated camt054 file for credit based on US-138
  * Author: 	Michael Gordon
  * Date:		01.02.2017
  */

 // set reguired values from properties 
 String sFilePath = context.expand( '${#TestCase#outFilePath}' )
 String sTenant1_IBAN = context.expand( '${#Project#ChargeCustomer-1-1-IBAN}' )
 String sTenant2_IBAN = context.expand( '${#Project#ChargeCustomer-2-1-IBAN}')
 
 // create file for read and write in created camt054 file credit
 File fFile=new File(sFilePath)
 assert fFile.exists()
 
  // replace iban from tenant 1 with iban from tenant 2 in camt054-credit file
 String sContent=new File(sFilePath).getText('utf-8')
 log.info('/n'+ sContent+ '/n')
 fFile.write( sContent.replaceAll( sTenant1_IBAN, sTenant2_IBAN ), 'utf-8')
 
 log.info('Replaced IBAN: ' +sTenant1_IBAN + ' with ' +sTenant2_IBAN + ' in file: '+ sFilePath)</script>
    </con:config>
  </con:testStep>
  <con:testStep type="calltestcase" name="11020N_Run TestCase-LoadFile" id="61b75d1a-17d7-4829-a788-2417d4f8380f">
    <con:settings/>
    <con:config xsi:type="con:RunTestCaseStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
      <con:targetTestCase>3a36338c-603f-4112-9dd8-394f09709fa7</con:targetTestCase>
      <con:properties>
        <con:property>
          <con:name>sourcePath</con:name>
          <con:value>${#TestCase#outFilePath}</con:value>
        </con:property>
        <con:property>
          <con:name>targetPath</con:name>
        </con:property>
        <con:property>
          <con:name>targetUser</con:name>
        </con:property>
      </con:properties>
      <con:returnProperties/>
      <con:runMode>SINGLETON_AND_WAIT</con:runMode>
    </con:config>
  </con:testStep>
  <con:testStep type="calltestcase" name="11030N_Run TestCase-ExecJobs-CAMT054" id="aca97463-9f2c-49f6-a9b2-5ba3099b1ec6">
    <con:settings/>
    <con:config xsi:type="con:RunTestCaseStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
      <con:targetTestCase>ef956cd7-c928-4686-9e7e-deba57d56c3f</con:targetTestCase>
      <con:properties>
        <con:property>
          <con:name>taskCount-Retrieve</con:name>
          <con:value/>
        </con:property>
        <con:property>
          <con:name>taskCount-Parse</con:name>
          <con:value/>
        </con:property>
        <con:property>
          <con:name>taskCount-Assign</con:name>
          <con:value/>
        </con:property>
        <con:property>
          <con:name>taskCount-PPIT-Prepare-ClawBack</con:name>
          <con:value/>
        </con:property>
        <con:property>
          <con:name>taskCount-Process-Return</con:name>
          <con:value/>
        </con:property>
        <con:property>
          <con:name>taskCount-Process-Fee</con:name>
          <con:value/>
        </con:property>
        <con:property>
          <con:name>taskCount-Process-Credit</con:name>
          <con:value/>
        </con:property>
        <con:property>
          <con:name>taskCount-Process-Notify</con:name>
          <con:value/>
        </con:property>
        <con:property>
          <con:name>taskCount-Process_CAMT054_Report</con:name>
          <con:value xsi:nil="true"/>
        </con:property>
        <con:property>
          <con:name>taskCount-Process-Email</con:name>
          <con:value/>
        </con:property>
      </con:properties>
      <con:returnProperties>
        <con:entry>taskCount-Retrieve</con:entry>
        <con:entry>taskCount-Parse</con:entry>
        <con:entry>taskCount-Assign</con:entry>
        <con:entry>taskCount-PPIT-Prepare-ClawBack</con:entry>
        <con:entry>taskCount-Process-Return</con:entry>
        <con:entry>taskCount-Process-Fee</con:entry>
        <con:entry>taskCount-Process-Credit</con:entry>
        <con:entry>taskCount-Process-Notify</con:entry>
        <con:entry>taskCount-Process-Email</con:entry>
      </con:returnProperties>
      <con:runMode>SINGLETON_AND_WAIT</con:runMode>
    </con:config>
  </con:testStep>
  <con:testStep type="request" id="bcf08be3-40bb-4845-9a40-e93d9aac97f4" name="11040N-GUI_countNotRelatableBankTransactions+1">
    <con:settings/>
    <con:config xsi:type="con:RequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
      <con:interface>DrcGuiSoapBinding</con:interface>
      <con:operation>countNotRelatableBankTransactions</con:operation>
      <con:request name="11040N-GUI_countNotRelatableBankTransactions+1" outgoingWss="" incomingWss="" timeout="" sslKeystore="" useWsAddressing="false" useWsReliableMessaging="false" wssPasswordType="" id="31abc64f-506f-42e3-b11e-5a5c5647ebc4">
        <con:settings>
          <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="drc-gui-user" value="${#Project#drc-GUIService-User}" xmlns="http://eviware.com/soapui/config"/></con:setting>
        </con:settings>
        <con:encoding>UTF-8</con:encoding>
        <con:endpoint>${#Project#drc-GUIService-URL}</con:endpoint>
        <con:request><![CDATA[<soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/" xmlns:type="http://directrecharge.o2.com/ws/drcgui/v1/" xmlns:v1="http://directrecharge.o2.com/ws/drcgui/v1/">\r
   <soapenv:Header/>\r
   <soapenv:Body>\r
      <v1:countNotRelatableBankTransactions>\r
         <timeFrame>\r
            <fromDate>${#Project#Date_Current_yyyy-MM-dd}T00:00:00</fromDate>\r
         </timeFrame>\r
      </v1:countNotRelatableBankTransactions>\r
   </soapenv:Body>\r
</soapenv:Envelope>]]></con:request>
        <con:assertion type="SOAP Response" id="8316ef63-ed63-4fda-9d62-78b7b908087f" name="SOAP Response"/>
        <con:assertion type="Schema Compliance" id="8a7a94c0-e3dd-4236-a2b1-628bb8fa9326" name="Schema Compliance">
          <con:configuration/>
        </con:assertion>
        <con:assertion type="SOAP Fault Assertion" id="df69a9b4-2e0f-40d7-8114-c5209fe8ef57" name="Not SOAP Fault"/>
        <con:assertion type="XPath Match" id="93208123-2d97-458b-a16b-ec95b01c81e1" name="Match content of [countResult]">
          <con:configuration>
            <path>declare namespace ns2='http://directrecharge.o2.com/ws/drcgui/v1/';
//ns2:countNotRelatableBankTransactionsResponse[1]/countResult[1]=
${#TestCase#countNotRelTransactions}+1</path>
            <content>true</content>
            <allowWildcards>false</allowWildcards>
            <ignoreNamspaceDifferences>true</ignoreNamspaceDifferences>
            <ignoreComments>true</ignoreComments>
          </con:configuration>
        </con:assertion>
        <con:credentials>
          <con:selectedAuthProfile>No Authorization</con:selectedAuthProfile>
          <con:authType>No Authorization</con:authType>
        </con:credentials>
        <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
        <con:wsaConfig mustUnderstand="NONE" version="200508" action="http://directrecharge.o2.com/ws/drcgui/DrcGuiPortType/countNotRelatableBankTransactions"/>
        <con:wsrmConfig version="1.2"/>
        <con:environmentSpec>
          <con:entry environmentId="ff1a32e2-ce69-4c5a-923a-710f216e83c9">
            <con:authProfile>No Authorization</con:authProfile>
          </con:entry>
          <con:entry environmentId="96753c0f-e806-4b6f-b398-e4e8dbc7bce1">
            <con:authProfile>No Authorization</con:authProfile>
          </con:entry>
          <con:entry environmentId="d4fb7d9b-be04-4609-bf0a-ed3a22d5075f">
            <con:authProfile>No Authorization</con:authProfile>
          </con:entry>
          <con:entry environmentId="e385afea-1153-4d90-83b9-3b49a724f0ea">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
        </con:environmentSpec>
      </con:request>
    </con:config>
  </con:testStep>
  <con:testStep type="request" id="be73a214-a318-4db1-b119-6bea95ebfde4" name="11050N_getNotRelatableBankTransactions">
    <con:settings/>
    <con:config xsi:type="con:RequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
      <con:interface>DrcGuiSoapBinding</con:interface>
      <con:operation>getNotRelatableBankTransactions</con:operation>
      <con:request name="11050N_getNotRelatableBankTransactions" outgoingWss="" incomingWss="" timeout="" sslKeystore="" useWsAddressing="false" useWsReliableMessaging="false" wssPasswordType="" id="898bc1b5-1f0b-4625-ba01-e05de4f08a64">
        <con:settings>
          <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="drc-gui-user" value="${#Project#drc-GUIService-User}" xmlns="http://eviware.com/soapui/config"/></con:setting>
        </con:settings>
        <con:encoding>UTF-8</con:encoding>
        <con:endpoint>${#Project#drc-GUIService-URL}</con:endpoint>
        <con:request><![CDATA[<soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/" xmlns:type="http://directrecharge.o2.com/ws/drcgui/v1/" xmlns:v1="http://directrecharge.o2.com/ws/drcgui/v1/">\r
   <soapenv:Header/>\r
   <soapenv:Body>\r
      <v1:getNotRelatableBankTransactions>\r
         <first>0</first>\r
         <count>1</count>\r
         <timeFrame>\r
            <fromDate>${#Project#Date_Current_yyyy-MM-dd}T00:00:00</fromDate>\r
         </timeFrame>\r
      </v1:getNotRelatableBankTransactions>\r
   </soapenv:Body>\r
</soapenv:Envelope>]]></con:request>
        <con:assertion type="SOAP Response" id="a9e7a204-f08f-4f0a-89c1-bec9b7639eaa" name="SOAP Response"/>
        <con:assertion type="Schema Compliance" id="918e4807-1d40-4d39-a340-1d0555e699bf" name="Schema Compliance">
          <con:configuration/>
        </con:assertion>
        <con:assertion type="SOAP Fault Assertion" id="6ebc0317-4ddc-4845-8f1c-49c5b1d60607" name="Not SOAP Fault"/>
        <con:assertion type="XPath Match" id="c0b23589-fafc-4c34-8a39-eee76ae66ee7" name="Check for existence of [camt05400102InputEntyId]">
          <con:configuration>
            <path>declare namespace ns2='http://directrecharge.o2.com/ws/drcgui/v1/';
exists( //ns2:getNotRelatableBankTransactionsResponse/notRelatableBankTransactions/camt05400102InputEntyId)</path>
            <content>true</content>
            <allowWildcards>false</allowWildcards>
            <ignoreNamspaceDifferences>true</ignoreNamspaceDifferences>
            <ignoreComments>true</ignoreComments>
          </con:configuration>
        </con:assertion>
        <con:assertion type="Simple Contains" id="99fe19c9-ad7c-4a80-a45e-bf41b4b5824e" name="Contains-MSISDN">
          <con:configuration>
            <token>${#TestCase#MSISDN}</token>
            <ignoreCase>true</ignoreCase>
            <useRegEx>false</useRegEx>
          </con:configuration>
        </con:assertion>
        <con:credentials>
          <con:selectedAuthProfile>No Authorization</con:selectedAuthProfile>
          <con:authType>No Authorization</con:authType>
        </con:credentials>
        <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
        <con:wsaConfig mustUnderstand="NONE" version="200508" action="http://directrecharge.o2.com/ws/drcgui/DrcGuiPortType/getNotRelatableBankTransactions"/>
        <con:wsrmConfig version="1.2"/>
        <con:environmentSpec>
          <con:entry environmentId="ff1a32e2-ce69-4c5a-923a-710f216e83c9">
            <con:authProfile>No Authorization</con:authProfile>
          </con:entry>
          <con:entry environmentId="96753c0f-e806-4b6f-b398-e4e8dbc7bce1">
            <con:authProfile>No Authorization</con:authProfile>
          </con:entry>
          <con:entry environmentId="d4fb7d9b-be04-4609-bf0a-ed3a22d5075f">
            <con:authProfile>No Authorization</con:authProfile>
          </con:entry>
          <con:entry environmentId="e385afea-1153-4d90-83b9-3b49a724f0ea">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
        </con:environmentSpec>
      </con:request>
    </con:config>
  </con:testStep>
  <con:testStep type="transfer" name="_Property Transfer-Id" id="88cb290d-9b8e-46e9-8d6b-2c06d1ae8a13">
    <con:settings/>
    <con:config xsi:type="con:PropertyTransfersStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
      <con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="false" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false">
        <con:name>ID</con:name>
        <con:sourceType>Response</con:sourceType>
        <con:sourceStep>11050N_getNotRelatableBankTransactions</con:sourceStep>
        <con:sourcePath>declare namespace ns2='http://directrecharge.o2.com/ws/drcgui/v1/';
//ns2:getNotRelatableBankTransactionsResponse[1]/notRelatableBankTransactions[1]/camt05400102InputEntyId[1]</con:sourcePath>
        <con:targetType>camt054InputId</con:targetType>
        <con:targetStep>#TestCase#</con:targetStep>
        <con:upgraded>true</con:upgraded>
      </con:transfers>
    </con:config>
  </con:testStep>
  <con:testStep type="request" id="58ace1f3-3b4c-482f-b0f1-4477addaf8cd" name="11060N_getNotRelatableBankTransaction-Credit">
    <con:settings/>
    <con:config xsi:type="con:RequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
      <con:interface>DrcGuiSoapBinding</con:interface>
      <con:operation>getNotRelatableBankTransaction</con:operation>
      <con:request name="11060N_getNotRelatableBankTransaction-Credit" outgoingWss="" incomingWss="" timeout="" sslKeystore="" useWsAddressing="false" useWsReliableMessaging="false" wssPasswordType="" id="d57f51f9-c480-4e48-b716-b7af6b829b06">
        <con:settings>
          <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="drc-gui-user" value="${#Project#drc-GUIService-User}" xmlns="http://eviware.com/soapui/config"/></con:setting>
        </con:settings>
        <con:encoding>UTF-8</con:encoding>
        <con:endpoint>${#Project#drc-GUIService-URL}</con:endpoint>
        <con:request><![CDATA[<soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/" xmlns:type="http://directrecharge.o2.com/ws/drcgui/v1/" xmlns:v1="http://directrecharge.o2.com/ws/drcgui/v1/">\r
   <soapenv:Header/>\r
   <soapenv:Body>\r
      <v1:getNotRelatableBankTransaction>\r
         <!--type: long-->\r
         <camt05400102InputEntyId>${#TestCase#camt054InputId}</camt05400102InputEntyId>\r
      </v1:getNotRelatableBankTransaction>\r
   </soapenv:Body>\r
</soapenv:Envelope>]]></con:request>
        <con:assertion type="SOAP Response" id="776b2f6f-98e5-496f-913e-0968e03b1149" name="SOAP Response"/>
        <con:assertion type="Schema Compliance" id="c208ce60-3cb0-41aa-8544-cd9f2ad9e4a6" name="Schema Compliance">
          <con:configuration/>
        </con:assertion>
        <con:assertion type="SOAP Fault Assertion" id="c912c5cd-49be-4275-ab78-8e52ec2b434d" name="Not SOAP Fault"/>
        <con:assertion type="MessageContentAssertion" id="4ded3bc5-6b18-45c3-93b3-67dec1f42165" name="Message Content Assertion">
          <con:configuration xsi:type="con:MessageContentAssertion">
            <con:elements>
              <con:xpath>declare namespace ns1='http://directrecharge.o2.com/ws/drcgui/v1/';
//ns1:getNotRelatableBankTransactionResponse[1]/notRelatableBankTransactionData[1]/secificCamt05400102Data[1]/creditorBankAccountData[1]/iban[1]</con:xpath>
              <con:element>iban</con:element>
              <con:type xsi:nil="true"/>
              <con:operator>=</con:operator>
              <con:enabled>true</con:enabled>
              <con:expectedValue>${#Project#ChargeCustomer-2-1-IBAN}</con:expectedValue>
              <con:hasValue>false</con:hasValue>
              <con:numberType>false</con:numberType>
            </con:elements>
            <con:originalMessage><![CDATA[<soap:Envelope xmlns:soap="http://schemas.xmlsoap.org/soap/envelope/">
   <soap:Body>
      <ns2:getNotRelatableBankTransactionResponse xmlns:xmime="http://www.w3.org/2005/05/xmlmime" xmlns:ns2="http://directrecharge.o2.com/ws/drcgui/v1/">
         <notRelatableBankTransactionData>
            <sepaFileData>
               <fileId>2839</fileId>
               <fileName>20170201160210502-CAMT54-Credit.xml</fileName>
               <fileType>CAMT_054_001_02</fileType>
               <exchangeDirection>EBANKING_TO_DRC</exchangeDirection>
               <creationDate>2017-02-01T16:02:14+01:00</creationDate>
               <fileStatus>PROCESSED</fileStatus>
            </sepaFileData>
            <secificCamt05400102Data>
               <id>3865</id>
               <sepaTransactionType>BANK_TRANSFER_TRANSACTION</sepaTransactionType>
               <amount>1000</amount>
               <currency>EUR</currency>
               <endToEndId>ZVSbPGnnF4ot4x5CI3HyBC01</endToEndId>
               <transactionId>CTCSbPGnnF4ot4x5CI3HyBC0002</transactionId>
               <messageId>CTX2016061522563629001</messageId>
               <creditorBankAccountData>
                  <accountOwner>Telefonica Germany GmbH  +  Co. OHG</accountOwner>
                  <iban>DE99999999999999999991</iban>
                  <bic>TEFXXXXXXXX</bic>
               </creditorBankAccountData>
               <debtorBankAccountData>
                  <accountOwner>Reagan Stevenson - Testüberweisung CAMT54 Credit</accountOwner>
                  <iban>DE02ZZZ01234567890</iban>
                  <bic>BELADEBEXXX</bic>
               </debtorBankAccountData>
               <bookingDate>2017-02-01T00:00:00+01:00</bookingDate>
               <bankTransactionCode>NTRF+166+100</bankTransactionCode>
               <bankTransactionCodeIssuer>ZKA</bankTransactionCodeIssuer>
               <remittanceInformation>4917650523566-4665 DRC Testaufladung. Credit</remittanceInformation>
               <additionalTransactionText>SEPA-Gutschrift</additionalTransactionText>
            </secificCamt05400102Data>
         </notRelatableBankTransactionData>
      </ns2:getNotRelatableBankTransactionResponse>
   </soap:Body>
</soap:Envelope>]]></con:originalMessage>
          </con:configuration>
        </con:assertion>
        <con:assertion type="XPath Match" id="80097188-64fd-4e9b-9501-757ea7849bcd" name="Match content of [remittanceInformation]">
          <con:configuration>
            <path>declare namespace ns2='http://directrecharge.o2.com/ws/drcgui/v1/';
contains(//ns2:getNotRelatableBankTransactionResponse[1]/notRelatableBankTransactionData[1]/secificCamt05400102Data[1]/remittanceInformation[1],
'${#TestCase#MSISDN}')</path>
            <content>true</content>
            <allowWildcards>false</allowWildcards>
            <ignoreNamspaceDifferences>true</ignoreNamspaceDifferences>
            <ignoreComments>true</ignoreComments>
          </con:configuration>
        </con:assertion>
        <con:credentials>
          <con:selectedAuthProfile>No Authorization</con:selectedAuthProfile>
          <con:authType>No Authorization</con:authType>
        </con:credentials>
        <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
        <con:wsaConfig mustUnderstand="NONE" version="200508" action="http://directrecharge.o2.com/ws/drcgui/DrcGuiPortType/getNotRelatableBankTransaction"/>
        <con:wsrmConfig version="1.2"/>
        <con:environmentSpec>
          <con:entry environmentId="ff1a32e2-ce69-4c5a-923a-710f216e83c9">
            <con:authProfile>No Authorization</con:authProfile>
          </con:entry>
          <con:entry environmentId="96753c0f-e806-4b6f-b398-e4e8dbc7bce1">
            <con:authProfile>No Authorization</con:authProfile>
          </con:entry>
          <con:entry environmentId="d4fb7d9b-be04-4609-bf0a-ed3a22d5075f">
            <con:authProfile>No Authorization</con:authProfile>
          </con:entry>
          <con:entry environmentId="e385afea-1153-4d90-83b9-3b49a724f0ea">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
        </con:environmentSpec>
      </con:request>
    </con:config>
  </con:testStep>
  <con:testStep type="request" id="86d1d5e3-75d7-4d8b-8b93-9a3edcd82a6f" name="11065N_assignCamt05400102Transaction-Credit-toSameMSISDN">
    <con:settings/>
    <con:config xsi:type="con:RequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
      <con:interface>DrcGuiSoapBinding</con:interface>
      <con:operation>assignCamt05400102Transaction</con:operation>
      <con:request name="11065N_assignCamt05400102Transaction-Credit-toSameMSISDN" outgoingWss="" incomingWss="" timeout="" sslKeystore="" useWsAddressing="false" useWsReliableMessaging="false" wssPasswordType="" id="d79b096d-033a-41b7-a713-b8b3b841e690">
        <con:settings>
          <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="drc-gui-user" value="${#Project#drc-GUIService-User}" xmlns="http://eviware.com/soapui/config"/></con:setting>
        </con:settings>
        <con:encoding>UTF-8</con:encoding>
        <con:endpoint>${#Project#drc-GUIService-URL}</con:endpoint>
        <con:request><![CDATA[<soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/" xmlns:type="http://directrecharge.o2.com/ws/drcgui/v1/" xmlns:v1="http://directrecharge.o2.com/ws/drcgui/v1/">\r
   <soapenv:Header/>\r
   <soapenv:Body>\r
      <v1:assignCamt05400102Transaction>\r
         <!--type: long-->\r
         <camt05400102InputEntyId>${#TestCase#camt054InputId}</camt05400102InputEntyId>\r
         <!--type: string-->\r
         <comment>Test-assign transaction with IBAN from tenant=3 in camt054 file to msisdn from tenant=1. Expected Error!</comment>\r
         <assigningValue>\r
            <msisdn>${#TestCase#MSISDN}</msisdn>\r
         </assigningValue>\r
      </v1:assignCamt05400102Transaction>\r
   </soapenv:Body>\r
</soapenv:Envelope>]]></con:request>
        <con:assertion type="SOAP Response" id="dbd1b5f9-608e-4924-a6a0-711b57845f26" name="SOAP Response"/>
        <con:assertion type="Schema Compliance" id="a466b69e-dbf4-4953-a376-5ae7269bcd98" name="Schema Compliance">
          <con:configuration/>
        </con:assertion>
        <con:assertion type="Not SOAP Fault Assertion" id="72d97359-ec96-4ccd-af4a-528f3b346fcf" name="SOAP Fault"/>
        <con:assertion type="MessageContentAssertion" id="9afc2150-2863-4f4e-a63e-46ce18a91ad3" name="Message Content Assertion">
          <con:configuration xsi:type="con:MessageContentAssertion">
            <con:elements>
              <con:xpath>declare namespace ns1='http://directrecharge.o2.com/ws/commonservice/v1/';
//detail[1]/ns1:fault[1]/errorCode[1]</con:xpath>
              <con:element>errorCode</con:element>
              <con:type>XmlInt</con:type>
              <con:operator>=</con:operator>
              <con:enabled>true</con:enabled>
              <con:expectedValue>2000001132</con:expectedValue>
              <con:hasValue>false</con:hasValue>
              <con:numberType>true</con:numberType>
            </con:elements>
            <con:elements>
              <con:xpath>declare namespace ns1='http://directrecharge.o2.com/ws/commonservice/v1/';
//detail[1]/ns1:fault[1]/specificFaultType[1]</con:xpath>
              <con:element>specificFaultType</con:element>
              <con:type>XmlString</con:type>
              <con:operator>=</con:operator>
              <con:enabled>true</con:enabled>
              <con:expectedValue>BUSINESS_ERROR_CROSS_TENANT_CHECK_FAILED</con:expectedValue>
              <con:hasValue>false</con:hasValue>
              <con:numberType>false</con:numberType>
            </con:elements>
            <con:originalMessage><![CDATA[<soap:Envelope xmlns:soap="http://schemas.xmlsoap.org/soap/envelope/">
   <soap:Body>
      <soap:Fault>
         <faultcode>soap:Server</faultcode>
         <faultstring>Creditor Iban DE99999999999999999991 from sepa file does not match the Iban DE99999999999999999990 of the finance department TEF</faultstring>
         <detail>
            <ns2:fault xmlns:ns2="http://directrecharge.o2.com/ws/drcgui/v1/" xmlns:xmime="http://www.w3.org/2005/05/xmlmime">
               <specificFaultType>BUSINESS_ERROR_INVALID_DATA</specificFaultType>
               <errorMessage>Creditor Iban DE99999999999999999991 from sepa file does not match the Iban DE99999999999999999990 of the finance department TEF</errorMessage>
               <errorCode>2000001132</errorCode>
            </ns2:fault>
         </detail>
      </soap:Fault>
   </soap:Body>
</soap:Envelope>]]></con:originalMessage>
          </con:configuration>
        </con:assertion>
        <con:credentials>
          <con:selectedAuthProfile>No Authorization</con:selectedAuthProfile>
          <con:authType>No Authorization</con:authType>
        </con:credentials>
        <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
        <con:wsaConfig mustUnderstand="NONE" version="200508" action="http://directrecharge.o2.com/ws/drcgui/DrcGuiPortType/assignCamt05400102Transaction"/>
        <con:wsrmConfig version="1.2"/>
        <con:environmentSpec>
          <con:entry environmentId="ff1a32e2-ce69-4c5a-923a-710f216e83c9">
            <con:authProfile>No Authorization</con:authProfile>
          </con:entry>
          <con:entry environmentId="96753c0f-e806-4b6f-b398-e4e8dbc7bce1">
            <con:authProfile>No Authorization</con:authProfile>
          </con:entry>
          <con:entry environmentId="d4fb7d9b-be04-4609-bf0a-ed3a22d5075f">
            <con:authProfile>No Authorization</con:authProfile>
          </con:entry>
          <con:entry environmentId="e385afea-1153-4d90-83b9-3b49a724f0ea">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
        </con:environmentSpec>
      </con:request>
    </con:config>
  </con:testStep>
  <con:testStep type="request" id="82fc4d78-2ed1-41f6-a2fa-3faf6edba99f" name="11070N_assignCamt05400102Transaction-Credit-toMSISDN-Tenant-1">
    <con:settings/>
    <con:config xsi:type="con:RequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
      <con:interface>DrcGuiSoapBinding</con:interface>
      <con:operation>assignCamt05400102Transaction</con:operation>
      <con:request name="11070N_assignCamt05400102Transaction-Credit-toMSISDN-Tenant-1" outgoingWss="" incomingWss="" timeout="" sslKeystore="" useWsAddressing="false" useWsReliableMessaging="false" wssPasswordType="" id="d79b096d-033a-41b7-a713-b8b3b841e690">
        <con:settings>
          <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="drc-gui-user" value="${#Project#drc-GUIService-User}" xmlns="http://eviware.com/soapui/config"/></con:setting>
        </con:settings>
        <con:encoding>UTF-8</con:encoding>
        <con:endpoint>${#Project#drc-GUIService-URL}</con:endpoint>
        <con:request><![CDATA[<soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/" xmlns:type="http://directrecharge.o2.com/ws/drcgui/v1/" xmlns:v1="http://directrecharge.o2.com/ws/drcgui/v1/">\r
   <soapenv:Header/>\r
   <soapenv:Body>\r
      <v1:assignCamt05400102Transaction>\r
         <!--type: long-->\r
         <camt05400102InputEntyId>${#TestCase#camt054InputId}</camt05400102InputEntyId>\r
         <!--type: string-->\r
         <comment>Test-assign transaction with IBAN from tenant=3 in camt054 file to msisdn from tenant=1. Expected Error!</comment>\r
         <assigningValue>\r
            <msisdn>${#TestCase#MSISDN-Tenant-1}</msisdn>\r
         </assigningValue>\r
      </v1:assignCamt05400102Transaction>\r
   </soapenv:Body>\r
</soapenv:Envelope>]]></con:request>
        <con:assertion type="SOAP Response" id="dbd1b5f9-608e-4924-a6a0-711b57845f26" name="SOAP Response"/>
        <con:assertion type="Schema Compliance" id="a466b69e-dbf4-4953-a376-5ae7269bcd98" name="Schema Compliance">
          <con:configuration/>
        </con:assertion>
        <con:assertion type="Not SOAP Fault Assertion" id="72d97359-ec96-4ccd-af4a-528f3b346fcf" name="SOAP Fault"/>
        <con:assertion type="MessageContentAssertion" id="91c7a868-3bcb-45c4-9627-08702d7cdcb8" name="Message Content Assertion">
          <con:configuration xsi:type="con:MessageContentAssertion">
            <con:elements>
              <con:xpath>declare namespace ns1='http://directrecharge.o2.com/ws/commonservice/v1/';
//detail[1]/ns1:fault[1]/errorCode[1]</con:xpath>
              <con:element>errorCode</con:element>
              <con:type>XmlInt</con:type>
              <con:operator>=</con:operator>
              <con:enabled>true</con:enabled>
              <con:expectedValue>2000001132</con:expectedValue>
              <con:hasValue>false</con:hasValue>
              <con:numberType>true</con:numberType>
            </con:elements>
            <con:elements>
              <con:xpath>declare namespace ns1='http://directrecharge.o2.com/ws/commonservice/v1/';
//detail[1]/ns1:fault[1]/specificFaultType[1]</con:xpath>
              <con:element>specificFaultType</con:element>
              <con:type>XmlString</con:type>
              <con:operator>=</con:operator>
              <con:enabled>true</con:enabled>
              <con:expectedValue>BUSINESS_ERROR_CROSS_TENANT_CHECK_FAILED</con:expectedValue>
              <con:hasValue>false</con:hasValue>
              <con:numberType>false</con:numberType>
            </con:elements>
            <con:originalMessage><![CDATA[<soap:Envelope xmlns:soap="http://schemas.xmlsoap.org/soap/envelope/">
   <soap:Body>
      <soap:Fault>
         <faultcode>soap:Server</faultcode>
         <faultstring>Creditor Iban DE99999999999999999991 from sepa file does not match the Iban DE99999999999999999990 of the finance department TEF</faultstring>
         <detail>
            <ns2:fault xmlns:ns2="http://directrecharge.o2.com/ws/drcgui/v1/" xmlns:xmime="http://www.w3.org/2005/05/xmlmime">
               <specificFaultType>BUSINESS_ERROR_INVALID_DATA</specificFaultType>
               <errorMessage>Creditor Iban DE99999999999999999991 from sepa file does not match the Iban DE99999999999999999990 of the finance department TEF</errorMessage>
               <errorCode>2000001132</errorCode>
            </ns2:fault>
         </detail>
      </soap:Fault>
   </soap:Body>
</soap:Envelope>]]></con:originalMessage>
          </con:configuration>
        </con:assertion>
        <con:credentials>
          <con:selectedAuthProfile>No Authorization</con:selectedAuthProfile>
          <con:authType>No Authorization</con:authType>
        </con:credentials>
        <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
        <con:wsaConfig mustUnderstand="NONE" version="200508" action="http://directrecharge.o2.com/ws/drcgui/DrcGuiPortType/assignCamt05400102Transaction"/>
        <con:wsrmConfig version="1.2"/>
        <con:environmentSpec>
          <con:entry environmentId="ff1a32e2-ce69-4c5a-923a-710f216e83c9">
            <con:authProfile>No Authorization</con:authProfile>
          </con:entry>
          <con:entry environmentId="96753c0f-e806-4b6f-b398-e4e8dbc7bce1">
            <con:authProfile>No Authorization</con:authProfile>
          </con:entry>
          <con:entry environmentId="d4fb7d9b-be04-4609-bf0a-ed3a22d5075f">
            <con:authProfile>No Authorization</con:authProfile>
          </con:entry>
          <con:entry environmentId="e385afea-1153-4d90-83b9-3b49a724f0ea">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
        </con:environmentSpec>
      </con:request>
    </con:config>
  </con:testStep>
  <con:testStep type="request" id="b438da75-43cf-428d-b50e-2fe10688546b" name="11080N-GUI_countNotRelatableBankTransactions-same">
    <con:settings/>
    <con:config xsi:type="con:RequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
      <con:interface>DrcGuiSoapBinding</con:interface>
      <con:operation>countNotRelatableBankTransactions</con:operation>
      <con:request name="11080N-GUI_countNotRelatableBankTransactions-same" outgoingWss="" incomingWss="" timeout="" sslKeystore="" useWsAddressing="false" useWsReliableMessaging="false" wssPasswordType="" id="31abc64f-506f-42e3-b11e-5a5c5647ebc4">
        <con:settings>
          <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="drc-gui-user" value="${#Project#drc-GUIService-User}" xmlns="http://eviware.com/soapui/config"/></con:setting>
        </con:settings>
        <con:encoding>UTF-8</con:encoding>
        <con:endpoint>${#Project#drc-GUIService-URL}</con:endpoint>
        <con:request><![CDATA[<soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/" xmlns:type="http://directrecharge.o2.com/ws/drcgui/v1/" xmlns:v1="http://directrecharge.o2.com/ws/drcgui/v1/">\r
   <soapenv:Header/>\r
   <soapenv:Body>\r
      <v1:countNotRelatableBankTransactions>\r
         <timeFrame>\r
            <fromDate>${#Project#Date_Current_yyyy-MM-dd}T00:00:00</fromDate>\r
         </timeFrame>\r
      </v1:countNotRelatableBankTransactions>\r
   </soapenv:Body>\r
</soapenv:Envelope>]]></con:request>
        <con:assertion type="SOAP Response" id="8316ef63-ed63-4fda-9d62-78b7b908087f" name="SOAP Response"/>
        <con:assertion type="Schema Compliance" id="8a7a94c0-e3dd-4236-a2b1-628bb8fa9326" name="Schema Compliance">
          <con:configuration/>
        </con:assertion>
        <con:assertion type="SOAP Fault Assertion" id="df69a9b4-2e0f-40d7-8114-c5209fe8ef57" name="Not SOAP Fault"/>
        <con:assertion type="XPath Match" id="93208123-2d97-458b-a16b-ec95b01c81e1" name="Match content of [countResult]">
          <con:configuration>
            <path>declare namespace ns2='http://directrecharge.o2.com/ws/drcgui/v1/';
//ns2:countNotRelatableBankTransactionsResponse[1]/countResult[1]=
${#TestCase#countNotRelTransactions}+1</path>
            <content>true</content>
            <allowWildcards>false</allowWildcards>
            <ignoreNamspaceDifferences>true</ignoreNamspaceDifferences>
            <ignoreComments>true</ignoreComments>
          </con:configuration>
        </con:assertion>
        <con:credentials>
          <con:selectedAuthProfile>No Authorization</con:selectedAuthProfile>
          <con:authType>No Authorization</con:authType>
        </con:credentials>
        <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
        <con:wsaConfig mustUnderstand="NONE" version="200508" action="http://directrecharge.o2.com/ws/drcgui/DrcGuiPortType/countNotRelatableBankTransactions"/>
        <con:wsrmConfig version="1.2"/>
        <con:environmentSpec>
          <con:entry environmentId="ff1a32e2-ce69-4c5a-923a-710f216e83c9">
            <con:authProfile>No Authorization</con:authProfile>
          </con:entry>
          <con:entry environmentId="96753c0f-e806-4b6f-b398-e4e8dbc7bce1">
            <con:authProfile>No Authorization</con:authProfile>
          </con:entry>
          <con:entry environmentId="d4fb7d9b-be04-4609-bf0a-ed3a22d5075f">
            <con:authProfile>No Authorization</con:authProfile>
          </con:entry>
          <con:entry environmentId="e385afea-1153-4d90-83b9-3b49a724f0ea">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
        </con:environmentSpec>
      </con:request>
    </con:config>
  </con:testStep>
  <con:testStep type="request" id="b308c4f0-2c8b-4354-98ab-1659cc6042d7" name="11090N_assignCamt05400102Transaction-Credit-toMSISDN-Tenant-3">
    <con:settings/>
    <con:config xsi:type="con:RequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
      <con:interface>DrcGuiSoapBinding</con:interface>
      <con:operation>assignCamt05400102Transaction</con:operation>
      <con:request name="11090N_assignCamt05400102Transaction-Credit-toMSISDN-Tenant-3" outgoingWss="" incomingWss="" timeout="" sslKeystore="" useWsAddressing="false" useWsReliableMessaging="false" wssPasswordType="" id="d79b096d-033a-41b7-a713-b8b3b841e690">
        <con:settings>
          <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="drc-gui-user" value="${#Project#drc-GUIService-User}" xmlns="http://eviware.com/soapui/config"/></con:setting>
        </con:settings>
        <con:encoding>UTF-8</con:encoding>
        <con:endpoint>${#Project#drc-GUIService-URL}</con:endpoint>
        <con:request><![CDATA[<soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/" xmlns:type="http://directrecharge.o2.com/ws/drcgui/v1/" xmlns:v1="http://directrecharge.o2.com/ws/drcgui/v1/">\r
   <soapenv:Header/>\r
   <soapenv:Body>\r
      <v1:assignCamt05400102Transaction>\r
         <!--type: long-->\r
         <camt05400102InputEntyId>${#TestCase#camt054InputId}</camt05400102InputEntyId>\r
         <!--type: string-->\r
         <comment>Test-assign transaction with IBAN from tenant=3 in camt054 file to msisdn from tenant=3. Expected: Success.</comment>\r
         <assigningValue>\r
            <msisdn>${#Project#ChargeCustomer-2-MSISDN}</msisdn>\r
         </assigningValue>\r
      </v1:assignCamt05400102Transaction>\r
   </soapenv:Body>\r
</soapenv:Envelope>]]></con:request>
        <con:assertion type="SOAP Response" id="dbd1b5f9-608e-4924-a6a0-711b57845f26" name="SOAP Response"/>
        <con:assertion type="Schema Compliance" id="a466b69e-dbf4-4953-a376-5ae7269bcd98" name="Schema Compliance">
          <con:configuration/>
        </con:assertion>
        <con:assertion type="SOAP Fault Assertion" id="f86bd074-e48d-4497-92c3-5c024a5f6d65" name="Not SOAP Fault"/>
        <con:assertion type="XPath Match" id="6e4e1236-c838-43c3-8a7e-5b08b3bb612e" name="Check count of [ns2:assignCamt05400102TransactionResponse]=1">
          <con:configuration>
            <path>declare namespace ns2='http://directrecharge.o2.com/ws/drcgui/v1/';
count( //ns2:assignCamt05400102TransactionResponse)</path>
            <content>1</content>
            <allowWildcards>false</allowWildcards>
            <ignoreNamspaceDifferences>false</ignoreNamspaceDifferences>
            <ignoreComments>false</ignoreComments>
          </con:configuration>
        </con:assertion>
        <con:credentials>
          <con:selectedAuthProfile>No Authorization</con:selectedAuthProfile>
          <con:authType>No Authorization</con:authType>
        </con:credentials>
        <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
        <con:wsaConfig mustUnderstand="NONE" version="200508" action="http://directrecharge.o2.com/ws/drcgui/DrcGuiPortType/assignCamt05400102Transaction"/>
        <con:wsrmConfig version="1.2"/>
        <con:environmentSpec>
          <con:entry environmentId="ff1a32e2-ce69-4c5a-923a-710f216e83c9">
            <con:authProfile>No Authorization</con:authProfile>
          </con:entry>
          <con:entry environmentId="96753c0f-e806-4b6f-b398-e4e8dbc7bce1">
            <con:authProfile>No Authorization</con:authProfile>
          </con:entry>
          <con:entry environmentId="d4fb7d9b-be04-4609-bf0a-ed3a22d5075f">
            <con:authProfile>No Authorization</con:authProfile>
          </con:entry>
          <con:entry environmentId="e385afea-1153-4d90-83b9-3b49a724f0ea">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
        </con:environmentSpec>
      </con:request>
    </con:config>
  </con:testStep>
  <con:testStep type="request" id="141304ea-1b69-40be-896a-c622125a7155" name="11100N-GUI_countNotRelatableBankTransactions-1">
    <con:settings/>
    <con:config xsi:type="con:RequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
      <con:interface>DrcGuiSoapBinding</con:interface>
      <con:operation>countNotRelatableBankTransactions</con:operation>
      <con:request name="11100N-GUI_countNotRelatableBankTransactions-1" outgoingWss="" incomingWss="" timeout="" sslKeystore="" useWsAddressing="false" useWsReliableMessaging="false" wssPasswordType="" id="31abc64f-506f-42e3-b11e-5a5c5647ebc4">
        <con:settings>
          <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="drc-gui-user" value="${#Project#drc-GUIService-User}" xmlns="http://eviware.com/soapui/config"/></con:setting>
        </con:settings>
        <con:encoding>UTF-8</con:encoding>
        <con:endpoint>${#Project#drc-GUIService-URL}</con:endpoint>
        <con:request><![CDATA[<soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/" xmlns:type="http://directrecharge.o2.com/ws/drcgui/v1/" xmlns:v1="http://directrecharge.o2.com/ws/drcgui/v1/">\r
   <soapenv:Header/>\r
   <soapenv:Body>\r
      <v1:countNotRelatableBankTransactions>\r
         <timeFrame>\r
            <fromDate>${#Project#Date_Current_yyyy-MM-dd}T00:00:00</fromDate>\r
         </timeFrame>\r
      </v1:countNotRelatableBankTransactions>\r
   </soapenv:Body>\r
</soapenv:Envelope>]]></con:request>
        <con:assertion type="SOAP Response" id="8316ef63-ed63-4fda-9d62-78b7b908087f" name="SOAP Response"/>
        <con:assertion type="Schema Compliance" id="8a7a94c0-e3dd-4236-a2b1-628bb8fa9326" name="Schema Compliance">
          <con:configuration/>
        </con:assertion>
        <con:assertion type="SOAP Fault Assertion" id="df69a9b4-2e0f-40d7-8114-c5209fe8ef57" name="Not SOAP Fault"/>
        <con:assertion type="XPath Match" id="93208123-2d97-458b-a16b-ec95b01c81e1" name="Match content of [countResult]">
          <con:configuration>
            <path>declare namespace ns2='http://directrecharge.o2.com/ws/drcgui/v1/';
//ns2:countNotRelatableBankTransactionsResponse[1]/countResult[1]</path>
            <content>${#TestCase#countNotRelTransactions}</content>
            <allowWildcards>false</allowWildcards>
            <ignoreNamspaceDifferences>true</ignoreNamspaceDifferences>
            <ignoreComments>true</ignoreComments>
          </con:configuration>
        </con:assertion>
        <con:credentials>
          <con:selectedAuthProfile>No Authorization</con:selectedAuthProfile>
          <con:authType>No Authorization</con:authType>
        </con:credentials>
        <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
        <con:wsaConfig mustUnderstand="NONE" version="200508" action="http://directrecharge.o2.com/ws/drcgui/DrcGuiPortType/countNotRelatableBankTransactions"/>
        <con:wsrmConfig version="1.2"/>
        <con:environmentSpec>
          <con:entry environmentId="ff1a32e2-ce69-4c5a-923a-710f216e83c9">
            <con:authProfile>No Authorization</con:authProfile>
          </con:entry>
          <con:entry environmentId="96753c0f-e806-4b6f-b398-e4e8dbc7bce1">
            <con:authProfile>No Authorization</con:authProfile>
          </con:entry>
          <con:entry environmentId="d4fb7d9b-be04-4609-bf0a-ed3a22d5075f">
            <con:authProfile>No Authorization</con:authProfile>
          </con:entry>
          <con:entry environmentId="e385afea-1153-4d90-83b9-3b49a724f0ea">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
        </con:environmentSpec>
      </con:request>
    </con:config>
  </con:testStep>
  <con:testStep type="request" id="1910e5bf-6e79-4130-9f0e-4cdf764fe407" name="11110_GUI_getGDPRData-MSISDN">
    <con:settings/>
    <con:config xsi:type="con:RequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
      <con:interface>DrcGuiSoapBinding</con:interface>
      <con:operation>getGDPRData</con:operation>
      <con:request name="11110_GUI_getGDPRData-MSISDN" outgoingWss="" incomingWss="" timeout="" sslKeystore="" useWsAddressing="false" useWsReliableMessaging="false" wssPasswordType="" id="008167d7-d16d-4c47-a26a-40423c7133dd">
        <con:settings>
          <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="drc-gui-user" value="${#Project#drc-GUIService-User}" xmlns="http://eviware.com/soapui/config"/></con:setting>
        </con:settings>
        <con:encoding>UTF-8</con:encoding>
        <con:endpoint>${#Project#drc-GUIService-URL}</con:endpoint>
        <con:request><![CDATA[<soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/" xmlns:type="http://directrecharge.o2.com/ws/drcgui/v1/" xmlns:v1="http://directrecharge.o2.com/ws/drcgui/v1/">
   <soapenv:Header/>
   <soapenv:Body>
      <v1:getGDPRData>
         <msisdn>${#TestCase#MSISDN}</msisdn>
         <fromDateTime>${#Project#Date_Current}</fromDateTime>
         <tillDateTime>${#Project#Date_NextDay_yyyy-MM-dd}T00:00:00Z</tillDateTime>
      </v1:getGDPRData>
   </soapenv:Body>
</soapenv:Envelope>]]></con:request>
        <con:assertion type="SOAP Response" name="SOAP Response" id="7a0b78d7-583e-4b5e-bd92-a2d609572d8c"/>
        <con:assertion type="Schema Compliance" name="Schema Compliance" id="60713849-b3ca-41aa-ba50-f64afde4650b">
          <con:configuration>
            <definition>${#Project#drc-GUIService-URL}?wsdl</definition>
          </con:configuration>
        </con:assertion>
        <con:assertion type="SOAP Fault Assertion" name="Not SOAP Fault" id="3acadff0-eeff-438a-8988-d90c07538f72"/>
        <con:assertion type="Simple NotContains" name="Not Contains-IBAN" id="901296ba-d1da-4888-85a1-83a01eb9d09e">
          <con:configuration>
            <token>${#Project#Customer-IBAN}</token>
            <ignoreCase>true</ignoreCase>
            <useRegEx>false</useRegEx>
          </con:configuration>
        </con:assertion>
        <con:assertion type="Simple NotContains" name="Not Contains-BIC" id="3f8029aa-b5ea-4950-ba1a-15d11ad5fd25">
          <con:configuration>
            <token>${#Project#Customer-BIC}</token>
            <ignoreCase>true</ignoreCase>
            <useRegEx>false</useRegEx>
          </con:configuration>
        </con:assertion>
        <con:assertion type="Simple NotContains" name="Not Contains-bankAccountOwner" id="64b7fc5d-dbc1-43e4-8112-72d91b83a04d">
          <con:configuration>
            <token>${#TestSuite#bankAccountOwner}</token>
            <ignoreCase>true</ignoreCase>
            <useRegEx>false</useRegEx>
          </con:configuration>
        </con:assertion>
        <con:assertion type="Simple NotContains" name="Not Contains-ultimateDebtor" id="9da20f5e-11a1-4ec2-960b-703e0a00066f">
          <con:configuration>
            <token>${#TestSuite#ultimateDebtor}</token>
            <ignoreCase>true</ignoreCase>
            <useRegEx>false</useRegEx>
          </con:configuration>
        </con:assertion>
        <con:credentials>
          <con:selectedAuthProfile>No Authorization</con:selectedAuthProfile>
          <con:authType>No Authorization</con:authType>
        </con:credentials>
        <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
        <con:wsaConfig mustUnderstand="NONE" version="200508" action="http://directrecharge.o2.com/ws/drcgui/DrcGuiPortType/getGDPRData"/>
        <con:wsrmConfig version="1.2"/>
        <con:environmentSpec>
          <con:entry environmentId="e385afea-1153-4d90-83b9-3b49a724f0ea">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
        </con:environmentSpec>
      </con:request>
    </con:config>
  </con:testStep>
  <con:testStep type="request" id="5f3a449a-c708-40d2-879e-fc8077723a3a" name="11120_GUI_getGDPRData-MSISDN-Tenant-1">
    <con:settings/>
    <con:config xsi:type="con:RequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
      <con:interface>DrcGuiSoapBinding</con:interface>
      <con:operation>getGDPRData</con:operation>
      <con:request name="11120_GUI_getGDPRData-MSISDN-Tenant-1" outgoingWss="" incomingWss="" timeout="" sslKeystore="" useWsAddressing="false" useWsReliableMessaging="false" wssPasswordType="" id="008167d7-d16d-4c47-a26a-40423c7133dd">
        <con:settings>
          <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="drc-gui-user" value="${#Project#drc-GUIService-User}" xmlns="http://eviware.com/soapui/config"/></con:setting>
        </con:settings>
        <con:encoding>UTF-8</con:encoding>
        <con:endpoint>${#Project#drc-GUIService-URL}</con:endpoint>
        <con:request><![CDATA[<soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/" xmlns:type="http://directrecharge.o2.com/ws/drcgui/v1/" xmlns:v1="http://directrecharge.o2.com/ws/drcgui/v1/">
   <soapenv:Header/>
   <soapenv:Body>
      <v1:getGDPRData>
         <msisdn>${#TestCase#MSISDN-Tenant-1}</msisdn>
         <fromDateTime>${#Project#Date_Current}</fromDateTime>
         <tillDateTime>${#Project#Date_NextDay_yyyy-MM-dd}T00:00:00Z</tillDateTime>
      </v1:getGDPRData>
   </soapenv:Body>
</soapenv:Envelope>]]></con:request>
        <con:assertion type="SOAP Response" name="SOAP Response" id="7a0b78d7-583e-4b5e-bd92-a2d609572d8c"/>
        <con:assertion type="Schema Compliance" name="Schema Compliance" id="60713849-b3ca-41aa-ba50-f64afde4650b">
          <con:configuration>
            <definition>${#Project#drc-GUIService-URL}?wsdl</definition>
          </con:configuration>
        </con:assertion>
        <con:assertion type="SOAP Fault Assertion" name="Not SOAP Fault" id="3acadff0-eeff-438a-8988-d90c07538f72"/>
        <con:assertion type="Simple NotContains" name="Not Contains-IBAN" id="901296ba-d1da-4888-85a1-83a01eb9d09e">
          <con:configuration>
            <token>${#Project#Customer-IBAN}</token>
            <ignoreCase>true</ignoreCase>
            <useRegEx>false</useRegEx>
          </con:configuration>
        </con:assertion>
        <con:assertion type="Simple NotContains" name="Not Contains-BIC" id="3f8029aa-b5ea-4950-ba1a-15d11ad5fd25">
          <con:configuration>
            <token>${#Project#Customer-BIC}</token>
            <ignoreCase>true</ignoreCase>
            <useRegEx>false</useRegEx>
          </con:configuration>
        </con:assertion>
        <con:assertion type="Simple NotContains" name="Not Contains-bankAccountOwner" id="64b7fc5d-dbc1-43e4-8112-72d91b83a04d">
          <con:configuration>
            <token>${#TestSuite#bankAccountOwner}</token>
            <ignoreCase>true</ignoreCase>
            <useRegEx>false</useRegEx>
          </con:configuration>
        </con:assertion>
        <con:assertion type="Simple NotContains" name="Not Contains-ultimateDebtor" id="9da20f5e-11a1-4ec2-960b-703e0a00066f">
          <con:configuration>
            <token>${#TestSuite#ultimateDebtor}</token>
            <ignoreCase>true</ignoreCase>
            <useRegEx>false</useRegEx>
          </con:configuration>
        </con:assertion>
        <con:credentials>
          <con:selectedAuthProfile>No Authorization</con:selectedAuthProfile>
          <con:authType>No Authorization</con:authType>
        </con:credentials>
        <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
        <con:wsaConfig mustUnderstand="NONE" version="200508" action="http://directrecharge.o2.com/ws/drcgui/DrcGuiPortType/getGDPRData"/>
        <con:wsrmConfig version="1.2"/>
        <con:environmentSpec>
          <con:entry environmentId="e385afea-1153-4d90-83b9-3b49a724f0ea">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
        </con:environmentSpec>
      </con:request>
    </con:config>
  </con:testStep>
  <con:testStep type="request" name="_subsripManagement_deregisterForDD" id="8ea596ea-1429-44aa-bab7-83417aa63a25">
    <con:settings/>
    <con:config xsi:type="con:RequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
      <con:interface>SubscriptionManagementServiceSoapBinding</con:interface>
      <con:operation>deregisterForDirectDebit</con:operation>
      <con:request name="_subsripManagement_deregisterForDD" id="ab9fb4d0-03bf-4862-a093-44c0056f9228" defaultOutgoingWss="" defaultIncomingWss="">
        <con:settings>
          <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
        </con:settings>
        <con:encoding>UTF-8</con:encoding>
        <con:endpoint>${#Project#drc-subscriptionManagementService-URL}</con:endpoint>
        <con:request><![CDATA[<soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/" xmlns:cus="http://directrecharge.o2.com/ws/evolutionservice/customercharging/">
   <soapenv:Header/>
   <soapenv:Body>
      <cus:deregisterForDirectDebit>
         <!--type: string-->
         <externalContractId>${#TestCase#contractID}</externalContractId>
      </cus:deregisterForDirectDebit>
   </soapenv:Body>
</soapenv:Envelope>]]></con:request>
        <con:assertion type="SOAP Response" id="2a39e8d9-86ac-42ab-91f3-2e5fe5cb5310"/>
        <con:assertion type="Schema Compliance" id="6c8f0a33-dd4a-48ce-b396-c88d6fc58732">
          <con:configuration/>
        </con:assertion>
        <con:assertion type="SOAP Fault Assertion" id="3dbbe5bc-1452-42e5-915d-afedd59836ed"/>
        <con:assertion type="XPath Match" id="d82c010c-d452-4533-905e-66d353bef3a3" name="Match content of [recordId]>0">
          <con:configuration>
            <path>declare namespace ns2='http://directrecharge.o2.com/ws/evolutionservice/customercharging/';
//ns2:deregisterForDirectDebitResponse[1]/recordId[1]>0</path>
            <content>true</content>
            <allowWildcards>false</allowWildcards>
            <ignoreNamspaceDifferences>true</ignoreNamspaceDifferences>
            <ignoreComments>true</ignoreComments>
          </con:configuration>
        </con:assertion>
        <con:credentials>
          <con:selectedAuthProfile>No Authorization</con:selectedAuthProfile>
          <con:authType>No Authorization</con:authType>
        </con:credentials>
        <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
        <con:wsaConfig mustUnderstand="NONE" version="200508"/>
        <con:wsrmConfig version="1.2"/>
        <con:environmentSpec>
          <con:entry environmentId="8bb64a40-b6a3-45c2-a26b-7f6c797dbea5">
            <con:authProfile>No Authorization</con:authProfile>
          </con:entry>
          <con:entry environmentId="ff1a32e2-ce69-4c5a-923a-710f216e83c9">
            <con:authProfile>No Authorization</con:authProfile>
          </con:entry>
          <con:entry environmentId="96753c0f-e806-4b6f-b398-e4e8dbc7bce1">
            <con:authProfile>No Authorization</con:authProfile>
          </con:entry>
          <con:entry environmentId="d4fb7d9b-be04-4609-bf0a-ed3a22d5075f">
            <con:authProfile>No Authorization</con:authProfile>
          </con:entry>
          <con:entry environmentId="e385afea-1153-4d90-83b9-3b49a724f0ea">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
        </con:environmentSpec>
      </con:request>
    </con:config>
  </con:testStep>
  <con:testStep type="request" name="_subsripManagement_deregisterForDD_MSISDN-Tenant-1" id="b3f7be78-77c1-4b66-999e-230f8ca3ba9a">
    <con:settings/>
    <con:config xsi:type="con:RequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
      <con:interface>SubscriptionManagementServiceSoapBinding</con:interface>
      <con:operation>deregisterForDirectDebit</con:operation>
      <con:request name="_subsripManagement_deregisterForDD_MSISDN-Tenant-1" id="ab9fb4d0-03bf-4862-a093-44c0056f9228" defaultOutgoingWss="" defaultIncomingWss="">
        <con:settings>
          <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
        </con:settings>
        <con:encoding>UTF-8</con:encoding>
        <con:endpoint>${#Project#drc-subscriptionManagementService-URL}</con:endpoint>
        <con:request><![CDATA[<soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/" xmlns:cus="http://directrecharge.o2.com/ws/evolutionservice/customercharging/">
   <soapenv:Header/>
   <soapenv:Body>
      <cus:deregisterForDirectDebit>
         <!--type: string-->
         <externalContractId>${#TestCase#contractID-Tenant-1}</externalContractId>
      </cus:deregisterForDirectDebit>
   </soapenv:Body>
</soapenv:Envelope>]]></con:request>
        <con:assertion type="SOAP Response" id="2a39e8d9-86ac-42ab-91f3-2e5fe5cb5310"/>
        <con:assertion type="Schema Compliance" id="6c8f0a33-dd4a-48ce-b396-c88d6fc58732">
          <con:configuration/>
        </con:assertion>
        <con:assertion type="SOAP Fault Assertion" id="3dbbe5bc-1452-42e5-915d-afedd59836ed"/>
        <con:assertion type="XPath Match" id="d82c010c-d452-4533-905e-66d353bef3a3" name="Match content of [recordId]>0">
          <con:configuration>
            <path>declare namespace ns2='http://directrecharge.o2.com/ws/evolutionservice/customercharging/';
//ns2:deregisterForDirectDebitResponse[1]/recordId[1]>0</path>
            <content>true</content>
            <allowWildcards>false</allowWildcards>
            <ignoreNamspaceDifferences>true</ignoreNamspaceDifferences>
            <ignoreComments>true</ignoreComments>
          </con:configuration>
        </con:assertion>
        <con:credentials>
          <con:selectedAuthProfile>No Authorization</con:selectedAuthProfile>
          <con:authType>No Authorization</con:authType>
        </con:credentials>
        <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
        <con:wsaConfig mustUnderstand="NONE" version="200508"/>
        <con:wsrmConfig version="1.2"/>
        <con:environmentSpec>
          <con:entry environmentId="8bb64a40-b6a3-45c2-a26b-7f6c797dbea5">
            <con:authProfile>No Authorization</con:authProfile>
          </con:entry>
          <con:entry environmentId="ff1a32e2-ce69-4c5a-923a-710f216e83c9">
            <con:authProfile>No Authorization</con:authProfile>
          </con:entry>
          <con:entry environmentId="96753c0f-e806-4b6f-b398-e4e8dbc7bce1">
            <con:authProfile>No Authorization</con:authProfile>
          </con:entry>
          <con:entry environmentId="d4fb7d9b-be04-4609-bf0a-ed3a22d5075f">
            <con:authProfile>No Authorization</con:authProfile>
          </con:entry>
          <con:entry environmentId="e385afea-1153-4d90-83b9-3b49a724f0ea">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
        </con:environmentSpec>
      </con:request>
    </con:config>
  </con:testStep>
  <con:testStep type="request" name="_subsripManagement_deregisterForDD_MSISDN-Tenant-3" id="6f2c5530-9abb-4be0-8bc5-aca0ec9aa2e6">
    <con:settings/>
    <con:config xsi:type="con:RequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
      <con:interface>SubscriptionManagementServiceSoapBinding</con:interface>
      <con:operation>deregisterForDirectDebit</con:operation>
      <con:request name="_subsripManagement_deregisterForDD_MSISDN-Tenant-3" id="ab9fb4d0-03bf-4862-a093-44c0056f9228" defaultOutgoingWss="" defaultIncomingWss="">
        <con:settings>
          <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
        </con:settings>
        <con:encoding>UTF-8</con:encoding>
        <con:endpoint>${#Project#drc-subscriptionManagementService-URL}</con:endpoint>
        <con:request><![CDATA[<soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/" xmlns:cus="http://directrecharge.o2.com/ws/evolutionservice/customercharging/">
   <soapenv:Header/>
   <soapenv:Body>
      <cus:deregisterForDirectDebit>
         <!--type: string-->
         <externalContractId>${#TestCase#contractID-Tenant-3}</externalContractId>
      </cus:deregisterForDirectDebit>
   </soapenv:Body>
</soapenv:Envelope>]]></con:request>
        <con:assertion type="SOAP Response" id="2a39e8d9-86ac-42ab-91f3-2e5fe5cb5310"/>
        <con:assertion type="Schema Compliance" id="6c8f0a33-dd4a-48ce-b396-c88d6fc58732">
          <con:configuration/>
        </con:assertion>
        <con:assertion type="SOAP Fault Assertion" id="3dbbe5bc-1452-42e5-915d-afedd59836ed"/>
        <con:assertion type="XPath Match" id="d82c010c-d452-4533-905e-66d353bef3a3" name="Match content of [recordId]>0">
          <con:configuration>
            <path>declare namespace ns2='http://directrecharge.o2.com/ws/evolutionservice/customercharging/';
//ns2:deregisterForDirectDebitResponse[1]/recordId[1]>0</path>
            <content>true</content>
            <allowWildcards>false</allowWildcards>
            <ignoreNamspaceDifferences>true</ignoreNamspaceDifferences>
            <ignoreComments>true</ignoreComments>
          </con:configuration>
        </con:assertion>
        <con:credentials>
          <con:selectedAuthProfile>No Authorization</con:selectedAuthProfile>
          <con:authType>No Authorization</con:authType>
        </con:credentials>
        <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
        <con:wsaConfig mustUnderstand="NONE" version="200508"/>
        <con:wsrmConfig version="1.2"/>
        <con:environmentSpec>
          <con:entry environmentId="8bb64a40-b6a3-45c2-a26b-7f6c797dbea5">
            <con:authProfile>No Authorization</con:authProfile>
          </con:entry>
          <con:entry environmentId="ff1a32e2-ce69-4c5a-923a-710f216e83c9">
            <con:authProfile>No Authorization</con:authProfile>
          </con:entry>
          <con:entry environmentId="96753c0f-e806-4b6f-b398-e4e8dbc7bce1">
            <con:authProfile>No Authorization</con:authProfile>
          </con:entry>
          <con:entry environmentId="d4fb7d9b-be04-4609-bf0a-ed3a22d5075f">
            <con:authProfile>No Authorization</con:authProfile>
          </con:entry>
          <con:entry environmentId="e385afea-1153-4d90-83b9-3b49a724f0ea">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
        </con:environmentSpec>
      </con:request>
    </con:config>
  </con:testStep>
  <con:properties>
    <con:property>
      <con:name>MSISDN</con:name>
      <con:value/>
    </con:property>
    <con:property>
      <con:name>MSISDN-Tenant-1</con:name>
      <con:value/>
    </con:property>
    <con:property>
      <con:name>contractID</con:name>
      <con:value/>
    </con:property>
    <con:property>
      <con:name>contractID-Tenant-1</con:name>
      <con:value/>
    </con:property>
    <con:property>
      <con:name>contractID-Tenant-3</con:name>
      <con:value/>
    </con:property>
    <con:property>
      <con:name>outFilePath</con:name>
      <con:value>/CAMT54-Files/20221003160045762-CAMT54-Credit.xml</con:value>
    </con:property>
    <con:property>
      <con:name>countNotRelTransactions</con:name>
      <con:value xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"/>
    </con:property>
    <con:property>
      <con:name>camt054InputId</con:name>
      <con:value xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"/>
    </con:property>
  </con:properties>
  <con:reportParameters/>
  <con:breakPoints>
    <con:testStepId>e1310c36-7418-4c3f-abd5-93bca1b355e9</con:testStepId>
    <con:status>NONE</con:status>
    <con:properties/>
  </con:breakPoints>
  <con:breakPoints>
    <con:testStepId>deb871da-bd55-430b-aa73-48e6849c075b</con:testStepId>
    <con:status>NONE</con:status>
    <con:properties/>
  </con:breakPoints>
  <con:breakPoints>
    <con:testStepId>76a78f2f-75f5-4f76-aa13-2e14eeda4d2f</con:testStepId>
    <con:status>NONE</con:status>
    <con:properties/>
  </con:breakPoints>
  <con:breakPoints>
    <con:testStepId>393e3d81-075e-44dc-a9aa-8b0ce318db94</con:testStepId>
    <con:status>NONE</con:status>
    <con:properties/>
  </con:breakPoints>
  <con:breakPoints>
    <con:testStepId>84aa5571-0389-4a68-8364-01e6365ed113</con:testStepId>
    <con:status>NONE</con:status>
    <con:properties/>
  </con:breakPoints>
  <con:breakPoints>
    <con:testStepId>489241c7-7070-44a1-83d0-64f3483c6baf</con:testStepId>
    <con:status>NONE</con:status>
    <con:properties/>
  </con:breakPoints>
  <con:breakPoints>
    <con:testStepId>2501c721-75e9-4f5d-954c-54e77660fcdc</con:testStepId>
    <con:status>NONE</con:status>
    <con:properties/>
  </con:breakPoints>
  <con:breakPoints>
    <con:testStepId>1352d1ee-0bcc-4501-bdc2-57f822b20127</con:testStepId>
    <con:status>NONE</con:status>
    <con:properties/>
  </con:breakPoints>
  <con:breakPoints>
    <con:testStepId>d8ada49e-aa02-4ed0-87a1-ad38664ac003</con:testStepId>
    <con:status>NONE</con:status>
    <con:properties/>
  </con:breakPoints>
  <con:breakPoints>
    <con:testStepId>47827d3c-f324-43b4-b2ee-73b1602a3ed3</con:testStepId>
    <con:status>NONE</con:status>
    <con:properties/>
  </con:breakPoints>
  <con:breakPoints>
    <con:testStepId>c8a2984d-26a9-4770-a1fd-f0380ce482de</con:testStepId>
    <con:status>NONE</con:status>
    <con:properties/>
  </con:breakPoints>
  <con:breakPoints>
    <con:testStepId>7a8357b3-b32b-4c9f-a5e1-cc0754123ceb</con:testStepId>
    <con:status>NONE</con:status>
    <con:properties/>
  </con:breakPoints>
  <con:breakPoints>
    <con:testStepId>cd583889-8b30-4ea5-a6e4-f02f2b3d2ad5</con:testStepId>
    <con:status>NONE</con:status>
    <con:properties/>
  </con:breakPoints>
  <con:breakPoints>
    <con:testStepId>5f3bdc8f-ea39-455c-8060-cc4623bd5a07</con:testStepId>
    <con:status>NONE</con:status>
    <con:properties/>
  </con:breakPoints>
  <con:breakPoints>
    <con:testStepId>21d1a520-3b09-49f7-b184-566079af0ddb</con:testStepId>
    <con:status>NONE</con:status>
    <con:properties/>
  </con:breakPoints>
  <con:breakPoints>
    <con:testStepId>61b75d1a-17d7-4829-a788-2417d4f8380f</con:testStepId>
    <con:status>NONE</con:status>
    <con:properties/>
  </con:breakPoints>
  <con:breakPoints>
    <con:testStepId>aca97463-9f2c-49f6-a9b2-5ba3099b1ec6</con:testStepId>
    <con:status>NONE</con:status>
    <con:properties/>
  </con:breakPoints>
  <con:breakPoints>
    <con:testStepId>5c87dc39-ba5a-4d34-b53a-f78d9beddde7</con:testStepId>
    <con:status>NONE</con:status>
    <con:properties/>
  </con:breakPoints>
  <con:breakPoints>
    <con:testStepId>bcf08be3-40bb-4845-9a40-e93d9aac97f4</con:testStepId>
    <con:status>NONE</con:status>
    <con:properties/>
  </con:breakPoints>
  <con:breakPoints>
    <con:testStepId>be73a214-a318-4db1-b119-6bea95ebfde4</con:testStepId>
    <con:status>NONE</con:status>
    <con:properties/>
  </con:breakPoints>
  <con:breakPoints>
    <con:testStepId>58ace1f3-3b4c-482f-b0f1-4477addaf8cd</con:testStepId>
    <con:status>NONE</con:status>
    <con:properties/>
  </con:breakPoints>
  <con:breakPoints>
    <con:testStepId>88cb290d-9b8e-46e9-8d6b-2c06d1ae8a13</con:testStepId>
    <con:status>NONE</con:status>
    <con:properties/>
  </con:breakPoints>
  <con:breakPoints>
    <con:testStepId>82fc4d78-2ed1-41f6-a2fa-3faf6edba99f</con:testStepId>
    <con:status>NONE</con:status>
    <con:properties/>
  </con:breakPoints>
  <con:breakPoints>
    <con:testStepId>b438da75-43cf-428d-b50e-2fe10688546b</con:testStepId>
    <con:status>NONE</con:status>
    <con:properties/>
  </con:breakPoints>
  <con:breakPoints>
    <con:testStepId>b308c4f0-2c8b-4354-98ab-1659cc6042d7</con:testStepId>
    <con:status>NONE</con:status>
    <con:properties/>
  </con:breakPoints>
  <con:breakPoints>
    <con:testStepId>141304ea-1b69-40be-896a-c622125a7155</con:testStepId>
    <con:status>NONE</con:status>
    <con:properties/>
  </con:breakPoints>
  <con:breakPoints>
    <con:testStepId>d04c5c29-1d76-481c-9a2b-fae9902428ab</con:testStepId>
    <con:status>NONE</con:status>
    <con:properties/>
  </con:breakPoints>
  <con:breakPoints>
    <con:testStepId>11e86b58-81bb-460a-a467-8c3808820801</con:testStepId>
    <con:status>NONE</con:status>
    <con:properties/>
  </con:breakPoints>
  <con:breakPoints>
    <con:testStepId>86d1d5e3-75d7-4d8b-8b93-9a3edcd82a6f</con:testStepId>
    <con:status>NONE</con:status>
    <con:properties/>
  </con:breakPoints>
  <con:breakPoints>
    <con:testStepId>0b095234-cd8f-480a-850a-c84f7ac5dbe4</con:testStepId>
    <con:status>NONE</con:status>
    <con:properties/>
  </con:breakPoints>
  <con:breakPoints>
    <con:testStepId>6c712f8c-b7e6-443d-b86e-986ec54b5f37</con:testStepId>
    <con:status>NONE</con:status>
    <con:properties/>
  </con:breakPoints>
  <con:breakPoints>
    <con:testStepId>1910e5bf-6e79-4130-9f0e-4cdf764fe407</con:testStepId>
    <con:status>NONE</con:status>
    <con:properties/>
  </con:breakPoints>
  <con:breakPoints>
    <con:testStepId>5f3a449a-c708-40d2-879e-fc8077723a3a</con:testStepId>
    <con:status>NONE</con:status>
    <con:properties/>
  </con:breakPoints>
  <con:environmentSpec>
    <con:entry environmentId="e385afea-1153-4d90-83b9-3b49a724f0ea">
      <con:authProfile>Inherit From Parent</con:authProfile>
    </con:entry>
  </con:environmentSpec>
</con:testCase>
