<?xml version="1.0" encoding="UTF-8"?>
<con:testCase id="1f01172a-e724-4cb5-a452-549a119cc519" discardOkResults="true" failOnError="true" failTestCaseOnErrors="true" keepSession="false" name="_TestCase_UsableHelpSteps" searchProperties="true" disabled="true" maxResults="0" xmlns:con="http://eviware.com/soapui/config">
  <con:settings>
    <con:setting id="1f01172a-e724-4cb5-a452-549a119cc519fileName">_TestCase_UsableHelpSteps</con:setting>
  </con:settings>
  <con:savedRecentRuns>1</con:savedRecentRuns>
  <con:testStep type="request" name="UpdateDDParameter-Template" id="6b10eb96-866c-40a4-a758-6828610cf401">
    <con:settings/>
    <con:config xsi:type="con:RequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
      <con:interface>SubscriptionManagementServiceSoapBinding</con:interface>
      <con:operation>updateDirectDebitParameters</con:operation>
      <con:request name="UpdateDDParameter-Template" id="c7e841b9-b8ea-48e6-8389-fd61e8dfa981" defaultOutgoingWss="" defaultIncomingWss="">
        <con:settings>
          <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
        </con:settings>
        <con:encoding>UTF-8</con:encoding>
        <con:endpoint>${#Project#drc-subscriptionManagementService-URL}</con:endpoint>
        <con:request><![CDATA[<soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/" xmlns:cus="http://directrecharge.o2.com/ws/evolutionservice/customercharging/">
   <soapenv:Header/>
   <soapenv:Body>
      <cus:updateDirectDebitParameters>
         <!--1 or more repetitions:-->
         <directDebitParameters>
            <multibrandIds>
               <!--1 or more repetitions:-->
               <multibrandId>
                  <!--type: int-->
                  <brandId>${#Project#ChargeCustomer-1-BrandID}</brandId>
                  <!--type: int-->
                  <tenantId>${#Project#ChargeCustomer-1-TenantID}</tenantId>
               </multibrandId>
            </multibrandIds>
            <!--Zero or more repetitions:-->
            <directDebitIntParameter>
               <name>ON_DEMAND_TOPUP_LIMIT</name>
               <value>${#TestSuite#ON_DEMAND_TOPUP_LIMIT}</value>
            </directDebitIntParameter>
            <directDebitIntParameter>
               <name>LOW_BALANCE_THRESHOLD_TOPUP_LIMIT</name>
               <value>${#TestSuite#LOW_BALANCE_THRESHOLD_TOPUP_LIMIT}</value>
            </directDebitIntParameter>
            <directDebitMonetaryParameter>
               <!--type: directDebitParameterNameEnum - enumeration: [GENERAL_DAILY_MAX_AMOUNT,GENERAL_MONTHLY_MAX_AMOUNT,MONTHLY_UNLIMITED_AMOUNT,ON_DEMAND_TOPUP_LIMIT,LOW_BALANCE_THRESHOLD_TOPUP_LIMIT,CHARGE_BACK_INSUFFICIENT_BALANCE,CHARGE_BACK_MANDATE_REVOKED,CHARGE_BACK_AMBIGUOUS_BANK_DATA,CHARGE_BACK_OBJECTION,CHARGE_BACK_OTHER,FEE_FREED_CLAWBACK_AMOUNT]-->
               <name>GENERAL_DAILY_MAX_AMOUNT</name>
               <!--type: currency - enumeration: [EUR]-->
               <value>${#TestSuite#GENERAL_DAILY_MAX_AMOUNT}</value>
               <currency>EUR</currency>
               <!--Optional:-->
               <UNLIMITED/>
            </directDebitMonetaryParameter>
            <!--Zero or more repetitions:-->
            <directDebitMonetaryParameter>
               <name>GENERAL_MONTHLY_MAX_AMOUNT</name>
               <value>${#TestSuite#GENERAL_MONTHLY_MAX_AMOUNT}</value>
               <currency>EUR</currency>
            </directDebitMonetaryParameter>
            <directDebitMonetaryParameter>
               <name>FEE_FREED_CLAWBACK_AMOUNT</name>
               <value>${#Project#FEE_FREED_CLAWBACK_AMOUNT}</value>
               <currency>EUR</currency>
            </directDebitMonetaryParameter>
            <directDebitMonetaryParameter>
               <name>MONTHLY_UNLIMITED_AMOUNT</name>
               <value>${#TestSuite#MONTHLY_UNLIMITED_AMOUNT}</value>
               <currency>EUR</currency>
            </directDebitMonetaryParameter>
            <chargeBackParameter>
               <!--type: directDebitParameterNameEnum - enumeration: [GENERAL_DAILY_MAX_AMOUNT,GENERAL_MONTHLY_MAX_AMOUNT,MONTHLY_UNLIMITED_AMOUNT,ON_DEMAND_TOPUP_LIMIT,LOW_BALANCE_THRESHOLD_TOPUP_LIMIT,CHARGE_BACK_INSUFFICIENT_BALANCE,CHARGE_BACK_MANDATE_REVOKED,CHARGE_BACK_AMBIGUOUS_BANK_DATA,CHARGE_BACK_OBJECTION,CHARGE_BACK_OTHER,FEE_FREED_CLAWBACK_AMOUNT]-->
               <name>CHARGE_BACK_INSUFFICIENT_BALANCE</name>
               <!--Optional:-->
               <SEPAReasonCodes>
                  <!--1 or more repetitions:-->
                  <!--type: string-->
                  <SEPAReasonCode/>
                  <SEPAReasonCode>${#Project#CHARGE_BACK_INSUFFICIENT_BALANCE-Code-1}</SEPAReasonCode>
                  <SEPAReasonCode>AM02</SEPAReasonCode>
                  <SEPAReasonCode>AM03</SEPAReasonCode>
                  <SEPAReasonCode>AM04</SEPAReasonCode>
                  <SEPAReasonCode>AM06</SEPAReasonCode>
                  <SEPAReasonCode>AM07</SEPAReasonCode>
                  <SEPAReasonCode>AM09</SEPAReasonCode>
                  <SEPAReasonCode>BE01</SEPAReasonCode>
                  <SEPAReasonCode>BE04</SEPAReasonCode>
                  <SEPAReasonCode>BE07</SEPAReasonCode>
                  <SEPAReasonCode>LEGL</SEPAReasonCode>
                  <SEPAReasonCode>${#Project#CHARGE_BACK_INSUFFICIENT_BALANCE-Code-2}</SEPAReasonCode>
                  <SEPAReasonCode>MD07</SEPAReasonCode>
                  <SEPAReasonCode>MS03</SEPAReasonCode>
                  <SEPAReasonCode>NARR</SEPAReasonCode>
                  <SEPAReasonCode>NOAS</SEPAReasonCode>
                  <SEPAReasonCode>RR01</SEPAReasonCode>
                  <SEPAReasonCode>RR02</SEPAReasonCode>
                  <SEPAReasonCode>RR03</SEPAReasonCode>
                  <SEPAReasonCode>RR04</SEPAReasonCode>
               </SEPAReasonCodes>
               <!--type: int-->
               <fee>${#Project#CHARGE_BACK_INSUFFICIENT_BALANCE}</fee>
               <!--Optional:-->
               <!--type: currency - enumeration: [EUR]-->
               <currency>EUR</currency>
            </chargeBackParameter>
            <chargeBackParameter>
               <name>CHARGE_BACK_MANDATE_REVOKED</name>
               <SEPAReasonCodes>
                  <SEPAReasonCode>${#Project#CHARGE_BACK_MANDATE_REVOKED-Code-1}</SEPAReasonCode>
                  <SEPAReasonCode>${#Project#CHARGE_BACK_MANDATE_REVOKED-Code-2}</SEPAReasonCode>
               </SEPAReasonCodes>
               <fee>${#Project#CHARGE_BACK_MANDATE_REVOKED}</fee>
               <currency>EUR</currency>
            </chargeBackParameter>
            <chargeBackParameter>
               <name>CHARGE_BACK_AMBIGUOUS_BANK_DATA</name>
               <SEPAReasonCodes>
                  <SEPAReasonCode>${#Project#CHARGE_BACK_AMBIGUOUS_BANK_DATA-Code-1}</SEPAReasonCode>
                  <SEPAReasonCode>AC06</SEPAReasonCode>
                  <SEPAReasonCode>AC13</SEPAReasonCode>
                  <SEPAReasonCode>AG02</SEPAReasonCode>
                  <SEPAReasonCode>AM01</SEPAReasonCode>
                  <SEPAReasonCode>AM05</SEPAReasonCode>
                  <SEPAReasonCode>AM10</SEPAReasonCode>
                  <SEPAReasonCode>ARDT</SEPAReasonCode>
                  <SEPAReasonCode>BE05</SEPAReasonCode>
                  <SEPAReasonCode>BE06</SEPAReasonCode>
                  <SEPAReasonCode>DT01</SEPAReasonCode>
                  <SEPAReasonCode>ED05</SEPAReasonCode>
                  <SEPAReasonCode>FF01</SEPAReasonCode>
                  <SEPAReasonCode>FF05</SEPAReasonCode>
                  <SEPAReasonCode>FOCR</SEPAReasonCode>
                  <SEPAReasonCode>MD03</SEPAReasonCode>
                  <SEPAReasonCode>NOOR</SEPAReasonCode>
                  <SEPAReasonCode>PY01</SEPAReasonCode>
                  <SEPAReasonCode>RC01</SEPAReasonCode>
                  <SEPAReasonCode>RF01</SEPAReasonCode>
                  <SEPAReasonCode>SL01</SEPAReasonCode>
                  <SEPAReasonCode>TM01</SEPAReasonCode>
                  <SEPAReasonCode>MD04</SEPAReasonCode>
                  <SEPAReasonCode>ED03</SEPAReasonCode>
                  <SEPAReasonCode>${#Project#CHARGE_BACK_AMBIGUOUS_BANK_DATA-Code-2}</SEPAReasonCode>
               </SEPAReasonCodes>
               <fee>${#Project#CHARGE_BACK_AMBIGUOUS_BANK_DATA}</fee>
               <currency>EUR</currency>
            </chargeBackParameter>
            <chargeBackParameter>
               <name>CHARGE_BACK_OBJECTION</name>
               <SEPAReasonCodes>
                  <SEPAReasonCode>${#Project#CHARGE_BACK_OBJECTION-Code-1}</SEPAReasonCode>
                  <SEPAReasonCode>${#Project#CHARGE_BACK_OBJECTION-Code-2}</SEPAReasonCode>
               </SEPAReasonCodes>
               <fee>${#Project#CHARGE_BACK_OBJECTION}</fee>
               <currency>EUR</currency>
            </chargeBackParameter>
            <chargeBackParameter>
               <name>CHARGE_BACK_OTHER</name>
               <SEPAReasonCodes>
                  <SEPAReasonCode>AC04</SEPAReasonCode>
               </SEPAReasonCodes>
               <fee>${#Project#CHARGE_BACK_OTHER}</fee>
               <currency>EUR</currency>
            </chargeBackParameter>
            <directDebitThresholdList>
               <!--Zero or more repetitions:-->
               <thresholdValue>
                  <!--type: int-->
                  <value>5</value>
                  <!--Optional:-->
                  <!--type: currency - enumeration: [EUR]-->
                  <currency>EUR</currency>
               </thresholdValue>
               <thresholdValue>
                  <value>10</value>
                  <currency>EUR</currency>
               </thresholdValue>
               <thresholdValue>
                  <value>15</value>
                  <currency>EUR</currency>
               </thresholdValue>
               <thresholdValue>
                  <value>20</value>
                  <currency>EUR</currency>
               </thresholdValue>
               <thresholdValue>
                  <value>25</value>
                  <currency>EUR</currency>
               </thresholdValue>
            </directDebitThresholdList>
            <!--type: validationCycleTypeEnum - enumeration: [DAILY_FIX_START_00,MONTHLY_FLEX_START_30_DAYS,MONTHLY_FIX_START_1]-->
            <monthlyValidationCycle>MONTHLY_FLEX_START_30_DAYS</monthlyValidationCycle>
         </directDebitParameters>
      </cus:updateDirectDebitParameters>
   </soapenv:Body>
</soapenv:Envelope>]]></con:request>
        <con:assertion type="SOAP Response" id="d632f660-2b08-4ba8-bce4-d288d855f0a9"/>
        <con:assertion type="Schema Compliance" id="b35dfccd-e204-4962-b17e-b3847f2063e6">
          <con:configuration/>
        </con:assertion>
        <con:assertion type="SOAP Fault Assertion" id="bb502a72-4478-4f6f-bced-2bd40634ee89"/>
        <con:credentials>
          <con:selectedAuthProfile>No Authorization</con:selectedAuthProfile>
          <con:authType>No Authorization</con:authType>
        </con:credentials>
        <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
        <con:wsaConfig mustUnderstand="NONE" version="200508"/>
        <con:wsrmConfig version="1.2"/>
        <con:environmentSpec>
          <con:entry environmentId="8bb64a40-b6a3-45c2-a26b-7f6c797dbea5">
            <con:authProfile>No Authorization</con:authProfile>
          </con:entry>
          <con:entry environmentId="ff1a32e2-ce69-4c5a-923a-710f216e83c9">
            <con:authProfile>No Authorization</con:authProfile>
          </con:entry>
          <con:entry environmentId="96753c0f-e806-4b6f-b398-e4e8dbc7bce1">
            <con:authProfile>No Authorization</con:authProfile>
          </con:entry>
          <con:entry environmentId="d4fb7d9b-be04-4609-bf0a-ed3a22d5075f">
            <con:authProfile>No Authorization</con:authProfile>
          </con:entry>
          <con:entry environmentId="e385afea-1153-4d90-83b9-3b49a724f0ea">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
        </con:environmentSpec>
      </con:request>
    </con:config>
  </con:testStep>
  <con:testStep type="jdbc" name="JDBC Request-Validate-TenantIDBrandID-FromServiceConfig" id="1907704c-e511-4068-824d-b09c0c5f92ab">
    <con:settings>
      <con:setting id="prettyPrintResponse">true</con:setting>
    </con:settings>
    <con:config xsi:type="con:JdbcRequestTestStep" convertColumnNamesToUpperCase="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
      <con:dbConnectionName>drc-db</con:dbConnectionName>
      <con:driver>${#Project#drc-db-driver}</con:driver>
      <con:connectionString>${#Project#drc-db-connString}</con:connectionString>
      <con:password/>
      <con:connectionProperties/>
      <con:query>Select *
From SERVICEPROVIDER_CONF Conf
Order By Conf.TENANT_ID, Conf.BRAND_ID</con:query>
      <con:assertion type="JDBC Status" id="38ef9203-94d3-4ce7-8711-afb393f93cf4" name="JDBC Status"/>
      <con:assertion type="XQuery Match" id="9441f20d-ce80-4e71-9cff-53bafda2cbf8" name="XQuery Match">
        <con:configuration/>
      </con:assertion>
      <con:assertion type="XPath Match" id="ac589d6b-3e39-4bdd-9a23-a3cf89db4854" name="Match content of [Row] -Tenant-1-Brand-1">
        <con:configuration>
          <path>//Results/ResultSet/Row</path>
          <content><![CDATA[<Row rowNumber="*">
  <ID>*</ID>
  <NAME>*</NAME>
  <INTERNAL_CODE>*</INTERNAL_CODE>
  <SAS_CODE>SP901</SAS_CODE>
  <ACTIVE>1</ACTIVE>
  <CREATEDATE>*</CREATEDATE>
  <CHANGEDATE>*</CHANGEDATE>
  <VOMS_CODE>*</VOMS_CODE>
  <TENANT_ID>${#Project#ChargeCustomer-1-TenantID}</TENANT_ID>
  <BRAND_ID>${#Project#ChargeCustomer-1-BrandID}</BRAND_ID>
  <MIGRATION>*</MIGRATION>
  <OCS_CODE>00</OCS_CODE>
</Row>]]></content>
          <allowWildcards>true</allowWildcards>
          <ignoreNamspaceDifferences>true</ignoreNamspaceDifferences>
          <ignoreComments>true</ignoreComments>
        </con:configuration>
      </con:assertion>
      <con:assertion type="XPath Match" id="a5690f2c-ae25-4b10-b849-8a513feda9cc" name="Match content of [Row] - Tenant-2-Brand-2">
        <con:configuration>
          <path>//Results/ResultSet/Row</path>
          <content><![CDATA[<Row rowNumber="*">
  <ID>*</ID>
  <NAME>*</NAME>
  <INTERNAL_CODE>SP912</INTERNAL_CODE>
  <SAS_CODE>SP912</SAS_CODE>
  <ACTIVE>1</ACTIVE>
  <CREATEDATE>*</CREATEDATE>
  <CHANGEDATE>*</CHANGEDATE>
  <VOMS_CODE>*</VOMS_CODE>
  <TENANT_ID>${#Project#ChargeCustomer-2-TenantID}</TENANT_ID>
  <BRAND_ID>${#Project#ChargeCustomer-2-BrandID}</BRAND_ID>
  <MIGRATION>*</MIGRATION>
  <OCS_CODE>29</OCS_CODE>
</Row>]]></content>
          <allowWildcards>true</allowWildcards>
          <ignoreNamspaceDifferences>true</ignoreNamspaceDifferences>
          <ignoreComments>true</ignoreComments>
        </con:configuration>
      </con:assertion>
      <con:properties/>
    </con:config>
  </con:testStep>
  <con:testStep type="jdbc" name="JDBC Request- AccessToDB" id="ed574965-4f06-4f38-b7f6-e80a6afe02d1">
    <con:settings>
      <con:setting id="prettyPrintResponse">true</con:setting>
    </con:settings>
    <con:config xsi:type="con:JdbcRequestTestStep" convertColumnNamesToUpperCase="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
      <con:dbConnectionName>drc-db</con:dbConnectionName>
      <con:driver>${#Project#drc-db-driver}</con:driver>
      <con:connectionString>${#Project#drc-db-connString}</con:connectionString>
      <con:password/>
      <con:connectionProperties/>
      <con:query>Select *
From ACCOUNT_PARTNER ap
join Account a on a.id=ap.account_id 
join ACCOUNT_HISTORY ah on a.id=ah.account_id
Order By a.CREATED_DATE Desc</con:query>
      <con:properties/>
    </con:config>
  </con:testStep>
  <con:testStep type="jdbc" name="JDBC Request-GetSettings" id="2357be0c-7ffc-498d-bf43-552a2a10f4d9">
    <con:settings>
      <con:setting id="prettyPrintResponse">true</con:setting>
    </con:settings>
    <con:config xsi:type="con:JdbcRequestTestStep" convertColumnNamesToUpperCase="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
      <con:dbConnectionName>drc-db</con:dbConnectionName>
      <con:driver>${#Project#drc-db-driver}</con:driver>
      <con:connectionString>${#Project#drc-db-connString}</con:connectionString>
      <con:password/>
      <con:connectionProperties/>
      <con:query>Select *
From SETTINGS
--Where ROWNUM&lt;=20
Order By SETTINGS.LAST_CHANGED_DATE Desc</con:query>
      <con:properties/>
    </con:config>
  </con:testStep>
  <con:properties/>
  <con:reportParameters/>
  <con:breakPoints>
    <con:testStepId>ed574965-4f06-4f38-b7f6-e80a6afe02d1</con:testStepId>
    <con:status>NONE</con:status>
    <con:properties/>
  </con:breakPoints>
  <con:breakPoints>
    <con:testStepId>6b10eb96-866c-40a4-a758-6828610cf401</con:testStepId>
    <con:status>NONE</con:status>
    <con:properties/>
  </con:breakPoints>
  <con:breakPoints>
    <con:testStepId>1907704c-e511-4068-824d-b09c0c5f92ab</con:testStepId>
    <con:status>NONE</con:status>
    <con:properties/>
  </con:breakPoints>
  <con:environmentSpec>
    <con:entry environmentId="e385afea-1153-4d90-83b9-3b49a724f0ea">
      <con:authProfile>Inherit From Parent</con:authProfile>
    </con:entry>
  </con:environmentSpec>
</con:testCase>
