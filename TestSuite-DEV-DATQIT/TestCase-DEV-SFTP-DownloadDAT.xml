<?xml version="1.0" encoding="UTF-8"?>
<con:testCase id="32475b0c-4d4d-4243-8f3c-c3458dc22ff2" discardOkResults="true" failOnError="false" failTestCaseOnErrors="true" keepSession="false" name="TestCase-DEV-SFTP-DownloadDAT" searchProperties="true" timeout="0" wsrmEnabled="false" wsrmVersion="1.0" wsrmAckTo="" amfAuthorisation="false" amfEndpoint="" amfLogin="" amfPassword="" maxResults="0" xmlns:con="http://eviware.com/soapui/config">
  <con:description>Copied file to target directory for bank transfer based on user stories:
User story: https://www.sg.de.o2.com/jira/browse/DRC-2498
https://www.sg.de.o2.com/jira/browse/DRC-2499</con:description>
  <con:settings>
    <con:setting id="3a36338c-603f-4112-9dd8-394f09709fa7fileName">TestCase-DEV-CopyFileToDRCviaSFTP</con:setting>
    <con:setting id="83e57bed-9b56-44fd-8050-ace0e5d30c24fileName">TestCase-DEV-CopyFileToDRCviaSFTP-BT</con:setting>
    <con:setting id="9668ee64-7aec-4dbd-841e-124d9735a83afileName">TestCase-DEV-CopyFileToDRCviaSFTP-TEF_DAT</con:setting>
    <con:setting id="32475b0c-4d4d-4243-8f3c-c3458dc22ff2fileName">TestCase-DEV-SFTP-DownloadDAT</con:setting>
  </con:settings>
  <con:savedRecentRuns>1</con:savedRecentRuns>
  <con:testStep type="request" name="GUI_getSetting-DAT-Host" id="f0855184-7468-4b91-8792-17403b1d8bc2">
    <con:settings/>
    <con:config xsi:type="con:RequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
      <con:interface>DrcGuiSoapBinding</con:interface>
      <con:operation>getSettingChildNodes</con:operation>
      <con:request name="GUI_getSetting-DAT-Host" id="4f9c02c6-07fa-485b-83f5-ae70d3e3b0da">
        <con:settings>
          <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="drc-gui-user" value="${#Project#drc-GUIService-User}" xmlns="http://eviware.com/soapui/config"/></con:setting>
        </con:settings>
        <con:encoding>UTF-8</con:encoding>
        <con:endpoint>${#Project#drc-GUIService-URL}</con:endpoint>
        <con:request><![CDATA[<soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/" xmlns:type="http://directrecharge.o2.com/ws/drcgui/v1/" xmlns:v1="http://directrecharge.o2.com/ws/common/settings/v1/">
   <soapenv:Header/>
   <soapenv:Body>
      <v1:getSettingChildNodes>
         <settingPath>
            <settingName>com.o2.directrecharge.core.settings.SettingsRootCategoryEnum.MFT_ROOT</settingName>
            <settingName>com.o2.directrecharge.adapter.mft.PaymentStandardsEnum.POS_TOPUP</settingName>
            <settingName>com.o2.directrecharge.adapter.mft.MFTSettingsEnum.HOST</settingName>
         </settingPath>
      </v1:getSettingChildNodes>
   </soapenv:Body>
</soapenv:Envelope>]]></con:request>
        <con:assertion type="SOAP Response" id="6095dc36-6354-489f-9c3f-7008d934a9a1"/>
        <con:assertion type="Schema Compliance" id="8ff4d012-227e-4d6b-996e-5f2becf7d4ab">
          <con:configuration/>
        </con:assertion>
        <con:assertion type="SOAP Fault Assertion" id="c763efec-5e2a-49f8-9170-35713589853c"/>
        <con:credentials>
          <con:selectedAuthProfile>Inherit From Parent</con:selectedAuthProfile>
          <con:authType>No Authorization</con:authType>
        </con:credentials>
        <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
        <con:wsaConfig mustUnderstand="NONE" version="200508"/>
        <con:wsrmConfig version="1.2"/>
        <con:environmentSpec>
          <con:entry environmentId="e385afea-1153-4d90-83b9-3b49a724f0ea">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
        </con:environmentSpec>
      </con:request>
    </con:config>
  </con:testStep>
  <con:testStep type="request" name="GUI_getSetting-DAT-User" id="0e15a504-b944-4cec-80c3-bb47037e07a6">
    <con:settings/>
    <con:config xsi:type="con:RequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
      <con:interface>DrcGuiSoapBinding</con:interface>
      <con:operation>getSettingChildNodes</con:operation>
      <con:request name="GUI_getSetting-DAT-User" id="4f9c02c6-07fa-485b-83f5-ae70d3e3b0da">
        <con:settings>
          <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="drc-gui-user" value="${#Project#drc-GUIService-User}" xmlns="http://eviware.com/soapui/config"/></con:setting>
        </con:settings>
        <con:encoding>UTF-8</con:encoding>
        <con:endpoint>${#Project#drc-GUIService-URL}</con:endpoint>
        <con:request><![CDATA[<soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/" xmlns:type="http://directrecharge.o2.com/ws/drcgui/v1/" xmlns:v1="http://directrecharge.o2.com/ws/common/settings/v1/">\r
   <soapenv:Header/>\r
   <soapenv:Body>\r
      <v1:getSettingChildNodes>\r
         <settingPath>\r
            <settingName>com.o2.directrecharge.core.settings.SettingsRootCategoryEnum.MFT_ROOT</settingName>\r
            <settingName>com.o2.directrecharge.adapter.mft.PaymentStandardsEnum.POS_TOPUP</settingName>\r
            <settingName>com.o2.directrecharge.adapter.mft.MFTSettingsEnum.SSH_NAME</settingName>\r
         </settingPath>\r
      </v1:getSettingChildNodes>\r
   </soapenv:Body>\r
</soapenv:Envelope>]]></con:request>
        <con:assertion type="SOAP Response" id="6095dc36-6354-489f-9c3f-7008d934a9a1"/>
        <con:assertion type="Schema Compliance" id="8ff4d012-227e-4d6b-996e-5f2becf7d4ab">
          <con:configuration/>
        </con:assertion>
        <con:assertion type="SOAP Fault Assertion" id="c763efec-5e2a-49f8-9170-35713589853c"/>
        <con:credentials>
          <con:selectedAuthProfile>Inherit From Parent</con:selectedAuthProfile>
          <con:authType>No Authorization</con:authType>
        </con:credentials>
        <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
        <con:wsaConfig mustUnderstand="NONE" version="200508"/>
        <con:wsrmConfig version="1.2"/>
        <con:environmentSpec>
          <con:entry environmentId="e385afea-1153-4d90-83b9-3b49a724f0ea">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
        </con:environmentSpec>
      </con:request>
    </con:config>
  </con:testStep>
  <con:testStep type="request" name="GUI_getSetting-DAT-Path" id="6f339344-7406-4a2f-9396-4d4587bab53e">
    <con:settings/>
    <con:config xsi:type="con:RequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
      <con:interface>DrcGuiSoapBinding</con:interface>
      <con:operation>getSettingChildNodes</con:operation>
      <con:request name="GUI_getSetting-DAT-Path" id="4f9c02c6-07fa-485b-83f5-ae70d3e3b0da">
        <con:settings>
          <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="drc-gui-user" value="${#Project#drc-GUIService-User}" xmlns="http://eviware.com/soapui/config"/></con:setting>
        </con:settings>
        <con:encoding>UTF-8</con:encoding>
        <con:endpoint>${#Project#drc-GUIService-URL}</con:endpoint>
        <con:request><![CDATA[<soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/" xmlns:type="http://directrecharge.o2.com/ws/drcgui/v1/" xmlns:v1="http://directrecharge.o2.com/ws/common/settings/v1/">\r
   <soapenv:Header/>\r
   <soapenv:Body>\r
      <v1:getSettingChildNodes>\r
         <settingPath>\r
            <settingName>com.o2.directrecharge.core.settings.SettingsRootCategoryEnum.MFT_ROOT</settingName>\r
            <settingName>com.o2.directrecharge.adapter.mft.PaymentStandardsEnum.POS_TOPUP</settingName>\r
            <settingName>com.o2.directrecharge.adapter.mft.MFTSettingsEnum.PATH_TO_DAT</settingName>\r
         </settingPath>\r
      </v1:getSettingChildNodes>\r
   </soapenv:Body>\r
</soapenv:Envelope>]]></con:request>
        <con:assertion type="SOAP Response" id="6095dc36-6354-489f-9c3f-7008d934a9a1"/>
        <con:assertion type="Schema Compliance" id="8ff4d012-227e-4d6b-996e-5f2becf7d4ab">
          <con:configuration/>
        </con:assertion>
        <con:assertion type="SOAP Fault Assertion" id="c763efec-5e2a-49f8-9170-35713589853c"/>
        <con:credentials>
          <con:selectedAuthProfile>Inherit From Parent</con:selectedAuthProfile>
          <con:authType>No Authorization</con:authType>
        </con:credentials>
        <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
        <con:wsaConfig mustUnderstand="NONE" version="200508"/>
        <con:wsrmConfig version="1.2"/>
        <con:environmentSpec>
          <con:entry environmentId="e385afea-1153-4d90-83b9-3b49a724f0ea">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
        </con:environmentSpec>
      </con:request>
    </con:config>
  </con:testStep>
  <con:testStep type="calltestcase" name="Run TestCase-CopyFileToSFTP" id="e51c86dc-65af-4921-bc8c-148fcbb0e360">
    <con:settings/>
    <con:config xsi:type="con:RunTestCaseStep" ignoreEmptyProperties="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
      <con:targetTestCase>791db6b3-a507-480d-a3b6-07ff3032ff54</con:targetTestCase>
      <con:properties>
        <con:property>
          <con:name>inFTPDomain</con:name>
          <con:value>${GUI_getSetting-DAT-Host#Response#declare namespace ns2='http://directrecharge.o2.com/ws/common/settings/v1/';
//ns2:getSettingChildNodesResponse[1]/parentEntry[1]/value[1]}</con:value>
        </con:property>
        <con:property>
          <con:name>inUser</con:name>
          <con:value>${GUI_getSetting-DAT-User#Response#declare namespace ns2='http://directrecharge.o2.com/ws/common/settings/v1/';
//ns2:getSettingChildNodesResponse[1]/parentEntry[1]/value[1]}</con:value>
        </con:property>
        <con:property>
          <con:name>inPswd</con:name>
          <con:value>${#Project#drc-sftp-password}</con:value>
        </con:property>
        <con:property>
          <con:name>inSourcePath</con:name>
          <con:value>${#TestCase#inSourcePath}</con:value>
        </con:property>
        <con:property>
          <con:name>inTargetPath</con:name>
          <con:value>${GUI_getSetting-DAT-Path#Response#declare namespace ns2='http://directrecharge.o2.com/ws/common/settings/v1/';
//ns2:getSettingChildNodesResponse[1]/parentEntry[1]/value[1]}</con:value>
        </con:property>
      </con:properties>
      <con:returnProperties/>
      <con:runMode>SINGLETON_AND_WAIT</con:runMode>
    </con:config>
  </con:testStep>
  <con:properties>
    <con:property>
      <con:name>inSourcePath</con:name>
      <con:value>/DATQIT/EPS11PROD00420221003160620.DAT</con:value>
    </con:property>
  </con:properties>
  <con:reportParameters/>
  <con:breakPoints>
    <con:testStepId>5d3cd23d-80ff-423d-a476-d6497eb5e295</con:testStepId>
    <con:status>NONE</con:status>
    <con:properties/>
  </con:breakPoints>
  <con:breakPoints>
    <con:testStepId>be31f642-592f-412e-ba3d-54e43de6b53c</con:testStepId>
    <con:status>NONE</con:status>
    <con:properties/>
  </con:breakPoints>
  <con:breakPoints>
    <con:testStepId>dfcd5f46-58fe-4a26-8a87-fcb2563274dc</con:testStepId>
    <con:status>NONE</con:status>
    <con:properties/>
  </con:breakPoints>
  <con:breakPoints>
    <con:testStepId>7a5d8b9f-4087-495c-bfd3-ed1151d826ee</con:testStepId>
    <con:status>NONE</con:status>
    <con:properties/>
  </con:breakPoints>
  <con:breakPoints>
    <con:testStepId>0e15a504-b944-4cec-80c3-bb47037e07a6</con:testStepId>
    <con:status>NONE</con:status>
    <con:properties/>
  </con:breakPoints>
  <con:breakPoints>
    <con:testStepId>6f339344-7406-4a2f-9396-4d4587bab53e</con:testStepId>
    <con:status>NONE</con:status>
    <con:properties/>
  </con:breakPoints>
  <con:breakPoints>
    <con:testStepId>e51c86dc-65af-4921-bc8c-148fcbb0e360</con:testStepId>
    <con:status>NONE</con:status>
    <con:properties/>
  </con:breakPoints>
  <con:environmentSpec>
    <con:entry environmentId="e385afea-1153-4d90-83b9-3b49a724f0ea">
      <con:authProfile>Inherit From Parent</con:authProfile>
    </con:entry>
  </con:environmentSpec>
</con:testCase>
